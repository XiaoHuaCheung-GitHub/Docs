{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"GIT \u53c2\u8003\u624b\u518c Linux \u53c2\u8003\u624b\u518c Gradle \u53c2\u8003\u624b\u518c Java \u53c2\u8003\u624b\u518c C\u8bed\u8a00 \u53c2\u8003\u624b\u518c C# \u53c2\u8003\u624b\u518c","title":"Home"},{"location":"#_1","text":"GIT \u53c2\u8003\u624b\u518c Linux \u53c2\u8003\u624b\u518c Gradle \u53c2\u8003\u624b\u518c Java \u53c2\u8003\u624b\u518c C\u8bed\u8a00 \u53c2\u8003\u624b\u518c C# \u53c2\u8003\u624b\u518c","title":""},{"location":"Language/","text":"\u5f00\u53d1\u8bed\u8a00\u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003","title":"\u5f00\u53d1\u8bed\u8a00\u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/#_1","text":"","title":"\u5f00\u53d1\u8bed\u8a00\u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/C%23-Lang/","text":"C# \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003","title":"C# \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/C%23-Lang/#c","text":"","title":"C# \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/C-Lang/","text":"C \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003","title":"C \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/C-Lang/#c","text":"","title":"C \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/Java-Lang/","text":"Java \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003","title":"Java \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Language/Java-Lang/#java","text":"","title":"Java \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Linux/","text":"Linux \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003","title":"Linux \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Linux/#linux","text":"","title":"Linux \u5b66\u4e60\u7b14\u8bb0\u548c\u53c2\u8003"},{"location":"Linux/P1-Commands/","text":"Linux\u547d\u4ee4\u53c2\u8003 find git su sudo runuser","title":"Linux\u547d\u4ee4\u53c2\u8003"},{"location":"Linux/P1-Commands/#linux","text":"find git su sudo runuser","title":"Linux\u547d\u4ee4\u53c2\u8003"},{"location":"Linux/P1-Commands/command-find/","text":"Command: FIND Description find locates files on your system. Within each directory tree specified by the given paths, it evaluates the given expression from left to right, according to the rules of precedence (see \"Operators\", below) until the outcome is known. The outcome is \"known\" when the left hand side of the expression is determined to be FALSE for AND operations, or TRUE for OR operations. At that point find moves on to the next path until all paths have been searched. find is a fundamental and extremely powerful tool for working with the files on your linux system. It can be used on its own to locate files, or in conjunction with other programs to perform operations on those files. Syntax find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression] Options The -H, -L and -P options control the treatment of symbolic links. Arguments following these are taken to be names of files or directories to be examined, up to the first argument that begins with \"-\", or the argument \"(\" or \"!\". That argument and any following arguments are taken to be the expression describing what is being searched. If no paths are given, the current directory is used. If no expression is given, the expression -print is used (but you should probably consider using -print0 instead, anyway. More information on this below). The arguments in the expression list are also referred to as \"options,\" but the five \"real\" options -H, -L, -P, -D and -O must appear before the first path name, if they are used at all. A double-dash (\"--\") can also be used to signal that any remaining arguments are not options (though ensuring that all start points begin with either \"./\" or \"/\" is generally safer if you use wildcards in the list of start points). -P Never follow symbolic links. This is the default. When find examines or prints information a file, and the file is a symbolic link, the information used will be taken from the properties of the symbolic link itself. -L Follow symbolic links. When find examines or prints information about files, the information used will be taken from the properties of the file to which the link points, not from the link itself (unless it is a broken symbolic link or find is unable to examine the file to which the link points). Use of this option implies -noleaf. If you later use the -P option, -noleaf will still be in effect. If -L is in effect and find discovers a symbolic link to a subdirectory during its search, the subdirectory pointed to by the symbolic link will be searched. When the -L option is in effect, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself (unless the symbolic link is broken). Using -L causes the -lname and -ilname predicates always to return false. -H Do not follow symbolic links, except while processing the command line arguments. When find examines or prints information about files, the information used will be taken from the properties of the symbolic link itself. The only exception to this behaviour is when a file specified on the command line is a symbolic link, and the link can be resolved. For that situation, the information used is taken from whatever the link points to (that is, the link is followed). The information about the link itself is used as a fallback if the file pointed to by the symbolic link cannot be examined. If -H is in effect and one of the paths specified on the command line is a symbolic link to a directory, the contents of that directory will be examined (though specifying -maxdepth 0 would prevent this). If more than one of -H, -L and -P is specified, each overrides the others; the last one appearing on the command line takes effect. Since it is the default, the -P option should be considered to be in effect unless either -H or -L is specified. GNU find frequently stats files during the processing of the command line itself, before any searching has begun. These options also affect how those arguments are processed. Specifically, there are a number of tests that compare files listed on the command line against a file we are currently considering. In each case, the file specified on the command line will have been examined and some of its properties will have been saved. If the named file is in fact a symbolic link, and the -P option is in effect (or if neither -H nor -L were specified), the information used for the comparison will be taken from the properties of the symbolic link. Otherwise, it will be taken from the properties of the file the link points to. If find cannot follow the link (for example because it has insufficient privileges or the link points to a nonexistent file) the properties of the link itself will be used. When the -H or -L options are in effect, any symbolic links listed as the argument of -newer will be dereferenced, and the timestamp will be taken from the file to which the symbolic link points. The same consideration applies to -newerXY, -anewer and -cnewer. The -follow option has a similar effect to -L, though it takes effect at the point where it appears (that is, if -L is not used but -follow is, any symbolic links appearing after -follow on the command line will be dereferenced, and those before it will not). -D debugoptions Print diagnostic information; this can be helpful to diagnose problems with why find is not doing what you want. The list of debug options should be comma separated. Compatibility of the debug options is not guaranteed between releases of findutils. For a complete list of valid debug options, see the output of find -D help. Valid debug options include: help Explain the debugging options. tree Show the expression tree in its original and optimised form. stat Print messages as files are examined with the stat and lstat system calls. The find program tries to minimize such calls. opt Prints diagnostic information relating to the optimisation of the expression tree; see the -O option. rates Prints a summary indicating how often each predicate succeeded or failed. -Olevel Enables query optimisation. The find program reorders tests to speed up execution while preserving the overall effect; that is, predicates with side effects are not reordered relative to each other. The optimisations performed at each optimisation level are as follows. There must not be a space in between -O and the decimal representing the optimization level. The decimals and their meanings are as follows: 0 Equivalent to optimisation level 1. 1 This is the default optimisation level and corresponds to the traditional behaviour. Expressions are reordered so that tests based only on the names of files (for example -name and -regex) are performed first. 2 Any -type or -xtype tests are performed after any tests based only on the names of files, but before any tests that require information from the inode. On many modern versions of Unix, file types are returned by readdir() and so these predicates are faster to evaluate than predicates which need to stat the file first. 3 At this optimisation level, the full cost-based query optimiser is enabled. The order of tests is modified so that cheap (i.e. fast) tests are performed first and more expensive ones are performed later, if necessary. Within each cost band, predicates are evaluated earlier or later according to whether they are likely to succeed or not. For -o, predicates that are likely to succeed are evaluated earlier, and for -a, predicates that are likely to fail are evaluated earlier. The cost-based optimiser has a fixed idea of how likely any given test is to succeed. In some cases the probability takes account of the specific nature of the test (for example, -type f is assumed to be more likely to succeed than -type c). The cost-based optimiser is currently being evaluated. If it does not actually improve the performance of find, it will be removed again. Conversely, optimisations that prove to be reliable, robust and effective may be enabled at lower optimisation levels over time. However, the default behaviour (i.e. optimisation level 1) will not be changed in the 4.3.x release series. The findutils test suite runs all the tests on find at each optimisation level and ensures that the result is the same. Expressions The expression is made up of options (which affect overall operation rather than the processing of a specific file, and always return true), tests (which return a true or false value), and actions (which have side effects and return a true or false value), all separated by operators. -and is assumed where the operator is omitted. If the expression contains no actions other than -prune, -print is performed on all files for which the expression is true. Expression Options All options always return true. Except for -daystart, -follow and -regextype, the options affect all tests, including tests specified before the option. This is because the options are processed when the command line is parsed, while the tests don't do anything until files are examined. The -daystart, -follow and -regextype options are different in this respect, and have an effect only on tests which appear later in the command line. Therefore, for clarity, it is best to place them at the beginning of the expression. A warning is issued if you don't do this. -d A synonym for -depth, for compatibility with FreeBSD, NetBSD, OpenBSD, and MacOS X. -daystart Measure times (for -amin, -atime, -cmin, -ctime, -mmin, and -mtime) from the beginning of today rather than from 24 hours ago. This option only affects tests which appear later on the command line. -depth Process each directory's contents before the directory itself. The -delete action also implies -depth. -follow This option is an older way to do the same thing as -L. It is now deprecated; you should use the -L option instead. This option dereferences symbolic links and implies -noleaf. The -follow option affects only those tests which appear after it on the command line. Unless the -H or -L option has been specified, the position of the -follow option changes the behaviour of the -newer predicate; any files listed as the argument of -newer will be dereferenced if they are symbolic links. The same consideration applies to -newerXY, -anewer and -cnewer. Similarly, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself. Using -follow causes the -lname and -ilname predicates always to return false. -help, --help Print a help message, and exit. -ignore_readdir_race Normally, find gives an error message when it cannot stat a file. If you give this option and a file is deleted between the time find reads the name of the file from the directory and the time it tries to stat the file, no error message will be issued. This also applies to paths given on the command line. This option takes effect at the time the command line is read, which means that you cannot search one part of the filesystem with this option on and part of it with this option off. -maxdepth levels Descend at most levels (a non-negative integer) levels of directories below the command line arguments. -maxdepth 0 means only apply the tests and actions to the paths specified on the command line, and do not descend into subdirectories at all. -mindepth levels Do not apply any tests or actions at levels less than levels (a non-negative integer). -mindepth 1 means process all files except the command line arguments. -mount Don't descend directories on other filesystems. An alternate name for -xdev. This option is provided for compatibility with some other versions of find. -noignore_readdir_race Turns off the effect of -ignore_readdir_race. -noleaf Do not optimize by assuming that directories contain 2 fewer subdirectories than their hard link count. This option is needed when searching filesystems that do not follow the Unix directory-link convention, such as CD-ROM or MS-DOS filesystems, or AFS volume mount points. Each directory on a normal Unix filesystem has at least 2 hard links: its name and its '.' entry. Additionally, its subdirectories (if any) each have a '..' entry linked to that directory. When find is examining a directory, after it has statted 2 fewer subdirectories than the directory's link count, it knows that the rest of the entries in the directory are non-directories ('leaf' files in the directory tree). If only the files' names need to be examined, there is no need to stat them; this gives a significant increase in search speed. If you are using a standard linux filesystem, you should not need to use this option. -regextype type Changes the regular expression syntax understood by -regex and -iregex tests which occur later on the command line. Currently-implemented types are emacs (this is the default), posix-awk, posix-basic, posix-egrep and posix-extended. If you're using a specific style of regular expression syntax, you may need to specify this option. Otherwise, it should be unnecessary. -version, --version Print the find version number and exit. -warn, -nowarn Turn warning messages on or off. These warnings apply only to the command line usage, not to any conditions that find might encounter when it searches directories. The default behaviour corresponds to -warn if standard input is a tty, and to -nowarn otherwise. -xdev Don't descend directories on other filesystems. Tests Some tests, for example -newerXY and -samefile, allow comparison between the file currently being examined and some reference file specified on the command line. When these tests are used, the interpretation of the reference file is determined by the options -H, -L and -P and any previous -follow, but the reference file is only examined once, at the time the command line is parsed. If the reference file cannot be examined (for example, the stat system call fails for it), an error message is issued, and find exits with a nonzero status. Where n is used as a numeric argument, it can be specified as: +n For greater than n. -n For less than n. n For exactly n. Tests are as follows: -amin n Returns true is a file was last accessed n minutes ago. -anewer file Returns true if a file was last accessed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the access time of the file it points to is always used. -atime n Returns true if a file was last accessed n * 24 hours ago. When find figures out how many 24-hour periods ago the file was last accessed, any fractional part is ignored, so to match -atime +1, a file has to have been accessed at least two days ago. -cmin n Returns true if a file's status was last changed n minutes ago. -cnewer file Returns true if a file's status was last changed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the status-change time of the file it points to is always used. -ctime n Returns true if a file's status was last changed n 24 hours ago. See the comments for -atime to understand how rounding affects the interpretation of file status change times. -empty Returns true if a file is empty (contains nothing) and is either a regular file or a directory. -executable Matches files that are executable and directories that are searchable (in a file name resolution sense). This takes into account access control lists and other permissions artefacts which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. Because this test is based only on the result of the access system call, there is no guarantee that a file for which this test succeeds can actually be executed. -false When used as part of an expression, -false always evaluates as false. -fstype type Returns true if a file is on a filesystem of type type. The valid filesystem types vary among different versions of Unix; an incomplete list of filesystem types that are accepted on some version of Unix or another is: ufs, 4.2, 4.3, nfs, tmp, mfs, S51K, S52K. You can use -printf with the %F directive to see the types of your filesystems. -gid n Returns true if a file's numeric group ID is n. -group gname Returns true if a file belongs to group gname (numeric group IDs are allowed). -ilname pattern Like -lname, but the match is case insensitive. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -iname pattern Like -name, but the match is case insensitive. For example, the patterns 'fo ' and 'F??' match the file names 'Foo', 'FOO', 'foo', 'fOo', etc. In these patterns, unlike file name expansion by the shell, an initial '.' can be matched by ' '. That is, find -name bar will match the file '.foobar'. Please note that you should always quote patterns, otherwise the shell will expand any wildcard characters in them. -inum n Returns true if a file has inode number n. It is normally easier to use the -samefile test instead. -ipath pattern Behaves in the same way as -iwholename. This option is deprecated, so you should no longer use it. -iregex pattern Like -regex, but the match is case-insensitive. -iwholename pattern Like -wholename, but the match is case-insensitive. -links n Returns true if a file has n links. -lname pattern Returns true if a file is a symbolic link whose contents match shell pattern pattern. The metacharacters do not treat '/' or '.' specially. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -mmin n Returns true if the file's data was last modified n minutes ago. -mtime n Returns true if a file's data was last modified n * 24 hours ago. See the -atime option to understand how rounding affects the interpretation of file modification times. -name pattern Returns true if the base of a file name (the path with the leading directories removed) matches shell pattern pattern. The metacharacters ('*', '?', and '[ ]') match a '.' at the start of the base name. To ignore a directory and the files under it, use -prune; see an example in the description of -path. Braces are not recognised as being special, despite the fact that some shells including bash imbue braces with a special meaning in shell patterns. The file name matching is performed with the use of the fnmatch library function. Don't forget to enclose the pattern in quotes to protect it from expansion by the shell. -newer file Returns true if a file was modified more recently than the file file. If file is a symbolic link and the -H option or the -L option is in effect, the modification time of the file it points to is always used. -newerXY reference Compares the timestamp of the current file with reference. The reference argument is normally the name of a file (and one of its timestamps is used for the comparison) but it may also be a string describing an absolute time. X and Y are placeholders for other letters, and these letters select which time belonging to how reference is used for the comparison. a The access time of the file reference B The birth time of the file reference c The inode status change time of reference m The modification time of the file reference t reference is interpreted directly as a time Some combinations are invalid; for example, it is invalid for X to be t. Some combinations are not implemented on all systems; for example B is not supported on all systems. If an invalid or unsupported combination of XY is specified, a fatal error results. Time specifications are interpreted as for the argument to the -d option of GNU date. If you try to use the birth time of a reference file, and the birth time cannot be determined, a fatal error message results. If you specify a test which refers to the birth time of files being examined, this test will fail for any files where the birth time is unknown. -nogroup Returns tue if no existing group corresponds to file's numeric group ID. -nouser Returns true if no existing user corresponds to file's numeric user ID. -path pattern Returns true if a file name matches shell pattern pattern. The metacharacters do not treat '/' or '.' specially; so, for example, find . -path \"./sr*sc\" will print an entry for a directory called './src/misc' (if one exists). To ignore a whole directory tree, use -prune rather than checking every file in the tree. For example, to skip the directory 'src/emacs' and all files and directories under it, and print the names of the other files found, do something like this: find . -path ./src/emacs -prune -o -print Note that the pattern match test applies to the whole file name, starting from one of the start points named on the command line. It would only make sense to use an absolute pathname here if the relevant start point is also an absolute path. This means that this command will never match anything: find bar -path /foo/bar/myfile -print The predicate -path is also supported by HP-UX find and will be in a forthcoming version of the POSIX standard. -perm mode Returns true if a file's permission bits are exactly mode (octal or symbolic). Since an exact match is required, if you want to use this form for symbolic modes, you may have to specify a rather complex mode string. For example -perm g=w will only match files which have mode 0020 (that is, ones for which group write permission is the only permission set). It is more likely that you will want to use the '/' or '-' forms, for example -perm -g=w, which matches any file with group write permission. -perm -mode Returns true if all of the permission bits of mode are set for the file. Symbolic modes are accepted in this form, and this is usually the way in which would want to use them. You must specify 'u', 'g' or 'o' if you use a symbolic mode. -perm /mode Returns true if any of the permission bits of mode are set for the file. Symbolic modes are accepted in this form. You must specify 'u', 'g' or 'o' if you use a symbolic mode. If no permission bits in mode are set, this test matches any file. -perm +mode Deprecated; this is the old way of searching for files with any of the permission bits in mode. You should use -perm /mode instead. Trying to use the '+' syntax with symbolic modes will yield unexpected results. -readable Matches files that are readable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -regex pattern Returns true if a file name matches the regular expression pattern. This is a match on the whole path, not just the file name. For example, to match a file named './fubar3', you can use the regular expression '. bar.' or '. b. 3', but not 'f. r3' (because the complete path does not begin with an f). The regular expressions understood by find are by default Emacs regular expressions, but this can be changed with the -regextype option (see above). - samefile name Returns true if a file refers to the same inode as name. When -L is in effect, this can include symbolic links. -size [-|+]n[cwbkMG] Returns true if a file uses n units of space on the disk. If preceded by a minus sign (\"-\"), matches files which use less space; if preceded by a plus sign (\"+\"), matches files which use more. The following suffixes can be used to abbreviate units: b for 512-byte blocks (this is the default if no suffix is used) c for bytes w for two-byte words k for Kilobytes (units of 1024 bytes) M for Megabytes (units of 1048576 bytes) G for Gigabytes (units of 1073741824 bytes) The size does not count indirect blocks, but it does count blocks in sparse files that are not actually allocated. You should note that the '%k' and '%b' format specifiers of -printf handle sparse files differently. The 'b' suffix always denotes 512-byte blocks and never 1 Kilobyte blocks, which is different than the behaviour of -ls. -true When used in an expression, -true always returns true. -type c Returns true if a file is of type c: b block (buffered) special files c character (unbuffered) special files d directories p named pipes (FIFOs) f regular files l symbolic links. This is never true if the -L option or the -follow option has been specified, unless the symbolic link is broken. If you want to search for symbolic links when -L is in effect, use -xtype. s sockets D doors (a Solaris file type) -uid n Returns true if a file's numeric user ID is n. -used n Returns true if a file was last accessed n days after its status was last changed. -user uname Returns true if a file is owned by user uname (numeric user IDs are allowed). -wholename pattern Functionally the same as -path. This alternative is less portable than -path, however; for greatest compliance across different types of systems, you should use -path instead. -writable Matches files that are writable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -xtype c The same as -type unless the file is a symbolic link. For symbolic links: if the -H or -P option was specified, returns true if the file is a link to a file of type c; if the -L option has been given, returns true if c is 'l'. In other words, for symbolic links, -xtype checks the type of the file that -type does not check. Actions -delete Delete matched files; returns true if removal succeeded. If the removal failed, an error message is issued. If -delete fails, find's exit status will be nonzero (when it eventually exits). Use of -delete automatically turns on the -depth option. Don't forget that the find command line is evaluated as an expression, so putting -delete first will make find try to delete everything below the starting points you specified. When testing a find command line that you later intend to use with -delete, you should explicitly specify -depth to avoid later surprises. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -exec command ; Execute command on each matched file; returns true if 0 is returned as the exit status of command. All following arguments to find are taken to be arguments to the command until a semicolon (';') is encountered. The string '{}' is replaced by the current file name being processed everywhere it occurs in the arguments to the command, not just in arguments where it is alone, as in some versions of find. Both of these constructions might need to be escaped (with a '\\') or quoted to protect them from expansion by the shell. The specified command is run once for each matched file. The command is executed in the starting directory. There are unavoidable security problems surrounding use of -exec; you should use the -execdir option instead. -exec command {} + This variant of the -exec action runs the specified command on the selected files, but the command line is built by appending each selected file name at the end; the total number of invocations of the command will be much less than the number of matched files. The command line is built in much the same way that xargs builds its command lines. Only one instance of '{}' is allowed within the command. The command is executed in the starting directory. -execdir command ; by an unpredictable order of system operations) during resolution of the paths to the matched files. As with the -exec action, the '+' form of -execdir will build a command line to process more than one matched file, but any given invocation of command will only list files that exist in the same subdirectory. If you use this option, you must ensure that your $PATH environment variable does not reference '.'; otherwise, an attacker can run any commands they like by leaving an appropriately-named file in a directory in which you will run -execdir. The same applies to having entries in $PATH that are empty or not absolute directory names. -fls file Returns true; behaves like -ls, but writes to file like -fprint. The output file is always created, even if no match is found. -fprint file Returns true; prints the full file name into file file. If file does not exist when find is run, it is created; if it does exist, it is truncated. The file names \"/dev/stdout\" and \"/dev/stderr\" are handled specially; they refer to the standard output and standard error output, respectively. The output file is always created, even if the predicate is never matched. -fprint0 file Returns true; like -print0 but writes to file like -fprint. The output file is always created, even if no match is found. -fprintf file format Returns true; like -printf, but writes to file like -fprint. The output file is always created, even if the predicate is never matched. -ls Returns true; lists current file in ls -dils format (see ls for details) on standard output. The block counts are of 1K blocks, unless the environment variable POSIXLY_CORRECT is set, in which case 512-byte blocks are used. -ok command ; Like -exec, but asks the user first. If the user agrees, find runs the command. Otherwise, it returns false. If the command is run, its standard input is redirected from /dev/null. The response to the prompt is matched against a pair of regular expressions to determine if it is an affirmative or negative response. This regular expression is obtained from the system if the 'POSIXLY_CORRECT' environment variable is set, or otherwise from find's message translations. If the system has no suitable definition, find's own definition will be used. In either case, the interpretation of the regular expression itself will be affected by the environment variables 'LC_CTYPE' (character classes) and 'LC_COLLATE' (character ranges and equivalence classes). -okdir command ; Like -execdir but asks the user first in the same way as for -ok. If the user does not agree, returns false. If the command is run, its standard input is redirected from /dev/null. -print Returns true; prints the full file name on the standard output, followed by a newline. If you are piping the output of find into another program and there is the faintest possibility that the files which you are searching for might contain a newline, then you should consider using the -print0 option instead of -print. -print0 Returns true; prints the full file name on the standard output, followed by a null character (instead of the newline character that -print uses). This allows file names that contain newlines or other types of white space to be correctly interpreted by programs that process the find output. This option corresponds to the -0 option of xargs. -printf format Returns true; prints format on the standard output, interpreting '\\' escapes and '%' directives. Field widths and precisions can be specified as with the 'printf' C function. Please note that many of the fields are printed as %s rather than %d, and this may mean that flags don't work as you might expect. This also means that the '-' flag does work (it forces fields to be left-aligned). Unlike -print, -printf does not add a newline at the end of the string. The escapes and directives are: \\a Alarm bell. \\b Backspace. \\c Stop printing using format immediately and flush the remaining output. \\f Form feed. \\n Newline. \\r Carriage return. \\t Horizontal tab. \\v Vertical tab. \\0 The ASCII NUL character. \\ A literal backslash ('\\'). \\NNN The character whose ASCII code is NNN (where NNN is an octal value). A '\\' character followed by any other character is treated as an ordinary character, so they both are printed. %% A literal percent sign. %a The file's last access time in the format returned by the C ctime function. %Ak The file's last access time in the format specified by k, which is either '@' or a directive of the C 'strftime' function. The possible values for k are listed below; some of them might not be available on all systems, due to differences in strftime between systems. Values for k can be one of the following: @ seconds since Jan. 1, 1970, 00:00 GMT, with fractional part. Time fields: H hour (00..23) I hour (01..12) k hour ( 0..23) l hour ( 1..12) M minute (00..59) p locale's AM or PM r time, 12-hour (hh:mm:ss [AP]M) S Second (00.00 .. 61.00). There is a fractional part. T time, 24-hour (hh:mm:ss) + Date and time, separated by '+', for example '2004-04-28+22:22:05.0'. This is a GNU extension. The time is given in the current timezone (which may be affected by setting the TZ environment variable). The seconds field includes a fractional part. X locale's time representation (H:M:S) Z time zone (e.g., EDT), or nothing if no time zone is determinable Date fields: a locale's abbreviated weekday name (Sun..Sat) A locale's full weekday name, variable length (Sunday..Saturday) b locale's abbreviated month name (Jan..Dec) B locale's full month name, variable length (January..December) c locale's date and time (Sat Nov 04 12:02:33 EST 1989). The format is the same as for ctime and so to preserve compatibility with that format, there is no fractional part in the seconds field. d day of month (01..31) D date (mm/dd/yy) h same as b j day of year (001..366) m month (01..12) U week number of year with Sunday as first day of week (00..53) w day of week (0..6)## W week number of year with Monday as first day of week (00..53) x locale's date representation (mm/dd/yy) y last two digits of year (00..99) Y year (1970..) %b The amount of disk space used for this file in 512-byte blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/512, but it can also be smaller if the file is a sparse file. %c File's last status change time in the format returned by the C 'ctime' function. %Ck File's last status change time in the format specified by k, which is the same as for %A. %d File's depth in the directory tree; 0 means the file is a command line argument. %D The device number on which the file exists (the st_dev field of struct stat), in decimal. %f File's name with any leading directories removed (only the last element). %F Type of the filesystem the file is on; this value can be used for -fstype. %g File's group name, or numeric group ID if the group has no name. %G File's numeric group ID. %h Leading directories of file's name (all but the last element). If the file name contains no slashes (since it is in the current directory) the %h specifier expands to \".\". %H Command line argument under which file was found. %i File's inode number (in decimal). %k The amount of disk space used for this file in 1K blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/1024, but it can also be smaller if the file is a sparse file. %l Object of symbolic link (empty string if file is not a symbolic link). %m File's permission bits (in octal). This option uses the 'traditional' numbers which most Unix implementations use, but if your particular implementation uses an unusual ordering of octal permissions bits, you will see a difference between the actual value of the file's mode and the output of %m. Normally you will want to have a leading zero on this number, and to do this, you should use the # flag (as in, for example, '%#m'). %M File's permissions (in symbolic form, as for ls). %n Number of hard links to file. %p File's name. %P File's name with the name of the command line argument under which it was found removed. %s File's size in bytes. %S File's sparseness. This is calculated as (BLOCKSIZE*st_blocks / st_size). The exact value you will get for an ordinary file of a certain length is system-dependent. However, normally sparse files will have values less than 1.0, and files which use indirect blocks may have a value that is greater than 1.0. The value used for BLOCKSIZE is system-dependent, but is usually 512 bytes. If the file size is zero, the value printed is undefined. On systems which lack support for st_blocks, a file's sparseness is assumed to be 1.0. %t File's last modification time in the format returned by the C 'ctime' function. %Tk File's last modification time in the format specified by k, which is the same as for %A. %u File's user name, or numeric user ID if the user has no name. %U File's numeric user ID. %y File's type (like in ls -l). U=unknown type (although this shouldn't happen) %Y File's type (like %y), plus follow symlinks: L=loop, N=nonexistent A '%' character followed by any other character is discarded, but the other character is printed (but don't rely on this, as further format characters may be introduced). A '%' at the end of the format argument causes undefined behaviour since there is no following character. In some locales, it may hide your door keys, while in others it may remove the final page from the novel you are reading. The %m and %d directives support the # , 0 and + flags, but the other directives do not, even if they print numbers. Numeric directives that do not support these flags include G, U, b, D, k and n. The '-' format flag is supported and changes the alignment of a field from right-justified (which is the default) to left-justified. -prune True; if the file is a directory, do not descend into it. If -depth is given, false; no effect. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -quit Exit immediately. No child processes will be left running, but no more paths specified on the command line will be processed. For example, find /tmp/foo /tmp/bar -print -quit will print only /tmp/foo. Any command lines which have been built up with -execdir ... {} + will be invoked before find exits. The exit status may or may not be zero, depending on whether an error has already occurred. Handling Unusual File Names Many of the actions of find result in the printing of data that is under the control of other users. This includes file names, sizes, modification times and so forth. File names are a potential problem since they can contain any character except '\\0' and '/'. Unusual characters in file names can do unexpected and often undesirable things to your terminal (for example, changing the settings of your function keys on some terminals). Unusual characters are handled differently by various actions, as described below: -print0, -fprint0 Always print the exact file name, unchanged, even if the output is going to a terminal. -ls, -fls Unusual characters are always escaped. White space, backslash, and double quote characters are printed using C-style escaping (for example '\\f', '\\\"'). Other unusual characters are printed using an octal escape. Other printable characters (for -ls and -fls these are the characters between octal 041 and 0176) are printed as is. -printf, -fprintf If the output is not going to a terminal, it is printed as is. Otherwise, the result depends on which directive is in use. The directives %D, %F, %g, %G, %H, %Y, and %y expand to values that are not under control of files' owners, and so are printed as is. The directives %a, %b, %c, %d, %i, %k, %m, %M, %n, %s, %t, %u and %U have values that are under the control of files' owners but which cannot be used to send arbitrary data to the terminal, and so these are printed as is. The directives %f, %h, %l, %p and %P are quoted. This quoting is performed in the same way as for GNU ls. This is not the same quoting mechanism as the one used for -ls and -fls. If you can decide what format to use for the output of find then it is normally better to use '\\0' as a terminator than to use newline, as file names can contain white space and newline characters. The setting of the 'LC_CTYPE' environment variable is used to determine which characters need to be quoted. -print, -fprint Quoting is handled in the same way as for -printf and -fprintf. If you are using find in a script or in a situation where the matched files might have arbitrary names, you should consider using -print0 instead of -print. The -ok and -okdir actions print the current file name as is. Operators The following find operators are listed in order of increasing precedence: ( expr ) Force precedence. Since parentheses are special to the shell, you will normally need to quote them. For instance, you will probably need to specify '(...)' instead of '(...)'. ! expr Returns true if expr is false. This character will also usually need protection from interpretation by the shell. -not expr Same as ! expr, but not POSIX compliant. expr1 expr2 Two expressions in a row are taken to be joined with an implied \"and\"; in other words, expr2 is not evaluated if expr1 is false. expr1 -a expr2 Same as expr1 expr2. expr1 -and expr2 Same as expr1 expr2, but not POSIX compliant. expr1 -o expr2 Boolean OR; in other words, expr2 is not evaluated if expr1 is true. expr1 -or expr2 Same as expr1 -o expr2, but not POSIX compliant. expr1 , expr2 Separating two expressions with a comma treats them as a list: both expr1 and expr2 are always evaluated. The value of expr1 is discarded in the return value; the value of the list is the value of expr2. The comma operator can be useful for searching for different types of thing, but traversing the filesystem hierarchy only once. The -fprintf action can be used to list the various matched items into different output files. Environment Variables LANG Provides a default value for the internationalization variables that are unset or null. LC_ALL If set to a non-empty string value, this variable's value overrides the values of all the other internationalization variables. LC_COLLATE The POSIX standard specifies that this variable affect the pattern matching to be used for the -name option. GNU find uses the fnmatch library function, and so support for 'LC_COLLATE' depends on the system library. This variable also affects the interpretation of the response to -ok; while the 'LC_MESSAGES' variable selects the actual pattern used to interpret the response to -ok, the interpretation of any bracket expressions in the pattern will be affected by 'LC_COLLATE'. LC_CTYPE This variable affects the treatment of character classes used in regular expressions and also with the -name test, if the system's fnmatch library function supports this. This variable also affects the interpretation of any character classes in the regular expressions used to interpret the response to the prompt issued by -ok. The 'LC_CTYPE' environment variable will also affect which characters are considered to be unprintable when file names are printed. LC_MESSAGES Determines the locale to be used for internationalised messages. If the 'POSIXLY_CORRECT' environment variable is set, this also determines the interpretation of the response to the prompt made by the -ok action. NLSPATH Determines the location of the internatDescription find locates files on your system. Within each directory tree specified by the given paths, it evaluates the given expression from left to right, according to the rules of precedence (see \"Operators\", below) until the outcome is known. The outcome is \"known\" when the left hand side of the expression is determined to be FALSE for AND operations, or TRUE for OR operations. At that point find moves on to the next path until all paths have been searched. find is a fundamental and extremely powerful tool for working with the files on your linux system. It can be used on its own to locate files, or in conjunction with other programs to perform operations on those files. Syntax find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression] Options The -H, -L and -P options control the treatment of symbolic links. Arguments following these are taken to be names of files or directories to be examined, up to the first argument that begins with \"-\", or the argument \"(\" or \"!\". That argument and any following arguments are taken to be the expression describing what is being searched. If no paths are given, the current directory is used. If no expression is given, the expression -print is used (but you should probably consider using -print0 instead, anyway. More information on this below). The arguments in the expression list are also referred to as \"options,\" but the five \"real\" options -H, -L, -P, -D and -O must appear before the first path name, if they are used at all. A double-dash (\"--\") can also be used to signal that any remaining arguments are not options (though ensuring that all start points begin with either \"./\" or \"/\" is generally safer if you use wildcards in the list of start points). -P Never follow symbolic links. This is the default. When find examines or prints information a file, and the file is a symbolic link, the information used will be taken from the properties of the symbolic link itself. -L Follow symbolic links. When find examines or prints information about files, the information used will be taken from the properties of the file to which the link points, not from the link itself (unless it is a broken symbolic link or find is unable to examine the file to which the link points). Use of this option implies -noleaf. If you later use the -P option, -noleaf will still be in effect. If -L is in effect and find discovers a symbolic link to a subdirectory during its search, the subdirectory pointed to by the symbolic link will be searched. When the -L option is in effect, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself (unless the symbolic link is broken). Using -L causes the -lname and -ilname predicates always to return false. -H Do not follow symbolic links, except while processing the command line arguments. When find examines or prints information about files, the information used will be taken from the properties of the symbolic link itself. The only exception to this behaviour is when a file specified on the command line is a symbolic link, and the link can be resolved. For that situation, the information used is taken from whatever the link points to (that is, the link is followed). The information about the link itself is used as a fallback if the file pointed to by the symbolic link cannot be examined. If -H is in effect and one of the paths specified on the command line is a symbolic link to a directory, the contents of that directory will be examined (though specifying -maxdepth 0 would prevent this). If more than one of -H, -L and -P is specified, each overrides the others; the last one appearing on the command line takes effect. Since it is the default, the -P option should be considered to be in effect unless either -H or -L is specified. GNU find frequently stats files during the processing of the command line itself, before any searching has begun. These options also affect how those arguments are processed. Specifically, there are a number of tests that compare files listed on the command line against a file we are currently considering. In each case, the file specified on the command line will have been examined and some of its properties will have been saved. If the named file is in fact a symbolic link, and the -P option is in effect (or if neither -H nor -L were specified), the information used for the comparison will be taken from the properties of the symbolic link. Otherwise, it will be taken from the properties of the file the link points to. If find cannot follow the link (for example because it has insufficient privileges or the link points to a nonexistent file) the properties of the link itself will be used. When the -H or -L options are in effect, any symbolic links listed as the argument of -newer will be dereferenced, and the timestamp will be taken from the file to which the symbolic link points. The same consideration applies to -newerXY, -anewer and -cnewer. The -follow option has a similar effect to -L, though it takes effect at the point where it appears (that is, if -L is not used but -follow is, any symbolic links appearing after -follow on the command line will be dereferenced, and those before it will not). -D debugoptions Print diagnostic information; this can be helpful to diagnose problems with why find is not doing what you want. The list of debug options should be comma separated. Compatibility of the debug options is not guaranteed between releases of findutils. For a complete list of valid debug options, see the output of find -D help. Valid debug options include: help Explain the debugging options. tree Show the expression tree in its original and optimised form. stat Print messages as files are examined with the stat and lstat system calls. The find program tries to minimize such calls. opt Prints diagnostic information relating to the optimisation of the expression tree; see the -O option. rates Prints a summary indicating how often each predicate succeeded or failed. -Olevel Enables query optimisation. The find program reorders tests to speed up execution while preserving the overall effect; that is, predicates with side effects are not reordered relative to each other. The optimisations performed at each optimisation level are as follows. There must not be a space in between -O and the decimal representing the optimization level. The decimals and their meanings are as follows: 0 Equivalent to optimisation level 1. 1 This is the default optimisation level and corresponds to the traditional behaviour. Expressions are reordered so that tests based only on the names of files (for example -name and -regex) are performed first. 2 Any -type or -xtype tests are performed after any tests based only on the names of files, but before any tests that require information from the inode. On many modern versions of Unix, file types are returned by readdir() and so these predicates are faster to evaluate than predicates which need to stat the file first. 3 At this optimisation level, the full cost-based query optimiser is enabled. The order of tests is modified so that cheap (i.e. fast) tests are performed first and more expensive ones are performed later, if necessary. Within each cost band, predicates are evaluated earlier or later according to whether they are likely to succeed or not. For -o, predicates that are likely to succeed are evaluated earlier, and for -a, predicates that are likely to fail are evaluated earlier. The cost-based optimiser has a fixed idea of how likely any given test is to succeed. In some cases the probability takes account of the specific nature of the test (for example, -type f is assumed to be more likely to succeed than -type c). The cost-based optimiser is currently being evaluated. If it does not actually improve the performance of find, it will be removed again. Conversely, optimisations that prove to be reliable, robust and effective may be enabled at lower optimisation levels over time. However, the default behaviour (i.e. optimisation level 1) will not be changed in the 4.3.x release series. The findutils test suite runs all the tests on find at each optimisation level and ensures that the result is the same. Expressions The expression is made up of options (which affect overall operation rather than the processing of a specific file, and always return true), tests (which return a true or false value), and actions (which have side effects and return a true or false value), all separated by operators. -and is assumed where the operator is omitted. If the expression contains no actions other than -prune, -print is performed on all files for which the expression is true. Expression Options All options always return true. Except for -daystart, -follow and -regextype, the options affect all tests, including tests specified before the option. This is because the options are processed when the command line is parsed, while the tests don't do anything until files are examined. The -daystart, -follow and -regextype options are different in this respect, and have an effect only on tests which appear later in the command line. Therefore, for clarity, it is best to place them at the beginning of the expression. A warning is issued if you don't do this. -d A synonym for -depth, for compatibility with FreeBSD, NetBSD, OpenBSD, and MacOS X. -daystart Measure times (for -amin, -atime, -cmin, -ctime, -mmin, and -mtime) from the beginning of today rather than from 24 hours ago. This option only affects tests which appear later on the command line. -depth Process each directory's contents before the directory itself. The -delete action also implies -depth. -follow This option is an older way to do the same thing as -L. It is now deprecated; you should use the -L option instead. This option dereferences symbolic links and implies -noleaf. The -follow option affects only those tests which appear after it on the command line. Unless the -H or -L option has been specified, the position of the -follow option changes the behaviour of the -newer predicate; any files listed as the argument of -newer will be dereferenced if they are symbolic links. The same consideration applies to -newerXY, -anewer and -cnewer. Similarly, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself. Using -follow causes the -lname and -ilname predicates always to return false. -help, --help Print a help message, and exit. -ignore_readdir_race Normally, find gives an error message when it cannot stat a file. If you give this option and a file is deleted between the time find reads the name of the file from the directory and the time it tries to stat the file, no error message will be issued. This also applies to paths given on the command line. This option takes effect at the time the command line is read, which means that you cannot search one part of the filesystem with this option on and part of it with this option off. -maxdepth levels Descend at most levels (a non-negative integer) levels of directories below the command line arguments. -maxdepth 0 means only apply the tests and actions to the paths specified on the command line, and do not descend into subdirectories at all. -mindepth levels Do not apply any tests or actions at levels less than levels (a non-negative integer). -mindepth 1 means process all files except the command line arguments. -mount Don't descend directories on other filesystems. An alternate name for -xdev. This option is provided for compatibility with some other versions of find. -noignore_readdir_race Turns off the effect of -ignore_readdir_race. -noleaf Do not optimize by assuming that directories contain 2 fewer subdirectories than their hard link count. This option is needed when searching filesystems that do not follow the Unix directory-link convention, such as CD-ROM or MS-DOS filesystems, or AFS volume mount points. Each directory on a normal Unix filesystem has at least 2 hard links: its name and its '.' entry. Additionally, its subdirectories (if any) each have a '..' entry linked to that directory. When find is examining a directory, after it has statted 2 fewer subdirectories than the directory's link count, it knows that the rest of the entries in the directory are non-directories ('leaf' files in the directory tree). If only the files' names need to be examined, there is no need to stat them; this gives a significant increase in search speed. If you are using a standard linux filesystem, you should not need to use this option. -regextype type Changes the regular expression syntax understood by -regex and -iregex tests which occur later on the command line. Currently-implemented types are emacs (this is the default), posix-awk, posix-basic, posix-egrep and posix-extended. If you're using a specific style of regular expression syntax, you may need to specify this option. Otherwise, it should be unnecessary. -version, --version Print the find version number and exit. -warn, -nowarn Turn warning messages on or off. These warnings apply only to the command line usage, not to any conditions that find might encounter when it searches directories. The default behaviour corresponds to -warn if standard input is a tty, and to -nowarn otherwise. -xdev Don't descend directories on other filesystems. Tests Some tests, for example -newerXY and -samefile, allow comparison between the file currently being examined and some reference file specified on the command line. When these tests are used, the interpretation of the reference file is determined by the options -H, -L and -P and any previous -follow, but the reference file is only examined once, at the time the command line is parsed. If the reference file cannot be examined (for example, the stat system call fails for it), an error message is issued, and find exits with a nonzero status. Where n is used as a numeric argument, it can be specified as: +n For greater than n. -n For less than n. n For exactly n. Tests are as follows: -amin n Returns true is a file was last accessed n minutes ago. -anewer file Returns true if a file was last accessed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the access time of the file it points to is always used. -atime n Returns true if a file was last accessed n * 24 hours ago. When find figures out how many 24-hour periods ago the file was last accessed, any fractional part is ignored, so to match -atime +1, a file has to have been accessed at least two days ago. -cmin n Returns true if a file's status was last changed n minutes ago. -cnewer file Returns true if a file's status was last changed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the status-change time of the file it points to is always used. -ctime n Returns true if a file's status was last changed n 24 hours ago. See the comments for -atime to understand how rounding affects the interpretation of file status change times. -empty Returns true if a file is empty (contains nothing) and is either a regular file or a directory. -executable Matches files that are executable and directories that are searchable (in a file name resolution sense). This takes into account access control lists and other permissions artefacts which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. Because this test is based only on the result of the access system call, there is no guarantee that a file for which this test succeeds can actually be executed. -false When used as part of an expression, -false always evaluates as false. -fstype type Returns true if a file is on a filesystem of type type. The valid filesystem types vary among different versions of Unix; an incomplete list of filesystem types that are accepted on some version of Unix or another is: ufs, 4.2, 4.3, nfs, tmp, mfs, S51K, S52K. You can use -printf with the %F directive to see the types of your filesystems. -gid n Returns true if a file's numeric group ID is n. -group gname Returns true if a file belongs to group gname (numeric group IDs are allowed). -ilname pattern Like -lname, but the match is case insensitive. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -iname pattern Like -name, but the match is case insensitive. For example, the patterns 'fo ' and 'F??' match the file names 'Foo', 'FOO', 'foo', 'fOo', etc. In these patterns, unlike file name expansion by the shell, an initial '.' can be matched by ' '. That is, find -name bar will match the file '.foobar'. Please note that you should always quote patterns, otherwise the shell will expand any wildcard characters in them. -inum n Returns true if a file has inode number n. It is normally easier to use the -samefile test instead. -ipath pattern Behaves in the same way as -iwholename. This option is deprecated, so you should no longer use it. -iregex pattern Like -regex, but the match is case-insensitive. -iwholename pattern Like -wholename, but the match is case-insensitive. -links n Returns true if a file has n links. -lname pattern Returns true if a file is a symbolic link whose contents match shell pattern pattern. The metacharacters do not treat '/' or '.' specially. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -mmin n Returns true if the file's data was last modified n minutes ago. -mtime n Returns true if a file's data was last modified n * 24 hours ago. See the -atime option to understand how rounding affects the interpretation of file modification times. -name pattern Returns true if the base of a file name (the path with the leading directories removed) matches shell pattern pattern. The metacharacters ('*', '?', and '[ ]') match a '.' at the start of the base name. To ignore a directory and the files under it, use -prune; see an example in the description of -path. Braces are not recognised as being special, despite the fact that some shells including bash imbue braces with a special meaning in shell patterns. The file name matching is performed with the use of the fnmatch library function. Don't forget to enclose the pattern in quotes to protect it from expansion by the shell. -newer file Returns true if a file was modified more recently than the file file. If file is a symbolic link and the -H option or the -L option is in effect, the modification time of the file it points to is always used. -newerXY reference Compares the timestamp of the current file with reference. The reference argument is normally the name of a file (and one of its timestamps is used for the comparison) but it may also be a string describing an absolute time. X and Y are placeholders for other letters, and these letters select which time belonging to how reference is used for the comparison. a The access time of the file reference B The birth time of the file reference c The inode status change time of reference m The modification time of the file reference t reference is interpreted directly as a time Some combinations are invalid; for example, it is invalid for X to be t. Some combinations are not implemented on all systems; for example B is not supported on all systems. If an invalid or unsupported combination of XY is specified, a fatal error results. Time specifications are interpreted as for the argument to the -d option of GNU date. If you try to use the birth time of a reference file, and the birth time cannot be determined, a fatal error message results. If you specify a test which refers to the birth time of files being examined, this test will fail for any files where the birth time is unknown. -nogroup Returns tue if no existing group corresponds to file's numeric group ID. -nouser Returns true if no existing user corresponds to file's numeric user ID. -path pattern Returns true if a file name matches shell pattern pattern. The metacharacters do not treat '/' or '.' specially; so, for example, find . -path \"./sr*sc\" will print an entry for a directory called './src/misc' (if one exists). To ignore a whole directory tree, use -prune rather than checking every file in the tree. For example, to skip the directory 'src/emacs' and all files and directories under it, and print the names of the other files found, do something like this: find . -path ./src/emacs -prune -o -print Note that the pattern match test applies to the whole file name, starting from one of the start points named on the command line. It would only make sense to use an absolute pathname here if the relevant start point is also an absolute path. This means that this command will never match anything: find bar -path /foo/bar/myfile -print The predicate -path is also supported by HP-UX find and will be in a forthcoming version of the POSIX standard. -perm mode Returns true if a file's permission bits are exactly mode (octal or symbolic). Since an exact match is required, if you want to use this form for symbolic modes, you may have to specify a rather complex mode string. For example -perm g=w will only match files which have mode 0020 (that is, ones for which group write permission is the only permission set). It is more likely that you will want to use the '/' or '-' forms, for example -perm -g=w, which matches any file with group write permission. -perm -mode Returns true if all of the permission bits of mode are set for the file. Symbolic modes are accepted in this form, and this is usually the way in which would want to use them. You must specify 'u', 'g' or 'o' if you use a symbolic mode. -perm /mode Returns true if any of the permission bits of mode are set for the file. Symbolic modes are accepted in this form. You must specify 'u', 'g' or 'o' if you use a symbolic mode. If no permission bits in mode are set, this test matches any file. -perm +mode Deprecated; this is the old way of searching for files with any of the permission bits in mode. You should use -perm /mode instead. Trying to use the '+' syntax with symbolic modes will yield unexpected results. -readable Matches files that are readable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -regex pattern Returns true if a file name matches the regular expression pattern. This is a match on the whole path, not just the file name. For example, to match a file named './fubar3', you can use the regular expression '. bar.' or '. b. 3', but not 'f. r3' (because the complete path does not begin with an f). The regular expressions understood by find are by default Emacs regular expressions, but this can be changed with the -regextype option (see above). - samefile name Returns true if a file refers to the same inode as name. When -L is in effect, this can include symbolic links. -size [-|+]n[cwbkMG] Returns true if a file uses n units of space on the disk. If preceded by a minus sign (\"-\"), matches files which use less space; if preceded by a plus sign (\"+\"), matches files which use more. The following suffixes can be used to abbreviate units: b for 512-byte blocks (this is the default if no suffix is used) c for bytes w for two-byte words k for Kilobytes (units of 1024 bytes) M for Megabytes (units of 1048576 bytes) G for Gigabytes (units of 1073741824 bytes) The size does not count indirect blocks, but it does count blocks in sparse files that are not actually allocated. You should note that the '%k' and '%b' format specifiers of -printf handle sparse files differently. The 'b' suffix always denotes 512-byte blocks and never 1 Kilobyte blocks, which is different than the behaviour of -ls. -true When used in an expression, -true always returns true. -type c Returns true if a file is of type c: b block (buffered) special files c character (unbuffered) special files d directories p named pipes (FIFOs) f regular files l symbolic links. This is never true if the -L option or the -follow option has been specified, unless the symbolic link is broken. If you want to search for symbolic links when -L is in effect, use -xtype. s sockets D doors (a Solaris file type) -uid n Returns true if a file's numeric user ID is n. -used n Returns true if a file was last accessed n days after its status was last changed. -user uname Returns true if a file is owned by user uname (numeric user IDs are allowed). -wholename pattern Functionally the same as -path. This alternative is less portable than -path, however; for greatest compliance across different types of systems, you should use -path instead. -writable Matches files that are writable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -xtype c The same as -type unless the file is a symbolic link. For symbolic links: if the -H or -P option was specified, returns true if the file is a link to a file of type c; if the -L option has been given, returns true if c is 'l'. In other words, for symbolic links, -xtype checks the type of the file that -type does not check. Actions -delete Delete matched files; returns true if removal succeeded. If the removal failed, an error message is issued. If -delete fails, find's exit status will be nonzero (when it eventually exits). Use of -delete automatically turns on the -depth option. Don't forget that the find command line is evaluated as an expression, so putting -delete first will make find try to delete everything below the starting points you specified. When testing a find command line that you later intend to use with -delete, you should explicitly specify -depth to avoid later surprises. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -exec command ; Execute command on each matched file; returns true if 0 is returned as the exit status of command. All following arguments to find are taken to be arguments to the command until a semicolon (';') is encountered. The string '{}' is replaced by the current file name being processed everywhere it occurs in the arguments to the command, not just in arguments where it is alone, as in some versions of find. Both of these constructions might need to be escaped (with a '\\') or quoted to protect them from expansion by the shell. The specified command is run once for each matched file. The command is executed in the starting directory. There are unavoidable security problems surrounding use of -exec; you should use the -execdir option instead. -exec command {} + This variant of the -exec action runs the specified command on the selected files, but the command line is built by appending each selected file name at the end; the total number of invocations of the command will be much less than the number of matched files. The command line is built in much the same way that xargs builds its command lines. Only one instance of '{}' is allowed within the command. The command is executed in the starting directory. -execdir command ; -execdir command {} + Like -exec, but the specified command is run from the subdirectory containing the matched file, which is not normally the directory in which you started find. This a much more secure method for invoking commands, as it avoids \"race conditions\" (where the behavior is determined by an unpredictable order of system operations) during resolution of the paths to the matched files. As with the -exec action, the '+' form of -execdir will build a command line to process more than one matched file, but any given invocation of command will only list files that exist in the same subdirectory. If you use this option, you must ensure that your $PATH environment variable does not reference '.'; otherwise, an attacker can run any commands they like by leaving an appropriately-named file in a directory in which you will run -execdir. The same applies to having entries in $PATH that are empty or not absolute directory names. -fls file Returns true; behaves like -ls, but writes to file like -fprint. The output file is always created, even if no match is found. -fprint file Returns true; prints the full file name into file file. If file does not exist when find is run, it is created; if it does exist, it is truncated. The file names \"/dev/stdout\" and \"/dev/stderr\" are handled specially; they refer to the standard output and standard error output, respectively. The output file is always created, even if the predicate is never matched. -fprint0 file Returns true; like -print0 but writes to file like -fprint. The output file is always created, even if no match is found. -fprintf file format Returns true; like -printf, but writ ionalisation message catalogues. PATH Affects the directories that are searched to find the executables invoked by -exec, -execdir, -ok and -okdir. POSIXLY_CORRECT Determines the block size used by -ls and -fls. If POSIXLY_CORRECT is set, blocks are units of 512 bytes. Otherwise, they are units of 1024 bytes. Setting this variable also turns off warning messages (that is, implies -nowarn) by default, because POSIX requires that apart from the output for -ok, all messages printed on stderr are diagnostics and must result in a non-zero exit status. When POSIXLY_CORRECT is not set, -perm +zzz is treated just like -perm /zzz if +zzz is not a valid symbolic mode. When POSIXLY_CORRECT is set, such constructs are treated as an error. When POSIXLY_CORRECT is set, the response to the prompt made by the -ok action is interpreted according to the system's message catalogue, as opposed to according to find's own message translations. TZ Affects the time zone used for some of the time-related format directives of -printf and -fprintf. Examples find When using linux, running the find command without any options will locate and print a list of every file in and beneath the current directory. This includes all files in all subdirectories of the current directory. find . Same as the above command. The \".\" explicitly tells find that you want the search to begin in the current directory. find . /home/jeff /home/stacy Locate and print all files and directories in and beneath three different starting directories: the current directory, /home/jeff, and /home/stacy. find /usr/bin /usr/lib -name ' zip ' Locate and print all files and directories in and beneath either of the directories /usr/bin and /usr/lib which contains the text \"zip\" anywhere in the file or directory name. find /home/jeff/fruit | grep 'apple' This command tells find to locate and print a complete list of all files in and beneath the directory /home/jeff/fruit, and to pipe this listing to grep, which filters out any file name which does not contain the text \"apple\". find . -name 'apple' Locate and print a list of any file in or below the current directory whose name is exactly \"apple\", all lower case letters. find . -iname 'apple' Locate and print a list of any file in or below the current directory whose name is \"apple\", but match the letters case-insensitively. Therefore, files or directories named \"Apple\", \"ApplE\", and \"ApPLe\" will all be listed by this command. find . -name 'apple' -type f Locate and print a list of files in or below the current directory whose name is \"apple\"; do not display directories, sockets, or other non-regular file types. find . -name 'apple' -type d Locate a print a list of directories in or below the current directory whose name is \"apple\"; do not display regular files, or file types other than directory entries. find . -group dev Locate and print a list of any file in or below the current directory whose owning group is the dev group. find . -L Locate and print a list of any file in or below the current directory, and follow symbolic links. In other words, display information about the file a symbolic link links to, rather than information about the symlink itself. find . -atime +1 Locate and print a list of any file in or below the current directory that was last accessed more than 1 day ago. find . -atime -1 Locate and print a list of any file in or below the current directory that was last accessed less than 1 day ago. find . -amin +5 Locate and print a list of any file in or below the current directory that was modified more than 5 minutes ago. find . -amin -5 Locate and print a list of any file in or below the current directory that was modified fewer than 5 minutes ago. find . -perm 754 Locate and print a list of any file in or below the current directory whose octal permission bits are 755 (user can read, write, and execute; owning group members can read and execute; others can read only). For more information about permission bits, see chmod. find . -perm u=rwx,g=rx,o=r Same as the above command, but uses a symbolic representation of the permission bits. Note that the symbolic notation uses a comma separator and contains no spaces. find . -size +1M -type f Locate and print a list of any regular file in or below the current directory whose size is greater than 1 megabyte. find . -size -5G -type f Locate and print a list of any regular file in or below the current directory whose size is less than 5 gigabytes. find . -user jeff Locate and print a list of any file or directory in or below the current directory owned by the user jeff. find . -size +1G -exec mv '{}' ~/bigfiles \\; Locate any files in or below the current directory whose size is greater than 1 gigabyte, and execute the mv command on them, moving them into the directory bigfiles in your home directory. The {} indicates where in the command the name of the matched file should be placed; it must be enclosed in quotes to protect it from being misinterpreted by the shell. Similarly, the semicolon which ends the command must be escaped with a backslash (\"\\;\"). find . -size +1G -print0 | xargs -0 -I '{}' mv '{}' ~/bigfiles Locate any files in or below the current directory whose size is greater than 1 gigabyte, then pipe that list to the xargs command, which uses the mv command to move each one of those files into the directory bigfiles in your home directory. This is similar to the above command, but better for several reasons. First, it uses the -print0 option to tell find to create its list separating each file name with a null character rather than a newline; this makes the list difficult for a human to read, but has the advantage of making it easier for another program to parse. You should always use -print0 when piping output to xargs. Using xargs to execute commands on every file found is generally better than using find's -exec option because of the more efficient way xargs threads each command that it spawns. The -0 argument to xargs tells it to expect the null character as the file name separator (which we specified with find's -print0 option). The -I '{}' option tells xargs to replace \"{}\" with the name of each file it finds. We then form our command using {} where we want the file name to appear. We enclose it in single quotes to protect it from the shell. xargs does not expect a semicolon at the end of the command, unlike find -exec, so it is not included in this command. find . -size +1G -ok mv '{}' ~/bigfiles \\; Using -ok is the same as using -exec, but you will be asked for confirmation before each command is executed. find . -name ' .jpg' -o -name ' .gif' Locate any files in or below the current directory whose suffix is \".jpg\" or \".gif\". The -o option functions as a boolean OR operator; if either of the conditions are true, the file will be included in the list. find . -maxdepth 2 -name '*.jpg' Locate any files in or below the current directory whose suffix is \".jpg\", but limit subdirectory traversal to 2 levels beneath the current directory. Any subdirectories 3 or more levels deep will not be searched. find . ! -name '*.jpg' Locate any files in or below the current directory whose suffix is not \".jpg\". The exclamation mark (\"!\") functions as a boolean NOT operator; it lists only files for which the condition is false. find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f Find files named core in or below the directory /tmp and delete them. The -name test comes before the -type test to avoid having to call stat on every file. find $HOME -mtime 0 Search for files in your home directory which have been modified in the last twenty-four hours. This command works this way because the time since each file was last modified is divided by 24 hours and any remainder is discarded. That means that to match -mtime 0, a file will have to have a modification in the past that is less than 24 hours ago. find /sbin /usr/sbin -executable ! -readable Search for files in your superuser binary directories, /sbin and /usr/sbin, which are executable but not readable. Suppressing Error Messages When Using find One last tip for using find: you will receive an error message if find encounters a file or directory you don't have access to view. The error message will look like this: find: `./tmp/sysfile-PKdhtXMmr18n': Permission denied You might not want these messages in your output; they can make it difficult to parse your actual find results. For these examples, we'll assume you're using bash as your shell, which is the default under linux. Let's say your command is this simple one: find . If the results of this command are giving you \"Permission denied\" errors, the simplest way to filter them out is to send them all to /dev/null, which is the device on linux which points to nowhere. Your command would look like this: find . 2>/dev/null Here, 2> is a special operator in bash which means \"redirect standard error\". This will effectively hide all error messages from find's output. You might not want to hide every error message, though. What if there's another error of some kind? You don't want to suppress those messages too. In that case, you can use this command instead: find . 2>&1 | grep -v 'Permission denied' Here, 2> tells bash to redirect standard error, and &1 tells it to use standard output as the destination. This redirects all error messages issued by find to standard output; this will look the same on your terminal screen, but by merging them with standard output, we have made them filterable by grep. So we then pipe the output of find to grep, which matches the inverse (-v) of our string, 'Permission denied'. The result is that it displays any line which does not contain that string. This allows you to view your results without any pesky \"Permission denied\" error messages.es to file like -fprint. The output file is always created, even if the predicate is never matched. -ls Returns true; lists current file in ls -dils format (see ls for details) on standard output. The block counts are of 1K blocks, unless the environment variable POSIXLY_CORRECT is set, in which case 512-byte blocks are used. -ok command ; Like -exec, but asks the user first. If the user agrees, find runs the command. Otherwise, it returns false. If the command is run, its standard input is redirected from /dev/null. The response to the prompt is matched against a pair of regular expressions to determine if it is an affirmative or negative response. This regular expression is obtained from the system if the 'POSIXLY_CORRECT' environment variable is set, or otherwise from find's message translations. If the system has no suitable definition, find's own definition will be used. In either case, the interpretation of the regular expression itself will be affected by the environment variables 'LC_CTYPE' (character classes) and 'LC_COLLATE' (character ranges and equivalence classes). -okdir command ; Like -execdir but asks the user first in the same way as for -ok. If the user does not agree, returns false. If the command is run, its standard input is redirected from /dev/null. -print Returns true; prints the full file name on the standard output, followed by a newline. If you are piping the output of find into another program and there is the faintest possibility that the files which you are searching for might contain a newline, then you should consider using the -print0 option instead of -print. -print0 Returns true; prints the full file name on the standard output, followed by a null character (instead of the newline character that -print uses). This allows file names that contain newlines or other types of white space to be correctly interpreted by programs that process the find output. This option corresponds to the -0 option of xargs. -printf format Returns true; prints format on the standard output, interpreting '\\' escapes and '%' directives. Field widths and precisions can be specified as with the 'printf' C function. Please note that many of the fields are printed as %s rather than %d, and this may mean that flags don't work as you might expect. This also means that the '-' flag does work (it forces fields to be left-aligned). Unlike -print, -printf does not add a newline at the end of the string. The escapes and directives are: \\a Alarm bell. \\b Backspace. \\c Stop printing using format immediately and flush the remaining output. \\f Form feed. \\n Newline. \\r Carriage return. \\t Horizontal tab. \\v Vertical tab. \\0 The ASCII NUL character. \\ A literal backslash ('\\'). \\NNN The character whose ASCII code is NNN (where NNN is an octal value). A '\\' character followed by any other character is treated as an ordinary character, so they both are printed. %% A literal percent sign. %a The file's last access time in the format returned by the C ctime function. %Ak The file's last access time in the format specified by k, which is either '@' or a directive of the C 'strftime' function. The possible values for k are listed below; some of them might not be available on all systems, due to differences in strftime between systems. Values for k can be one of the following: @ seconds since Jan. 1, 1970, 00:00 GMT, with fractional part. Time fields: H hour (00..23) I hour (01..12) k hour ( 0..23) l hour ( 1..12) M minute (00..59) p locale's AM or PM r time, 12-hour (hh:mm:ss [AP]M) S Second (00.00 .. 61.00). There is a fractional part. T time, 24-hour (hh:mm:ss) + Date and time, separated by '+', for example '2004-04-28+22:22:05.0'. This is a GNU extension. The time is given in the current timezone (which may be affected by setting the TZ environment variable). The seconds field includes a fractional part. X locale's time representation (H:M:S) Z time zone (e.g., EDT), or nothing if no time zone is determinable Date fields: a locale's abbreviated weekday name (Sun..Sat) A locale's full weekday name, variable length (Sunday..Saturday) b locale's abbreviated month name (Jan..Dec) B locale's full month name, variable length (January..December) c locale's date and time (Sat Nov 04 12:02:33 EST 1989). The format is the same as for ctime and so to preserve compatibility with that format, there is no fractional part in the seconds field. d day of month (01..31) D date (mm/dd/yy) h same as b j day of year (001..366) m month (01..12) U week number of year with Sunday as first day of week (00..53) w day of week (0..6) W week number of year with Monday as first day of week (00..53) x locale's date representation (mm/dd/yy) y last two digits of year (00..99) Y year (1970..) %b The amount of disk space used for this file in 512-byte blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/512, but it can also be smaller if the file is a sparse file. %c File's last status change time in the format returned by the C 'ctime' function. %Ck File's last status change time in the format specified by k, which is the same as for %A. %d File's depth in the directory tree; 0 means the file is a command line argument. %D The device number on which the file exists (the st_dev field of struct stat), in decimal. %f File's name with any leading directories removed (only the last element). %F Type of the filesystem the file is on; this value can be used for -fstype. %g File's group name, or numeric group ID if the group has no name. %G File's numeric group ID. %h Leading directories of file's name (all but the last element). If the file name contains no slashes (since it is in the current directory) the %h specifier expands to \".\". %H Command line argument under which file was found. %i File's inode number (in decimal). %k The amount of disk space used for this file in 1K blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/1024, but it can also be smaller if the file is a sparse file. %l Object of symbolic link (empty string if file is not a symbolic link). %m File's permission bits (in octal). This option uses the 'traditional' numbers which most Unix implementations use, but if your particular implementation uses an unusual ordering of octal permissions bits, you will see a difference between the actual value of the file's mode and the output of %m. Normally you will want to have a leading zero on this number, and to do this, you should use the # flag (as in, for example, '%#m'). %M File's permissions (in symbolic form, as for ls). %n Number of hard links to file. %p File's name. %P File's name with the name of the command line argument under which it was found removed. %s File's size in bytes. %S File's sparseness. This is calculated as (BLOCKSIZE*st_blocks / st_size). The exact value you will get for an ordinary file of a certain length is system-dependent. However, normally sparse files will have values less than 1.0, and files which use indirect blocks may have a value that is greater than 1.0. The value used for BLOCKSIZE is system-dependent, but is usually 512 bytes. If the file size is zero, the value printed is undefined. On systems which lack support for st_blocks, a file's sparseness is assumed to be 1.0. %t File's last modification time in the format returned by the C 'ctime' function. %Tk File's last modification time in the format specified by k, which is the same as for %A. %u File's user name, or numeric user ID if the user has no name. %U File's numeric user ID. %y File's type (like in ls -l). U=unknown type (although this shouldn't happen) %Y File's type (like %y), plus follow symlinks: L=loop, N=nonexistent A '%' character followed by any other character is discarded, but the other character is printed (but don't rely on this, as further format characters may be introduced). A '%' at the end of the format argument causes undefined behaviour since there is no following character. In some locales, it may hide your door keys, while in others it may remove the final page from the novel you are reading. The %m and %d directives support the # , 0 and + flags, but the other directives do not, even if they print numbers. Numeric directives that do not support these flags include G, U, b, D, k and n. The '-' format flag is supported and changes the alignment of a field from right-justified (which is the default) to left-justified. -prune True; if the file is a directory, do not descend into it. If -depth is given, false; no effect. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -quit Exit immediately. No child processes will be left running, but no more paths specified on the command line will be processed. For example, find /tmp/foo /tmp/bar -print -quit will print only /tmp/foo. Any command lines which have been built up with -execdir ... {} + will be invoked before find exits. The exit status may or may not be zero, depending on whether an error has already occurred. Handling Unusual File Names Many of the actions of find result in the printing of data that is under the control of other users. This includes file names, sizes, modification times and so forth. File names are a potential problem since they can contain any character except '\\0' and '/'. Unusual characters in file names can do unexpected and often undesirable things to your terminal (for example, changing the settings of your function keys on some terminals). Unusual characters are handled differently by various actions, as described below: -print0, -fprint0 Always print the exact file name, unchanged, even if the output is going to a terminal. -ls, -fls Unusual characters are always escaped. White space, backslash, and double quote characters are printed using C-style escaping (for example '\\f', '\\\"'). Other unusual characters are printed using an octal escape. Other printable characters (for -ls and -fls these are the characters between octal 041 and 0176) are printed as is. -printf, -fprintf If the output is not going to a terminal, it is printed as is. Otherwise, the result depends on which directive is in use. The directives %D, %F, %g, %G, %H, %Y, and %y expand to values that are not under control of files' owners, and so are printed as is. The directives %a, %b, %c, %d, %i, %k, %m, %M, %n, %s, %t, %u and %U have values that are under the control of files' owners but which cannot be used to send arbitrary data to the terminal, and so these are printed as is. The directives %f, %h, %l, %p and %P are quoted. This quoting is performed in the same way as for GNU ls. This is not the same quoting mechanism as the one used for -ls and -fls. If you can decide what format to use for the output of find then it is normally better to use '\\0' as a terminator than to use newline, as file names can contain white space and newline characters. The setting of the 'LC_CTYPE' environment variable is used to determine which characters need to be quoted. -print, -fprint Quoting is handled in the same way as for -printf and -fprintf. If you are using find in a script or in a situation where the matched files might have arbitrary names, you should consider using -print0 instead of -print. The -ok and -okdir actions print the current file name as is. Operators The following find operators are listed in order of increasing precedence: ( expr ) Force precedence. Since parentheses are special to the shell, you will normally need to quote them. For instance, you will probably need to specify '(...)' instead of '(...)'. ! expr Returns true if expr is false. This character will also usually need protection from interpretation by the shell. -not expr Same as ! expr, but not POSIX compliant. expr1 expr2 Two expressions in a row are taken to be joined with an implied \"and\"; in other words, expr2 is not evaluated if expr1 is false. expr1 -a expr2 Same as expr1 expr2. expr1 -and expr2 Same as expr1 expr2, but not POSIX compliant. expr1 -o expr2 Boolean OR; in other words, expr2 is not evaluated if expr1 is true. expr1 -or expr2 Same as expr1 -o expr2, but not POSIX compliant. expr1 , expr2 Separating two expressions with a comma treats them as a list: both expr1 and expr2 are always evaluated. The value of expr1 is discarded in the return value; the value of the list is the value of expr2. The comma operator can be useful for searching for different types of thing, but traversing the filesystem hierarchy only once. The -fprintf action can be used to list the various matched items into different output files. Environment Variables LANG Provides a default value for the internationalization variables that are unset or null. LC_ALL If set to a non-empty string value, this variable's value overrides the values of all the other internationalization variables. LC_COLLATE The POSIX standard specifies that this variable affect the pattern matching to be used for the -name option. GNU find uses the fnmatch library function, and so support for 'LC_COLLATE' depends on the system library. This variable also affects the interpretation of the response to -ok; while the 'LC_MESSAGES' variable selects the actual pattern used to interpret the response to -ok, the interpretation of any bracket expressions in the pattern will be affected by 'LC_COLLATE'. LC_CTYPE This variable affects the treatment of character classes used in regular expressions and also with the -name test, if the system's fnmatch library function supports this. This variable also affects the interpretation of any character classes in the regular expressions used to interpret the response to the prompt issued by -ok. The 'LC_CTYPE' environment variable will also affect which characters are considered to be unprintable when file names are printed. LC_MESSAGES Determines the locale to be used for internationalised messages. If the 'POSIXLY_CORRECT' environment variable is set, this also determines the interpretation of the response to the prompt made by the -ok action. NLSPATH Determines the location of the internationalisation message catalogues. PATH Affects the directories that are searched to find the executables invoked by -exec, -execdir, -ok and -okdir. POSIXLY_CORRECT Determines the block size used by -ls and -fls. If POSIXLY_CORRECT is set, blocks are units of 512 bytes. Otherwise, they are units of 1024 bytes. Setting this variable also turns off warning messages (that is, implies -nowarn) by default, because POSIX requires that apart from the output for -ok, all messages printed on stderr are diagnostics and must result in a non-zero exit status. When POSIXLY_CORRECT is not set, -perm +zzz is treated just like -perm /zzz if +zzz is not a valid symbolic mode. When POSIXLY_CORRECT is set, such constructs are treated as an error. When POSIXLY_CORRECT is set, the response to the prompt made by the -ok action is interpreted according to the system's message catalogue, as opposed to according to find's own message translations. TZ Affects the time zone used for some of the time-related format directives of -printf and -fprintf. Examples find When using linux, running the find command without any options will locate and print a list of every file in and beneath the current directory. This includes all files in all subdirectories of the current directory. find . Same as the above command. The \".\" explicitly tells find that you want the search to begin in the current directory. find . /home/jeff /home/stacy Locate and print all files and directories in and beneath three different starting directories: the current directory, /home/jeff, and /home/stacy. find /usr/bin /usr/lib -name ' zip ' Locate and print all files and directories in and beneath either of the directories /usr/bin and /usr/lib which contains the text \"zip\" anywhere in the file or directory name. find /home/jeff/fruit | grep 'apple' This command tells find to locate and print a complete list of all files in and beneath the directory /home/jeff/fruit, and to pipe this listing to grep, which filters out any file name which does not contain the text \"apple\". find . -name 'apple' Locate and print a list of any file in or below the current directory whose name is exactly \"apple\", all lower case letters. find . -iname 'apple' Locate and print a list of any file in or below the current directory whose name is \"apple\", but match the letters case-insensitively. Therefore, files or directories named \"Apple\", \"ApplE\", and \"ApPLe\" will all be listed by this command. find . -name 'apple' -type f Locate and print a list of files in or below the current directory whose name is \"apple\"; do not display directories, sockets, or other non-regular file types. find . -name 'apple' -type d Locate a print a list of directories in or below the current directory whose name is \"apple\"; do not display regular files, or file types other than directory entries. find . -group dev Locate and print a list of any file in or below the current directory whose owning group is the dev group. find . -L Locate and print a list of any file in or below the current directory, and follow symbolic links. In other words, display information about the file a symbolic link links to, rather than information about the symlink itself. find . -atime +1 Locate and print a list of any file in or below the current directory that was last accessed more than 1 day ago. find . -atime -1 Locate and print a list of any file in or below the current directory that was last accessed less than 1 day ago. find . -amin +5 Locate and print a list of any file in or below the current directory that was modified more than 5 minutes ago. find . -amin -5 Locate and print a list of any file in or below the current directory that was modified fewer than 5 minutes ago. find . -perm 754 Locate and print a list of any file in or below the current directory whose octal permission bits are 755 (user can read, write, and execute; owning group members can read and execute; others can read only). For more information about permission bits, see chmod. find . -perm u=rwx,g=rx,o=r Same as the above command, but uses a symbolic representation of the permission bits. Note that the symbolic notation uses a comma separator and contains no spaces. find . -size +1M -type f Locate and print a list of any regular file in or below the current directory whose size is greater than 1 megabyte. find . -size -5G -type f Locate and print a list of any regular file in or below the current directory whose size is less than 5 gigabytes. find . -user jeff Locate and print a list of any file or directory in or below the current directory owned by the user jeff. find . -size +1G -exec mv '{}' ~/bigfiles \\; Locate any files in or below the current directory whose size is greater than 1 gigabyte, and execute the mv command on them, moving them into the directory bigfiles in your home directory. The {} indicates where in the command the name of the matched file should be placed; it must be enclosed in quotes to protect it from being misinterpreted by the shell. Similarly, the semicolon which ends the command must be escaped with a backslash (\"\\;\"). find . -size +1G -print0 | xargs -0 -I '{}' mv '{}' ~/bigfiles Locate any files in or below the current directory whose size is greater than 1 gigabyte, then pipe that list to the xargs command, which uses the mv command to move each one of those files into the directory bigfiles in your home directory. This is similar to the above command, but better for several reasons. First, it uses the -print0 option to tell find to create its list separating each file name with a null character rather than a newline; this makes the list difficult for a human to read, but has the advantage of making it easier for another program to parse. You should always use -print0 when piping output to xargs. Using xargs to execute commands on every file found is generally better than using find's -exec option because of the more efficient way xargs threads each command that it spawns. The -0 argument to xargs tells it to expect the null character as the file name separator (which we specified with find's -print0 option). The -I '{}' option tells xargs to replace \"{}\" with the name of each file it finds. We then form our command using {} where we want the file name to appear. We enclose it in single quotes to protect it from the shell. xargs does not expect a semicolon at the end of the command, unlike find -exec, so it is not included in this command. find . -size +1G -ok mv '{}' ~/bigfiles \\; Using -ok is the same as using -exec, but you will be asked for confirmation before each command is executed. find . -name ' .jpg' -o -name ' .gif' Locate any files in or below the current directory whose suffix is \".jpg\" or \".gif\". The -o option functions as a boolean OR operator; if either of the conditions are true, the file will be included in the list. find . -maxdepth 2 -name '*.jpg' Locate any files in or below the current directory whose suffix is \".jpg\", but limit subdirectory traversal to 2 levels beneath the current directory. Any subdirectories 3 or more levels deep will not be searched. find . ! -name '*.jpg' Locate any files in or below the current directory whose suffix is not \".jpg\". The exclamation mark (\"!\") functions as a boolean NOT operator; it lists only files for which the condition is false. find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f Find files named core in or below the directory /tmp and delete them. The -name test comes before the -type test to avoid having to call stat on every file. find $HOME -mtime 0 Search for files in your home directory which have been modified in the last twenty-four hours. This command works this way because the time since each file was last modified is divided by 24 hours and any remainder is discarded. That means that to match -mtime 0, a file will have to have a modification in the past that is less than 24 hours ago. find /sbin /usr/sbin -executable ! -readable Search for files in your superuser binary directories, /sbin and /usr/sbin, which are executable but not readable. Suppressing Error Messages When Using find One last tip for using find: you will receive an error message if find encounters a file or directory you don't have access to view. The error message will look like this: find: `./tmp/sysfile-PKdhtXMmr18n': Permission denied You might not want these messages in your output; they can make it difficult to parse your actual find results. For these examples, we'll assume you're using bash as your shell, which is the default under linux. Let's say your command is this simple one: find . If the results of this command are giving you \"Permission denied\" errors, the simplest way to filter them out is to send them all to /dev/null, which is the device on linux which points to nowhere. Your command would look like this: find . 2>/dev/null Here, 2> is a special operator in bash which means \"redirect standard error\". This will effectively hide all error messages from find's output. You might not want to hide every error message, though. What if there's another error of some kind? You don't want to suppress those messages too. In that case, you can use this command instead: find . 2>&1 | grep -v 'Permission denied' Here, 2> tells bash to redirect standard error, and &1 tells it to use standard output as the destination. This redirects all error messages issued by find to standard output; this will look the same on your terminal screen, but by merging them with standard output, we have made them filterable by grep. So we then pipe the output of find to grep, which matches the inverse (-v) of our string, 'Permission denied'. The result is that it displays any line which does not contain that string. This allows you to view your results without any pesky \"Permission denied\" error messages. \u4f8b\u5b50\uff1a \u5217\u51fa\u7ed3\u5c3e\u4e0d\u662f .rpm \u7684\u6587\u4ef6\uff0c\u5e76\u5220\u9664 find -type f ( ! -iname \"*.rpm\" ) -print -exec rm {} \\;^C","title":"Command: FIND"},{"location":"Linux/P1-Commands/command-find/#command-find","text":"","title":"Command: FIND"},{"location":"Linux/P1-Commands/command-find/#description","text":"find locates files on your system. Within each directory tree specified by the given paths, it evaluates the given expression from left to right, according to the rules of precedence (see \"Operators\", below) until the outcome is known. The outcome is \"known\" when the left hand side of the expression is determined to be FALSE for AND operations, or TRUE for OR operations. At that point find moves on to the next path until all paths have been searched. find is a fundamental and extremely powerful tool for working with the files on your linux system. It can be used on its own to locate files, or in conjunction with other programs to perform operations on those files.","title":"Description"},{"location":"Linux/P1-Commands/command-find/#syntax","text":"find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression]","title":"Syntax"},{"location":"Linux/P1-Commands/command-find/#options","text":"The -H, -L and -P options control the treatment of symbolic links. Arguments following these are taken to be names of files or directories to be examined, up to the first argument that begins with \"-\", or the argument \"(\" or \"!\". That argument and any following arguments are taken to be the expression describing what is being searched. If no paths are given, the current directory is used. If no expression is given, the expression -print is used (but you should probably consider using -print0 instead, anyway. More information on this below). The arguments in the expression list are also referred to as \"options,\" but the five \"real\" options -H, -L, -P, -D and -O must appear before the first path name, if they are used at all. A double-dash (\"--\") can also be used to signal that any remaining arguments are not options (though ensuring that all start points begin with either \"./\" or \"/\" is generally safer if you use wildcards in the list of start points). -P Never follow symbolic links. This is the default. When find examines or prints information a file, and the file is a symbolic link, the information used will be taken from the properties of the symbolic link itself. -L Follow symbolic links. When find examines or prints information about files, the information used will be taken from the properties of the file to which the link points, not from the link itself (unless it is a broken symbolic link or find is unable to examine the file to which the link points). Use of this option implies -noleaf. If you later use the -P option, -noleaf will still be in effect. If -L is in effect and find discovers a symbolic link to a subdirectory during its search, the subdirectory pointed to by the symbolic link will be searched. When the -L option is in effect, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself (unless the symbolic link is broken). Using -L causes the -lname and -ilname predicates always to return false. -H Do not follow symbolic links, except while processing the command line arguments. When find examines or prints information about files, the information used will be taken from the properties of the symbolic link itself. The only exception to this behaviour is when a file specified on the command line is a symbolic link, and the link can be resolved. For that situation, the information used is taken from whatever the link points to (that is, the link is followed). The information about the link itself is used as a fallback if the file pointed to by the symbolic link cannot be examined. If -H is in effect and one of the paths specified on the command line is a symbolic link to a directory, the contents of that directory will be examined (though specifying -maxdepth 0 would prevent this). If more than one of -H, -L and -P is specified, each overrides the others; the last one appearing on the command line takes effect. Since it is the default, the -P option should be considered to be in effect unless either -H or -L is specified. GNU find frequently stats files during the processing of the command line itself, before any searching has begun. These options also affect how those arguments are processed. Specifically, there are a number of tests that compare files listed on the command line against a file we are currently considering. In each case, the file specified on the command line will have been examined and some of its properties will have been saved. If the named file is in fact a symbolic link, and the -P option is in effect (or if neither -H nor -L were specified), the information used for the comparison will be taken from the properties of the symbolic link. Otherwise, it will be taken from the properties of the file the link points to. If find cannot follow the link (for example because it has insufficient privileges or the link points to a nonexistent file) the properties of the link itself will be used. When the -H or -L options are in effect, any symbolic links listed as the argument of -newer will be dereferenced, and the timestamp will be taken from the file to which the symbolic link points. The same consideration applies to -newerXY, -anewer and -cnewer. The -follow option has a similar effect to -L, though it takes effect at the point where it appears (that is, if -L is not used but -follow is, any symbolic links appearing after -follow on the command line will be dereferenced, and those before it will not). -D debugoptions Print diagnostic information; this can be helpful to diagnose problems with why find is not doing what you want. The list of debug options should be comma separated. Compatibility of the debug options is not guaranteed between releases of findutils. For a complete list of valid debug options, see the output of find -D help. Valid debug options include: help Explain the debugging options. tree Show the expression tree in its original and optimised form. stat Print messages as files are examined with the stat and lstat system calls. The find program tries to minimize such calls. opt Prints diagnostic information relating to the optimisation of the expression tree; see the -O option. rates Prints a summary indicating how often each predicate succeeded or failed. -Olevel Enables query optimisation. The find program reorders tests to speed up execution while preserving the overall effect; that is, predicates with side effects are not reordered relative to each other. The optimisations performed at each optimisation level are as follows. There must not be a space in between -O and the decimal representing the optimization level. The decimals and their meanings are as follows: 0 Equivalent to optimisation level 1. 1 This is the default optimisation level and corresponds to the traditional behaviour. Expressions are reordered so that tests based only on the names of files (for example -name and -regex) are performed first. 2 Any -type or -xtype tests are performed after any tests based only on the names of files, but before any tests that require information from the inode. On many modern versions of Unix, file types are returned by readdir() and so these predicates are faster to evaluate than predicates which need to stat the file first. 3 At this optimisation level, the full cost-based query optimiser is enabled. The order of tests is modified so that cheap (i.e. fast) tests are performed first and more expensive ones are performed later, if necessary. Within each cost band, predicates are evaluated earlier or later according to whether they are likely to succeed or not. For -o, predicates that are likely to succeed are evaluated earlier, and for -a, predicates that are likely to fail are evaluated earlier. The cost-based optimiser has a fixed idea of how likely any given test is to succeed. In some cases the probability takes account of the specific nature of the test (for example, -type f is assumed to be more likely to succeed than -type c). The cost-based optimiser is currently being evaluated. If it does not actually improve the performance of find, it will be removed again. Conversely, optimisations that prove to be reliable, robust and effective may be enabled at lower optimisation levels over time. However, the default behaviour (i.e. optimisation level 1) will not be changed in the 4.3.x release series. The findutils test suite runs all the tests on find at each optimisation level and ensures that the result is the same.","title":"Options"},{"location":"Linux/P1-Commands/command-find/#expressions","text":"The expression is made up of options (which affect overall operation rather than the processing of a specific file, and always return true), tests (which return a true or false value), and actions (which have side effects and return a true or false value), all separated by operators. -and is assumed where the operator is omitted. If the expression contains no actions other than -prune, -print is performed on all files for which the expression is true.","title":"Expressions"},{"location":"Linux/P1-Commands/command-find/#expression-options","text":"All options always return true. Except for -daystart, -follow and -regextype, the options affect all tests, including tests specified before the option. This is because the options are processed when the command line is parsed, while the tests don't do anything until files are examined. The -daystart, -follow and -regextype options are different in this respect, and have an effect only on tests which appear later in the command line. Therefore, for clarity, it is best to place them at the beginning of the expression. A warning is issued if you don't do this. -d A synonym for -depth, for compatibility with FreeBSD, NetBSD, OpenBSD, and MacOS X. -daystart Measure times (for -amin, -atime, -cmin, -ctime, -mmin, and -mtime) from the beginning of today rather than from 24 hours ago. This option only affects tests which appear later on the command line. -depth Process each directory's contents before the directory itself. The -delete action also implies -depth. -follow This option is an older way to do the same thing as -L. It is now deprecated; you should use the -L option instead. This option dereferences symbolic links and implies -noleaf. The -follow option affects only those tests which appear after it on the command line. Unless the -H or -L option has been specified, the position of the -follow option changes the behaviour of the -newer predicate; any files listed as the argument of -newer will be dereferenced if they are symbolic links. The same consideration applies to -newerXY, -anewer and -cnewer. Similarly, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself. Using -follow causes the -lname and -ilname predicates always to return false. -help, --help Print a help message, and exit. -ignore_readdir_race Normally, find gives an error message when it cannot stat a file. If you give this option and a file is deleted between the time find reads the name of the file from the directory and the time it tries to stat the file, no error message will be issued. This also applies to paths given on the command line. This option takes effect at the time the command line is read, which means that you cannot search one part of the filesystem with this option on and part of it with this option off. -maxdepth levels Descend at most levels (a non-negative integer) levels of directories below the command line arguments. -maxdepth 0 means only apply the tests and actions to the paths specified on the command line, and do not descend into subdirectories at all. -mindepth levels Do not apply any tests or actions at levels less than levels (a non-negative integer). -mindepth 1 means process all files except the command line arguments. -mount Don't descend directories on other filesystems. An alternate name for -xdev. This option is provided for compatibility with some other versions of find. -noignore_readdir_race Turns off the effect of -ignore_readdir_race. -noleaf Do not optimize by assuming that directories contain 2 fewer subdirectories than their hard link count. This option is needed when searching filesystems that do not follow the Unix directory-link convention, such as CD-ROM or MS-DOS filesystems, or AFS volume mount points. Each directory on a normal Unix filesystem has at least 2 hard links: its name and its '.' entry. Additionally, its subdirectories (if any) each have a '..' entry linked to that directory. When find is examining a directory, after it has statted 2 fewer subdirectories than the directory's link count, it knows that the rest of the entries in the directory are non-directories ('leaf' files in the directory tree). If only the files' names need to be examined, there is no need to stat them; this gives a significant increase in search speed. If you are using a standard linux filesystem, you should not need to use this option. -regextype type Changes the regular expression syntax understood by -regex and -iregex tests which occur later on the command line. Currently-implemented types are emacs (this is the default), posix-awk, posix-basic, posix-egrep and posix-extended. If you're using a specific style of regular expression syntax, you may need to specify this option. Otherwise, it should be unnecessary. -version, --version Print the find version number and exit. -warn, -nowarn Turn warning messages on or off. These warnings apply only to the command line usage, not to any conditions that find might encounter when it searches directories. The default behaviour corresponds to -warn if standard input is a tty, and to -nowarn otherwise. -xdev Don't descend directories on other filesystems.","title":"Expression Options"},{"location":"Linux/P1-Commands/command-find/#tests","text":"Some tests, for example -newerXY and -samefile, allow comparison between the file currently being examined and some reference file specified on the command line. When these tests are used, the interpretation of the reference file is determined by the options -H, -L and -P and any previous -follow, but the reference file is only examined once, at the time the command line is parsed. If the reference file cannot be examined (for example, the stat system call fails for it), an error message is issued, and find exits with a nonzero status. Where n is used as a numeric argument, it can be specified as: +n For greater than n. -n For less than n. n For exactly n. Tests are as follows: -amin n Returns true is a file was last accessed n minutes ago. -anewer file Returns true if a file was last accessed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the access time of the file it points to is always used. -atime n Returns true if a file was last accessed n * 24 hours ago. When find figures out how many 24-hour periods ago the file was last accessed, any fractional part is ignored, so to match -atime +1, a file has to have been accessed at least two days ago. -cmin n Returns true if a file's status was last changed n minutes ago. -cnewer file Returns true if a file's status was last changed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the status-change time of the file it points to is always used. -ctime n Returns true if a file's status was last changed n 24 hours ago. See the comments for -atime to understand how rounding affects the interpretation of file status change times. -empty Returns true if a file is empty (contains nothing) and is either a regular file or a directory. -executable Matches files that are executable and directories that are searchable (in a file name resolution sense). This takes into account access control lists and other permissions artefacts which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. Because this test is based only on the result of the access system call, there is no guarantee that a file for which this test succeeds can actually be executed. -false When used as part of an expression, -false always evaluates as false. -fstype type Returns true if a file is on a filesystem of type type. The valid filesystem types vary among different versions of Unix; an incomplete list of filesystem types that are accepted on some version of Unix or another is: ufs, 4.2, 4.3, nfs, tmp, mfs, S51K, S52K. You can use -printf with the %F directive to see the types of your filesystems. -gid n Returns true if a file's numeric group ID is n. -group gname Returns true if a file belongs to group gname (numeric group IDs are allowed). -ilname pattern Like -lname, but the match is case insensitive. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -iname pattern Like -name, but the match is case insensitive. For example, the patterns 'fo ' and 'F??' match the file names 'Foo', 'FOO', 'foo', 'fOo', etc. In these patterns, unlike file name expansion by the shell, an initial '.' can be matched by ' '. That is, find -name bar will match the file '.foobar'. Please note that you should always quote patterns, otherwise the shell will expand any wildcard characters in them. -inum n Returns true if a file has inode number n. It is normally easier to use the -samefile test instead. -ipath pattern Behaves in the same way as -iwholename. This option is deprecated, so you should no longer use it. -iregex pattern Like -regex, but the match is case-insensitive. -iwholename pattern Like -wholename, but the match is case-insensitive. -links n Returns true if a file has n links. -lname pattern Returns true if a file is a symbolic link whose contents match shell pattern pattern. The metacharacters do not treat '/' or '.' specially. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -mmin n Returns true if the file's data was last modified n minutes ago. -mtime n Returns true if a file's data was last modified n * 24 hours ago. See the -atime option to understand how rounding affects the interpretation of file modification times. -name pattern Returns true if the base of a file name (the path with the leading directories removed) matches shell pattern pattern. The metacharacters ('*', '?', and '[ ]') match a '.' at the start of the base name. To ignore a directory and the files under it, use -prune; see an example in the description of -path. Braces are not recognised as being special, despite the fact that some shells including bash imbue braces with a special meaning in shell patterns. The file name matching is performed with the use of the fnmatch library function. Don't forget to enclose the pattern in quotes to protect it from expansion by the shell. -newer file Returns true if a file was modified more recently than the file file. If file is a symbolic link and the -H option or the -L option is in effect, the modification time of the file it points to is always used. -newerXY reference Compares the timestamp of the current file with reference. The reference argument is normally the name of a file (and one of its timestamps is used for the comparison) but it may also be a string describing an absolute time. X and Y are placeholders for other letters, and these letters select which time belonging to how reference is used for the comparison. a The access time of the file reference B The birth time of the file reference c The inode status change time of reference m The modification time of the file reference t reference is interpreted directly as a time Some combinations are invalid; for example, it is invalid for X to be t. Some combinations are not implemented on all systems; for example B is not supported on all systems. If an invalid or unsupported combination of XY is specified, a fatal error results. Time specifications are interpreted as for the argument to the -d option of GNU date. If you try to use the birth time of a reference file, and the birth time cannot be determined, a fatal error message results. If you specify a test which refers to the birth time of files being examined, this test will fail for any files where the birth time is unknown. -nogroup Returns tue if no existing group corresponds to file's numeric group ID. -nouser Returns true if no existing user corresponds to file's numeric user ID. -path pattern Returns true if a file name matches shell pattern pattern. The metacharacters do not treat '/' or '.' specially; so, for example, find . -path \"./sr*sc\" will print an entry for a directory called './src/misc' (if one exists). To ignore a whole directory tree, use -prune rather than checking every file in the tree. For example, to skip the directory 'src/emacs' and all files and directories under it, and print the names of the other files found, do something like this: find . -path ./src/emacs -prune -o -print Note that the pattern match test applies to the whole file name, starting from one of the start points named on the command line. It would only make sense to use an absolute pathname here if the relevant start point is also an absolute path. This means that this command will never match anything: find bar -path /foo/bar/myfile -print The predicate -path is also supported by HP-UX find and will be in a forthcoming version of the POSIX standard. -perm mode Returns true if a file's permission bits are exactly mode (octal or symbolic). Since an exact match is required, if you want to use this form for symbolic modes, you may have to specify a rather complex mode string. For example -perm g=w will only match files which have mode 0020 (that is, ones for which group write permission is the only permission set). It is more likely that you will want to use the '/' or '-' forms, for example -perm -g=w, which matches any file with group write permission. -perm -mode Returns true if all of the permission bits of mode are set for the file. Symbolic modes are accepted in this form, and this is usually the way in which would want to use them. You must specify 'u', 'g' or 'o' if you use a symbolic mode. -perm /mode Returns true if any of the permission bits of mode are set for the file. Symbolic modes are accepted in this form. You must specify 'u', 'g' or 'o' if you use a symbolic mode. If no permission bits in mode are set, this test matches any file. -perm +mode Deprecated; this is the old way of searching for files with any of the permission bits in mode. You should use -perm /mode instead. Trying to use the '+' syntax with symbolic modes will yield unexpected results. -readable Matches files that are readable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -regex pattern Returns true if a file name matches the regular expression pattern. This is a match on the whole path, not just the file name. For example, to match a file named './fubar3', you can use the regular expression '. bar.' or '. b. 3', but not 'f. r3' (because the complete path does not begin with an f). The regular expressions understood by find are by default Emacs regular expressions, but this can be changed with the -regextype option (see above). - samefile name Returns true if a file refers to the same inode as name. When -L is in effect, this can include symbolic links. -size [-|+]n[cwbkMG] Returns true if a file uses n units of space on the disk. If preceded by a minus sign (\"-\"), matches files which use less space; if preceded by a plus sign (\"+\"), matches files which use more. The following suffixes can be used to abbreviate units: b for 512-byte blocks (this is the default if no suffix is used) c for bytes w for two-byte words k for Kilobytes (units of 1024 bytes) M for Megabytes (units of 1048576 bytes) G for Gigabytes (units of 1073741824 bytes) The size does not count indirect blocks, but it does count blocks in sparse files that are not actually allocated. You should note that the '%k' and '%b' format specifiers of -printf handle sparse files differently. The 'b' suffix always denotes 512-byte blocks and never 1 Kilobyte blocks, which is different than the behaviour of -ls. -true When used in an expression, -true always returns true. -type c Returns true if a file is of type c: b block (buffered) special files c character (unbuffered) special files d directories p named pipes (FIFOs) f regular files l symbolic links. This is never true if the -L option or the -follow option has been specified, unless the symbolic link is broken. If you want to search for symbolic links when -L is in effect, use -xtype. s sockets D doors (a Solaris file type) -uid n Returns true if a file's numeric user ID is n. -used n Returns true if a file was last accessed n days after its status was last changed. -user uname Returns true if a file is owned by user uname (numeric user IDs are allowed). -wholename pattern Functionally the same as -path. This alternative is less portable than -path, however; for greatest compliance across different types of systems, you should use -path instead. -writable Matches files that are writable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -xtype c The same as -type unless the file is a symbolic link. For symbolic links: if the -H or -P option was specified, returns true if the file is a link to a file of type c; if the -L option has been given, returns true if c is 'l'. In other words, for symbolic links, -xtype checks the type of the file that -type does not check.","title":"Tests"},{"location":"Linux/P1-Commands/command-find/#actions","text":"-delete Delete matched files; returns true if removal succeeded. If the removal failed, an error message is issued. If -delete fails, find's exit status will be nonzero (when it eventually exits). Use of -delete automatically turns on the -depth option. Don't forget that the find command line is evaluated as an expression, so putting -delete first will make find try to delete everything below the starting points you specified. When testing a find command line that you later intend to use with -delete, you should explicitly specify -depth to avoid later surprises. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -exec command ; Execute command on each matched file; returns true if 0 is returned as the exit status of command. All following arguments to find are taken to be arguments to the command until a semicolon (';') is encountered. The string '{}' is replaced by the current file name being processed everywhere it occurs in the arguments to the command, not just in arguments where it is alone, as in some versions of find. Both of these constructions might need to be escaped (with a '\\') or quoted to protect them from expansion by the shell. The specified command is run once for each matched file. The command is executed in the starting directory. There are unavoidable security problems surrounding use of -exec; you should use the -execdir option instead. -exec command {} + This variant of the -exec action runs the specified command on the selected files, but the command line is built by appending each selected file name at the end; the total number of invocations of the command will be much less than the number of matched files. The command line is built in much the same way that xargs builds its command lines. Only one instance of '{}' is allowed within the command. The command is executed in the starting directory. -execdir command ; by an unpredictable order of system operations) during resolution of the paths to the matched files. As with the -exec action, the '+' form of -execdir will build a command line to process more than one matched file, but any given invocation of command will only list files that exist in the same subdirectory. If you use this option, you must ensure that your $PATH environment variable does not reference '.'; otherwise, an attacker can run any commands they like by leaving an appropriately-named file in a directory in which you will run -execdir. The same applies to having entries in $PATH that are empty or not absolute directory names. -fls file Returns true; behaves like -ls, but writes to file like -fprint. The output file is always created, even if no match is found. -fprint file Returns true; prints the full file name into file file. If file does not exist when find is run, it is created; if it does exist, it is truncated. The file names \"/dev/stdout\" and \"/dev/stderr\" are handled specially; they refer to the standard output and standard error output, respectively. The output file is always created, even if the predicate is never matched. -fprint0 file Returns true; like -print0 but writes to file like -fprint. The output file is always created, even if no match is found. -fprintf file format Returns true; like -printf, but writes to file like -fprint. The output file is always created, even if the predicate is never matched. -ls Returns true; lists current file in ls -dils format (see ls for details) on standard output. The block counts are of 1K blocks, unless the environment variable POSIXLY_CORRECT is set, in which case 512-byte blocks are used. -ok command ; Like -exec, but asks the user first. If the user agrees, find runs the command. Otherwise, it returns false. If the command is run, its standard input is redirected from /dev/null. The response to the prompt is matched against a pair of regular expressions to determine if it is an affirmative or negative response. This regular expression is obtained from the system if the 'POSIXLY_CORRECT' environment variable is set, or otherwise from find's message translations. If the system has no suitable definition, find's own definition will be used. In either case, the interpretation of the regular expression itself will be affected by the environment variables 'LC_CTYPE' (character classes) and 'LC_COLLATE' (character ranges and equivalence classes). -okdir command ; Like -execdir but asks the user first in the same way as for -ok. If the user does not agree, returns false. If the command is run, its standard input is redirected from /dev/null. -print Returns true; prints the full file name on the standard output, followed by a newline. If you are piping the output of find into another program and there is the faintest possibility that the files which you are searching for might contain a newline, then you should consider using the -print0 option instead of -print. -print0 Returns true; prints the full file name on the standard output, followed by a null character (instead of the newline character that -print uses). This allows file names that contain newlines or other types of white space to be correctly interpreted by programs that process the find output. This option corresponds to the -0 option of xargs. -printf format Returns true; prints format on the standard output, interpreting '\\' escapes and '%' directives. Field widths and precisions can be specified as with the 'printf' C function. Please note that many of the fields are printed as %s rather than %d, and this may mean that flags don't work as you might expect. This also means that the '-' flag does work (it forces fields to be left-aligned). Unlike -print, -printf does not add a newline at the end of the string. The escapes and directives are: \\a Alarm bell. \\b Backspace. \\c Stop printing using format immediately and flush the remaining output. \\f Form feed. \\n Newline. \\r Carriage return. \\t Horizontal tab. \\v Vertical tab. \\0 The ASCII NUL character. \\ A literal backslash ('\\'). \\NNN The character whose ASCII code is NNN (where NNN is an octal value). A '\\' character followed by any other character is treated as an ordinary character, so they both are printed. %% A literal percent sign. %a The file's last access time in the format returned by the C ctime function. %Ak The file's last access time in the format specified by k, which is either '@' or a directive of the C 'strftime' function. The possible values for k are listed below; some of them might not be available on all systems, due to differences in strftime between systems. Values for k can be one of the following: @ seconds since Jan. 1, 1970, 00:00 GMT, with fractional part. Time fields: H hour (00..23) I hour (01..12) k hour ( 0..23) l hour ( 1..12) M minute (00..59) p locale's AM or PM r time, 12-hour (hh:mm:ss [AP]M) S Second (00.00 .. 61.00). There is a fractional part. T time, 24-hour (hh:mm:ss) + Date and time, separated by '+', for example '2004-04-28+22:22:05.0'. This is a GNU extension. The time is given in the current timezone (which may be affected by setting the TZ environment variable). The seconds field includes a fractional part. X locale's time representation (H:M:S) Z time zone (e.g., EDT), or nothing if no time zone is determinable Date fields: a locale's abbreviated weekday name (Sun..Sat) A locale's full weekday name, variable length (Sunday..Saturday) b locale's abbreviated month name (Jan..Dec) B locale's full month name, variable length (January..December) c locale's date and time (Sat Nov 04 12:02:33 EST 1989). The format is the same as for ctime and so to preserve compatibility with that format, there is no fractional part in the seconds field. d day of month (01..31) D date (mm/dd/yy) h same as b j day of year (001..366) m month (01..12) U week number of year with Sunday as first day of week (00..53) w day of week (0..6)## W week number of year with Monday as first day of week (00..53) x locale's date representation (mm/dd/yy) y last two digits of year (00..99) Y year (1970..) %b The amount of disk space used for this file in 512-byte blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/512, but it can also be smaller if the file is a sparse file. %c File's last status change time in the format returned by the C 'ctime' function. %Ck File's last status change time in the format specified by k, which is the same as for %A. %d File's depth in the directory tree; 0 means the file is a command line argument. %D The device number on which the file exists (the st_dev field of struct stat), in decimal. %f File's name with any leading directories removed (only the last element). %F Type of the filesystem the file is on; this value can be used for -fstype. %g File's group name, or numeric group ID if the group has no name. %G File's numeric group ID. %h Leading directories of file's name (all but the last element). If the file name contains no slashes (since it is in the current directory) the %h specifier expands to \".\". %H Command line argument under which file was found. %i File's inode number (in decimal). %k The amount of disk space used for this file in 1K blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/1024, but it can also be smaller if the file is a sparse file. %l Object of symbolic link (empty string if file is not a symbolic link). %m File's permission bits (in octal). This option uses the 'traditional' numbers which most Unix implementations use, but if your particular implementation uses an unusual ordering of octal permissions bits, you will see a difference between the actual value of the file's mode and the output of %m. Normally you will want to have a leading zero on this number, and to do this, you should use the # flag (as in, for example, '%#m'). %M File's permissions (in symbolic form, as for ls). %n Number of hard links to file. %p File's name. %P File's name with the name of the command line argument under which it was found removed. %s File's size in bytes. %S File's sparseness. This is calculated as (BLOCKSIZE*st_blocks / st_size). The exact value you will get for an ordinary file of a certain length is system-dependent. However, normally sparse files will have values less than 1.0, and files which use indirect blocks may have a value that is greater than 1.0. The value used for BLOCKSIZE is system-dependent, but is usually 512 bytes. If the file size is zero, the value printed is undefined. On systems which lack support for st_blocks, a file's sparseness is assumed to be 1.0. %t File's last modification time in the format returned by the C 'ctime' function. %Tk File's last modification time in the format specified by k, which is the same as for %A. %u File's user name, or numeric user ID if the user has no name. %U File's numeric user ID. %y File's type (like in ls -l). U=unknown type (although this shouldn't happen) %Y File's type (like %y), plus follow symlinks: L=loop, N=nonexistent A '%' character followed by any other character is discarded, but the other character is printed (but don't rely on this, as further format characters may be introduced). A '%' at the end of the format argument causes undefined behaviour since there is no following character. In some locales, it may hide your door keys, while in others it may remove the final page from the novel you are reading. The %m and %d directives support the # , 0 and + flags, but the other directives do not, even if they print numbers. Numeric directives that do not support these flags include G, U, b, D, k and n. The '-' format flag is supported and changes the alignment of a field from right-justified (which is the default) to left-justified. -prune True; if the file is a directory, do not descend into it. If -depth is given, false; no effect. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -quit Exit immediately. No child processes will be left running, but no more paths specified on the command line will be processed. For example, find /tmp/foo /tmp/bar -print -quit will print only /tmp/foo. Any command lines which have been built up with -execdir ... {} + will be invoked before find exits. The exit status may or may not be zero, depending on whether an error has already occurred.","title":"Actions"},{"location":"Linux/P1-Commands/command-find/#handling-unusual-file-names","text":"Many of the actions of find result in the printing of data that is under the control of other users. This includes file names, sizes, modification times and so forth. File names are a potential problem since they can contain any character except '\\0' and '/'. Unusual characters in file names can do unexpected and often undesirable things to your terminal (for example, changing the settings of your function keys on some terminals). Unusual characters are handled differently by various actions, as described below: -print0, -fprint0 Always print the exact file name, unchanged, even if the output is going to a terminal. -ls, -fls Unusual characters are always escaped. White space, backslash, and double quote characters are printed using C-style escaping (for example '\\f', '\\\"'). Other unusual characters are printed using an octal escape. Other printable characters (for -ls and -fls these are the characters between octal 041 and 0176) are printed as is. -printf, -fprintf If the output is not going to a terminal, it is printed as is. Otherwise, the result depends on which directive is in use. The directives %D, %F, %g, %G, %H, %Y, and %y expand to values that are not under control of files' owners, and so are printed as is. The directives %a, %b, %c, %d, %i, %k, %m, %M, %n, %s, %t, %u and %U have values that are under the control of files' owners but which cannot be used to send arbitrary data to the terminal, and so these are printed as is. The directives %f, %h, %l, %p and %P are quoted. This quoting is performed in the same way as for GNU ls. This is not the same quoting mechanism as the one used for -ls and -fls. If you can decide what format to use for the output of find then it is normally better to use '\\0' as a terminator than to use newline, as file names can contain white space and newline characters. The setting of the 'LC_CTYPE' environment variable is used to determine which characters need to be quoted. -print, -fprint Quoting is handled in the same way as for -printf and -fprintf. If you are using find in a script or in a situation where the matched files might have arbitrary names, you should consider using -print0 instead of -print. The -ok and -okdir actions print the current file name as is.","title":"Handling Unusual File Names"},{"location":"Linux/P1-Commands/command-find/#operators","text":"The following find operators are listed in order of increasing precedence: ( expr ) Force precedence. Since parentheses are special to the shell, you will normally need to quote them. For instance, you will probably need to specify '(...)' instead of '(...)'. ! expr Returns true if expr is false. This character will also usually need protection from interpretation by the shell. -not expr Same as ! expr, but not POSIX compliant. expr1 expr2 Two expressions in a row are taken to be joined with an implied \"and\"; in other words, expr2 is not evaluated if expr1 is false. expr1 -a expr2 Same as expr1 expr2. expr1 -and expr2 Same as expr1 expr2, but not POSIX compliant. expr1 -o expr2 Boolean OR; in other words, expr2 is not evaluated if expr1 is true. expr1 -or expr2 Same as expr1 -o expr2, but not POSIX compliant. expr1 , expr2 Separating two expressions with a comma treats them as a list: both expr1 and expr2 are always evaluated. The value of expr1 is discarded in the return value; the value of the list is the value of expr2. The comma operator can be useful for searching for different types of thing, but traversing the filesystem hierarchy only once. The -fprintf action can be used to list the various matched items into different output files.","title":"Operators"},{"location":"Linux/P1-Commands/command-find/#environment-variables","text":"LANG Provides a default value for the internationalization variables that are unset or null. LC_ALL If set to a non-empty string value, this variable's value overrides the values of all the other internationalization variables. LC_COLLATE The POSIX standard specifies that this variable affect the pattern matching to be used for the -name option. GNU find uses the fnmatch library function, and so support for 'LC_COLLATE' depends on the system library. This variable also affects the interpretation of the response to -ok; while the 'LC_MESSAGES' variable selects the actual pattern used to interpret the response to -ok, the interpretation of any bracket expressions in the pattern will be affected by 'LC_COLLATE'. LC_CTYPE This variable affects the treatment of character classes used in regular expressions and also with the -name test, if the system's fnmatch library function supports this. This variable also affects the interpretation of any character classes in the regular expressions used to interpret the response to the prompt issued by -ok. The 'LC_CTYPE' environment variable will also affect which characters are considered to be unprintable when file names are printed. LC_MESSAGES Determines the locale to be used for internationalised messages. If the 'POSIXLY_CORRECT' environment variable is set, this also determines the interpretation of the response to the prompt made by the -ok action. NLSPATH Determines the location of the internatDescription find locates files on your system. Within each directory tree specified by the given paths, it evaluates the given expression from left to right, according to the rules of precedence (see \"Operators\", below) until the outcome is known. The outcome is \"known\" when the left hand side of the expression is determined to be FALSE for AND operations, or TRUE for OR operations. At that point find moves on to the next path until all paths have been searched. find is a fundamental and extremely powerful tool for working with the files on your linux system. It can be used on its own to locate files, or in conjunction with other programs to perform operations on those files.","title":"Environment Variables"},{"location":"Linux/P1-Commands/command-find/#syntax_1","text":"find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression] Options The -H, -L and -P options control the treatment of symbolic links. Arguments following these are taken to be names of files or directories to be examined, up to the first argument that begins with \"-\", or the argument \"(\" or \"!\". That argument and any following arguments are taken to be the expression describing what is being searched. If no paths are given, the current directory is used. If no expression is given, the expression -print is used (but you should probably consider using -print0 instead, anyway. More information on this below). The arguments in the expression list are also referred to as \"options,\" but the five \"real\" options -H, -L, -P, -D and -O must appear before the first path name, if they are used at all. A double-dash (\"--\") can also be used to signal that any remaining arguments are not options (though ensuring that all start points begin with either \"./\" or \"/\" is generally safer if you use wildcards in the list of start points). -P Never follow symbolic links. This is the default. When find examines or prints information a file, and the file is a symbolic link, the information used will be taken from the properties of the symbolic link itself. -L Follow symbolic links. When find examines or prints information about files, the information used will be taken from the properties of the file to which the link points, not from the link itself (unless it is a broken symbolic link or find is unable to examine the file to which the link points). Use of this option implies -noleaf. If you later use the -P option, -noleaf will still be in effect. If -L is in effect and find discovers a symbolic link to a subdirectory during its search, the subdirectory pointed to by the symbolic link will be searched. When the -L option is in effect, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself (unless the symbolic link is broken). Using -L causes the -lname and -ilname predicates always to return false. -H Do not follow symbolic links, except while processing the command line arguments. When find examines or prints information about files, the information used will be taken from the properties of the symbolic link itself. The only exception to this behaviour is when a file specified on the command line is a symbolic link, and the link can be resolved. For that situation, the information used is taken from whatever the link points to (that is, the link is followed). The information about the link itself is used as a fallback if the file pointed to by the symbolic link cannot be examined. If -H is in effect and one of the paths specified on the command line is a symbolic link to a directory, the contents of that directory will be examined (though specifying -maxdepth 0 would prevent this). If more than one of -H, -L and -P is specified, each overrides the others; the last one appearing on the command line takes effect. Since it is the default, the -P option should be considered to be in effect unless either -H or -L is specified. GNU find frequently stats files during the processing of the command line itself, before any searching has begun. These options also affect how those arguments are processed. Specifically, there are a number of tests that compare files listed on the command line against a file we are currently considering. In each case, the file specified on the command line will have been examined and some of its properties will have been saved. If the named file is in fact a symbolic link, and the -P option is in effect (or if neither -H nor -L were specified), the information used for the comparison will be taken from the properties of the symbolic link. Otherwise, it will be taken from the properties of the file the link points to. If find cannot follow the link (for example because it has insufficient privileges or the link points to a nonexistent file) the properties of the link itself will be used. When the -H or -L options are in effect, any symbolic links listed as the argument of -newer will be dereferenced, and the timestamp will be taken from the file to which the symbolic link points. The same consideration applies to -newerXY, -anewer and -cnewer. The -follow option has a similar effect to -L, though it takes effect at the point where it appears (that is, if -L is not used but -follow is, any symbolic links appearing after -follow on the command line will be dereferenced, and those before it will not). -D debugoptions Print diagnostic information; this can be helpful to diagnose problems with why find is not doing what you want. The list of debug options should be comma separated. Compatibility of the debug options is not guaranteed between releases of findutils. For a complete list of valid debug options, see the output of find -D help. Valid debug options include: help Explain the debugging options. tree Show the expression tree in its original and optimised form. stat Print messages as files are examined with the stat and lstat system calls. The find program tries to minimize such calls. opt Prints diagnostic information relating to the optimisation of the expression tree; see the -O option. rates Prints a summary indicating how often each predicate succeeded or failed. -Olevel Enables query optimisation. The find program reorders tests to speed up execution while preserving the overall effect; that is, predicates with side effects are not reordered relative to each other. The optimisations performed at each optimisation level are as follows. There must not be a space in between -O and the decimal representing the optimization level. The decimals and their meanings are as follows: 0 Equivalent to optimisation level 1. 1 This is the default optimisation level and corresponds to the traditional behaviour. Expressions are reordered so that tests based only on the names of files (for example -name and -regex) are performed first. 2 Any -type or -xtype tests are performed after any tests based only on the names of files, but before any tests that require information from the inode. On many modern versions of Unix, file types are returned by readdir() and so these predicates are faster to evaluate than predicates which need to stat the file first. 3 At this optimisation level, the full cost-based query optimiser is enabled. The order of tests is modified so that cheap (i.e. fast) tests are performed first and more expensive ones are performed later, if necessary. Within each cost band, predicates are evaluated earlier or later according to whether they are likely to succeed or not. For -o, predicates that are likely to succeed are evaluated earlier, and for -a, predicates that are likely to fail are evaluated earlier. The cost-based optimiser has a fixed idea of how likely any given test is to succeed. In some cases the probability takes account of the specific nature of the test (for example, -type f is assumed to be more likely to succeed than -type c). The cost-based optimiser is currently being evaluated. If it does not actually improve the performance of find, it will be removed again. Conversely, optimisations that prove to be reliable, robust and effective may be enabled at lower optimisation levels over time. However, the default behaviour (i.e. optimisation level 1) will not be changed in the 4.3.x release series. The findutils test suite runs all the tests on find at each optimisation level and ensures that the result is the same. Expressions The expression is made up of options (which affect overall operation rather than the processing of a specific file, and always return true), tests (which return a true or false value), and actions (which have side effects and return a true or false value), all separated by operators. -and is assumed where the operator is omitted. If the expression contains no actions other than -prune, -print is performed on all files for which the expression is true. Expression Options All options always return true. Except for -daystart, -follow and -regextype, the options affect all tests, including tests specified before the option. This is because the options are processed when the command line is parsed, while the tests don't do anything until files are examined. The -daystart, -follow and -regextype options are different in this respect, and have an effect only on tests which appear later in the command line. Therefore, for clarity, it is best to place them at the beginning of the expression. A warning is issued if you don't do this. -d A synonym for -depth, for compatibility with FreeBSD, NetBSD, OpenBSD, and MacOS X. -daystart Measure times (for -amin, -atime, -cmin, -ctime, -mmin, and -mtime) from the beginning of today rather than from 24 hours ago. This option only affects tests which appear later on the command line. -depth Process each directory's contents before the directory itself. The -delete action also implies -depth. -follow This option is an older way to do the same thing as -L. It is now deprecated; you should use the -L option instead. This option dereferences symbolic links and implies -noleaf. The -follow option affects only those tests which appear after it on the command line. Unless the -H or -L option has been specified, the position of the -follow option changes the behaviour of the -newer predicate; any files listed as the argument of -newer will be dereferenced if they are symbolic links. The same consideration applies to -newerXY, -anewer and -cnewer. Similarly, the -type predicate will always match against the type of the file that a symbolic link points to rather than the link itself. Using -follow causes the -lname and -ilname predicates always to return false. -help, --help Print a help message, and exit. -ignore_readdir_race Normally, find gives an error message when it cannot stat a file. If you give this option and a file is deleted between the time find reads the name of the file from the directory and the time it tries to stat the file, no error message will be issued. This also applies to paths given on the command line. This option takes effect at the time the command line is read, which means that you cannot search one part of the filesystem with this option on and part of it with this option off. -maxdepth levels Descend at most levels (a non-negative integer) levels of directories below the command line arguments. -maxdepth 0 means only apply the tests and actions to the paths specified on the command line, and do not descend into subdirectories at all. -mindepth levels Do not apply any tests or actions at levels less than levels (a non-negative integer). -mindepth 1 means process all files except the command line arguments. -mount Don't descend directories on other filesystems. An alternate name for -xdev. This option is provided for compatibility with some other versions of find. -noignore_readdir_race Turns off the effect of -ignore_readdir_race. -noleaf Do not optimize by assuming that directories contain 2 fewer subdirectories than their hard link count. This option is needed when searching filesystems that do not follow the Unix directory-link convention, such as CD-ROM or MS-DOS filesystems, or AFS volume mount points. Each directory on a normal Unix filesystem has at least 2 hard links: its name and its '.' entry. Additionally, its subdirectories (if any) each have a '..' entry linked to that directory. When find is examining a directory, after it has statted 2 fewer subdirectories than the directory's link count, it knows that the rest of the entries in the directory are non-directories ('leaf' files in the directory tree). If only the files' names need to be examined, there is no need to stat them; this gives a significant increase in search speed. If you are using a standard linux filesystem, you should not need to use this option. -regextype type Changes the regular expression syntax understood by -regex and -iregex tests which occur later on the command line. Currently-implemented types are emacs (this is the default), posix-awk, posix-basic, posix-egrep and posix-extended. If you're using a specific style of regular expression syntax, you may need to specify this option. Otherwise, it should be unnecessary. -version, --version Print the find version number and exit. -warn, -nowarn Turn warning messages on or off. These warnings apply only to the command line usage, not to any conditions that find might encounter when it searches directories. The default behaviour corresponds to -warn if standard input is a tty, and to -nowarn otherwise. -xdev Don't descend directories on other filesystems. Tests Some tests, for example -newerXY and -samefile, allow comparison between the file currently being examined and some reference file specified on the command line. When these tests are used, the interpretation of the reference file is determined by the options -H, -L and -P and any previous -follow, but the reference file is only examined once, at the time the command line is parsed. If the reference file cannot be examined (for example, the stat system call fails for it), an error message is issued, and find exits with a nonzero status. Where n is used as a numeric argument, it can be specified as: +n For greater than n. -n For less than n. n For exactly n. Tests are as follows: -amin n Returns true is a file was last accessed n minutes ago. -anewer file Returns true if a file was last accessed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the access time of the file it points to is always used. -atime n Returns true if a file was last accessed n * 24 hours ago. When find figures out how many 24-hour periods ago the file was last accessed, any fractional part is ignored, so to match -atime +1, a file has to have been accessed at least two days ago. -cmin n Returns true if a file's status was last changed n minutes ago. -cnewer file Returns true if a file's status was last changed more recently than file was modified. If file is a symbolic link and the -H option or the -L option is in effect, the status-change time of the file it points to is always used. -ctime n Returns true if a file's status was last changed n 24 hours ago. See the comments for -atime to understand how rounding affects the interpretation of file status change times. -empty Returns true if a file is empty (contains nothing) and is either a regular file or a directory. -executable Matches files that are executable and directories that are searchable (in a file name resolution sense). This takes into account access control lists and other permissions artefacts which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. Because this test is based only on the result of the access system call, there is no guarantee that a file for which this test succeeds can actually be executed. -false When used as part of an expression, -false always evaluates as false. -fstype type Returns true if a file is on a filesystem of type type. The valid filesystem types vary among different versions of Unix; an incomplete list of filesystem types that are accepted on some version of Unix or another is: ufs, 4.2, 4.3, nfs, tmp, mfs, S51K, S52K. You can use -printf with the %F directive to see the types of your filesystems. -gid n Returns true if a file's numeric group ID is n. -group gname Returns true if a file belongs to group gname (numeric group IDs are allowed). -ilname pattern Like -lname, but the match is case insensitive. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -iname pattern Like -name, but the match is case insensitive. For example, the patterns 'fo ' and 'F??' match the file names 'Foo', 'FOO', 'foo', 'fOo', etc. In these patterns, unlike file name expansion by the shell, an initial '.' can be matched by ' '. That is, find -name bar will match the file '.foobar'. Please note that you should always quote patterns, otherwise the shell will expand any wildcard characters in them. -inum n Returns true if a file has inode number n. It is normally easier to use the -samefile test instead. -ipath pattern Behaves in the same way as -iwholename. This option is deprecated, so you should no longer use it. -iregex pattern Like -regex, but the match is case-insensitive. -iwholename pattern Like -wholename, but the match is case-insensitive. -links n Returns true if a file has n links. -lname pattern Returns true if a file is a symbolic link whose contents match shell pattern pattern. The metacharacters do not treat '/' or '.' specially. If the -L option or the -follow option is in effect, this test returns false unless the symbolic link is broken. -mmin n Returns true if the file's data was last modified n minutes ago. -mtime n Returns true if a file's data was last modified n * 24 hours ago. See the -atime option to understand how rounding affects the interpretation of file modification times. -name pattern Returns true if the base of a file name (the path with the leading directories removed) matches shell pattern pattern. The metacharacters ('*', '?', and '[ ]') match a '.' at the start of the base name. To ignore a directory and the files under it, use -prune; see an example in the description of -path. Braces are not recognised as being special, despite the fact that some shells including bash imbue braces with a special meaning in shell patterns. The file name matching is performed with the use of the fnmatch library function. Don't forget to enclose the pattern in quotes to protect it from expansion by the shell. -newer file Returns true if a file was modified more recently than the file file. If file is a symbolic link and the -H option or the -L option is in effect, the modification time of the file it points to is always used. -newerXY reference Compares the timestamp of the current file with reference. The reference argument is normally the name of a file (and one of its timestamps is used for the comparison) but it may also be a string describing an absolute time. X and Y are placeholders for other letters, and these letters select which time belonging to how reference is used for the comparison. a The access time of the file reference B The birth time of the file reference c The inode status change time of reference m The modification time of the file reference t reference is interpreted directly as a time Some combinations are invalid; for example, it is invalid for X to be t. Some combinations are not implemented on all systems; for example B is not supported on all systems. If an invalid or unsupported combination of XY is specified, a fatal error results. Time specifications are interpreted as for the argument to the -d option of GNU date. If you try to use the birth time of a reference file, and the birth time cannot be determined, a fatal error message results. If you specify a test which refers to the birth time of files being examined, this test will fail for any files where the birth time is unknown. -nogroup Returns tue if no existing group corresponds to file's numeric group ID. -nouser Returns true if no existing user corresponds to file's numeric user ID. -path pattern Returns true if a file name matches shell pattern pattern. The metacharacters do not treat '/' or '.' specially; so, for example, find . -path \"./sr*sc\" will print an entry for a directory called './src/misc' (if one exists). To ignore a whole directory tree, use -prune rather than checking every file in the tree. For example, to skip the directory 'src/emacs' and all files and directories under it, and print the names of the other files found, do something like this: find . -path ./src/emacs -prune -o -print Note that the pattern match test applies to the whole file name, starting from one of the start points named on the command line. It would only make sense to use an absolute pathname here if the relevant start point is also an absolute path. This means that this command will never match anything: find bar -path /foo/bar/myfile -print The predicate -path is also supported by HP-UX find and will be in a forthcoming version of the POSIX standard. -perm mode Returns true if a file's permission bits are exactly mode (octal or symbolic). Since an exact match is required, if you want to use this form for symbolic modes, you may have to specify a rather complex mode string. For example -perm g=w will only match files which have mode 0020 (that is, ones for which group write permission is the only permission set). It is more likely that you will want to use the '/' or '-' forms, for example -perm -g=w, which matches any file with group write permission. -perm -mode Returns true if all of the permission bits of mode are set for the file. Symbolic modes are accepted in this form, and this is usually the way in which would want to use them. You must specify 'u', 'g' or 'o' if you use a symbolic mode. -perm /mode Returns true if any of the permission bits of mode are set for the file. Symbolic modes are accepted in this form. You must specify 'u', 'g' or 'o' if you use a symbolic mode. If no permission bits in mode are set, this test matches any file. -perm +mode Deprecated; this is the old way of searching for files with any of the permission bits in mode. You should use -perm /mode instead. Trying to use the '+' syntax with symbolic modes will yield unexpected results. -readable Matches files that are readable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -regex pattern Returns true if a file name matches the regular expression pattern. This is a match on the whole path, not just the file name. For example, to match a file named './fubar3', you can use the regular expression '. bar.' or '. b. 3', but not 'f. r3' (because the complete path does not begin with an f). The regular expressions understood by find are by default Emacs regular expressions, but this can be changed with the -regextype option (see above). - samefile name Returns true if a file refers to the same inode as name. When -L is in effect, this can include symbolic links. -size [-|+]n[cwbkMG] Returns true if a file uses n units of space on the disk. If preceded by a minus sign (\"-\"), matches files which use less space; if preceded by a plus sign (\"+\"), matches files which use more. The following suffixes can be used to abbreviate units: b for 512-byte blocks (this is the default if no suffix is used) c for bytes w for two-byte words k for Kilobytes (units of 1024 bytes) M for Megabytes (units of 1048576 bytes) G for Gigabytes (units of 1073741824 bytes) The size does not count indirect blocks, but it does count blocks in sparse files that are not actually allocated. You should note that the '%k' and '%b' format specifiers of -printf handle sparse files differently. The 'b' suffix always denotes 512-byte blocks and never 1 Kilobyte blocks, which is different than the behaviour of -ls. -true When used in an expression, -true always returns true. -type c Returns true if a file is of type c: b block (buffered) special files c character (unbuffered) special files d directories p named pipes (FIFOs) f regular files l symbolic links. This is never true if the -L option or the -follow option has been specified, unless the symbolic link is broken. If you want to search for symbolic links when -L is in effect, use -xtype. s sockets D doors (a Solaris file type) -uid n Returns true if a file's numeric user ID is n. -used n Returns true if a file was last accessed n days after its status was last changed. -user uname Returns true if a file is owned by user uname (numeric user IDs are allowed). -wholename pattern Functionally the same as -path. This alternative is less portable than -path, however; for greatest compliance across different types of systems, you should use -path instead. -writable Matches files that are writable. This takes into account access control lists and other permissions factors which the -perm test ignores. This test makes use of the access system call, and so can be fooled by NFS servers which do UID mapping (or root-squashing), since many systems implement access in the client's kernel and so cannot make use of the UID mapping information held on the server. -xtype c The same as -type unless the file is a symbolic link. For symbolic links: if the -H or -P option was specified, returns true if the file is a link to a file of type c; if the -L option has been given, returns true if c is 'l'. In other words, for symbolic links, -xtype checks the type of the file that -type does not check. Actions -delete Delete matched files; returns true if removal succeeded. If the removal failed, an error message is issued. If -delete fails, find's exit status will be nonzero (when it eventually exits). Use of -delete automatically turns on the -depth option. Don't forget that the find command line is evaluated as an expression, so putting -delete first will make find try to delete everything below the starting points you specified. When testing a find command line that you later intend to use with -delete, you should explicitly specify -depth to avoid later surprises. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -exec command ; Execute command on each matched file; returns true if 0 is returned as the exit status of command. All following arguments to find are taken to be arguments to the command until a semicolon (';') is encountered. The string '{}' is replaced by the current file name being processed everywhere it occurs in the arguments to the command, not just in arguments where it is alone, as in some versions of find. Both of these constructions might need to be escaped (with a '\\') or quoted to protect them from expansion by the shell. The specified command is run once for each matched file. The command is executed in the starting directory. There are unavoidable security problems surrounding use of -exec; you should use the -execdir option instead. -exec command {} + This variant of the -exec action runs the specified command on the selected files, but the command line is built by appending each selected file name at the end; the total number of invocations of the command will be much less than the number of matched files. The command line is built in much the same way that xargs builds its command lines. Only one instance of '{}' is allowed within the command. The command is executed in the starting directory. -execdir command ; -execdir command {} + Like -exec, but the specified command is run from the subdirectory containing the matched file, which is not normally the directory in which you started find. This a much more secure method for invoking commands, as it avoids \"race conditions\" (where the behavior is determined by an unpredictable order of system operations) during resolution of the paths to the matched files. As with the -exec action, the '+' form of -execdir will build a command line to process more than one matched file, but any given invocation of command will only list files that exist in the same subdirectory. If you use this option, you must ensure that your $PATH environment variable does not reference '.'; otherwise, an attacker can run any commands they like by leaving an appropriately-named file in a directory in which you will run -execdir. The same applies to having entries in $PATH that are empty or not absolute directory names. -fls file Returns true; behaves like -ls, but writes to file like -fprint. The output file is always created, even if no match is found. -fprint file Returns true; prints the full file name into file file. If file does not exist when find is run, it is created; if it does exist, it is truncated. The file names \"/dev/stdout\" and \"/dev/stderr\" are handled specially; they refer to the standard output and standard error output, respectively. The output file is always created, even if the predicate is never matched. -fprint0 file Returns true; like -print0 but writes to file like -fprint. The output file is always created, even if no match is found. -fprintf file format Returns true; like -printf, but writ ionalisation message catalogues. PATH Affects the directories that are searched to find the executables invoked by -exec, -execdir, -ok and -okdir. POSIXLY_CORRECT Determines the block size used by -ls and -fls. If POSIXLY_CORRECT is set, blocks are units of 512 bytes. Otherwise, they are units of 1024 bytes. Setting this variable also turns off warning messages (that is, implies -nowarn) by default, because POSIX requires that apart from the output for -ok, all messages printed on stderr are diagnostics and must result in a non-zero exit status. When POSIXLY_CORRECT is not set, -perm +zzz is treated just like -perm /zzz if +zzz is not a valid symbolic mode. When POSIXLY_CORRECT is set, such constructs are treated as an error. When POSIXLY_CORRECT is set, the response to the prompt made by the -ok action is interpreted according to the system's message catalogue, as opposed to according to find's own message translations. TZ Affects the time zone used for some of the time-related format directives of -printf and -fprintf. Examples find When using linux, running the find command without any options will locate and print a list of every file in and beneath the current directory. This includes all files in all subdirectories of the current directory. find . Same as the above command. The \".\" explicitly tells find that you want the search to begin in the current directory. find . /home/jeff /home/stacy Locate and print all files and directories in and beneath three different starting directories: the current directory, /home/jeff, and /home/stacy. find /usr/bin /usr/lib -name ' zip ' Locate and print all files and directories in and beneath either of the directories /usr/bin and /usr/lib which contains the text \"zip\" anywhere in the file or directory name. find /home/jeff/fruit | grep 'apple' This command tells find to locate and print a complete list of all files in and beneath the directory /home/jeff/fruit, and to pipe this listing to grep, which filters out any file name which does not contain the text \"apple\". find . -name 'apple' Locate and print a list of any file in or below the current directory whose name is exactly \"apple\", all lower case letters. find . -iname 'apple' Locate and print a list of any file in or below the current directory whose name is \"apple\", but match the letters case-insensitively. Therefore, files or directories named \"Apple\", \"ApplE\", and \"ApPLe\" will all be listed by this command. find . -name 'apple' -type f Locate and print a list of files in or below the current directory whose name is \"apple\"; do not display directories, sockets, or other non-regular file types. find . -name 'apple' -type d Locate a print a list of directories in or below the current directory whose name is \"apple\"; do not display regular files, or file types other than directory entries. find . -group dev Locate and print a list of any file in or below the current directory whose owning group is the dev group. find . -L Locate and print a list of any file in or below the current directory, and follow symbolic links. In other words, display information about the file a symbolic link links to, rather than information about the symlink itself. find . -atime +1 Locate and print a list of any file in or below the current directory that was last accessed more than 1 day ago. find . -atime -1 Locate and print a list of any file in or below the current directory that was last accessed less than 1 day ago. find . -amin +5 Locate and print a list of any file in or below the current directory that was modified more than 5 minutes ago. find . -amin -5 Locate and print a list of any file in or below the current directory that was modified fewer than 5 minutes ago. find . -perm 754 Locate and print a list of any file in or below the current directory whose octal permission bits are 755 (user can read, write, and execute; owning group members can read and execute; others can read only). For more information about permission bits, see chmod. find . -perm u=rwx,g=rx,o=r Same as the above command, but uses a symbolic representation of the permission bits. Note that the symbolic notation uses a comma separator and contains no spaces. find . -size +1M -type f Locate and print a list of any regular file in or below the current directory whose size is greater than 1 megabyte. find . -size -5G -type f Locate and print a list of any regular file in or below the current directory whose size is less than 5 gigabytes. find . -user jeff Locate and print a list of any file or directory in or below the current directory owned by the user jeff. find . -size +1G -exec mv '{}' ~/bigfiles \\; Locate any files in or below the current directory whose size is greater than 1 gigabyte, and execute the mv command on them, moving them into the directory bigfiles in your home directory. The {} indicates where in the command the name of the matched file should be placed; it must be enclosed in quotes to protect it from being misinterpreted by the shell. Similarly, the semicolon which ends the command must be escaped with a backslash (\"\\;\"). find . -size +1G -print0 | xargs -0 -I '{}' mv '{}' ~/bigfiles Locate any files in or below the current directory whose size is greater than 1 gigabyte, then pipe that list to the xargs command, which uses the mv command to move each one of those files into the directory bigfiles in your home directory. This is similar to the above command, but better for several reasons. First, it uses the -print0 option to tell find to create its list separating each file name with a null character rather than a newline; this makes the list difficult for a human to read, but has the advantage of making it easier for another program to parse. You should always use -print0 when piping output to xargs. Using xargs to execute commands on every file found is generally better than using find's -exec option because of the more efficient way xargs threads each command that it spawns. The -0 argument to xargs tells it to expect the null character as the file name separator (which we specified with find's -print0 option). The -I '{}' option tells xargs to replace \"{}\" with the name of each file it finds. We then form our command using {} where we want the file name to appear. We enclose it in single quotes to protect it from the shell. xargs does not expect a semicolon at the end of the command, unlike find -exec, so it is not included in this command. find . -size +1G -ok mv '{}' ~/bigfiles \\; Using -ok is the same as using -exec, but you will be asked for confirmation before each command is executed. find . -name ' .jpg' -o -name ' .gif' Locate any files in or below the current directory whose suffix is \".jpg\" or \".gif\". The -o option functions as a boolean OR operator; if either of the conditions are true, the file will be included in the list. find . -maxdepth 2 -name '*.jpg' Locate any files in or below the current directory whose suffix is \".jpg\", but limit subdirectory traversal to 2 levels beneath the current directory. Any subdirectories 3 or more levels deep will not be searched. find . ! -name '*.jpg' Locate any files in or below the current directory whose suffix is not \".jpg\". The exclamation mark (\"!\") functions as a boolean NOT operator; it lists only files for which the condition is false. find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f Find files named core in or below the directory /tmp and delete them. The -name test comes before the -type test to avoid having to call stat on every file. find $HOME -mtime 0 Search for files in your home directory which have been modified in the last twenty-four hours. This command works this way because the time since each file was last modified is divided by 24 hours and any remainder is discarded. That means that to match -mtime 0, a file will have to have a modification in the past that is less than 24 hours ago. find /sbin /usr/sbin -executable ! -readable Search for files in your superuser binary directories, /sbin and /usr/sbin, which are executable but not readable.","title":"Syntax"},{"location":"Linux/P1-Commands/command-find/#suppressing-error-messages-when-using-find","text":"One last tip for using find: you will receive an error message if find encounters a file or directory you don't have access to view. The error message will look like this: find: `./tmp/sysfile-PKdhtXMmr18n': Permission denied You might not want these messages in your output; they can make it difficult to parse your actual find results. For these examples, we'll assume you're using bash as your shell, which is the default under linux. Let's say your command is this simple one: find . If the results of this command are giving you \"Permission denied\" errors, the simplest way to filter them out is to send them all to /dev/null, which is the device on linux which points to nowhere. Your command would look like this: find . 2>/dev/null Here, 2> is a special operator in bash which means \"redirect standard error\". This will effectively hide all error messages from find's output. You might not want to hide every error message, though. What if there's another error of some kind? You don't want to suppress those messages too. In that case, you can use this command instead: find . 2>&1 | grep -v 'Permission denied' Here, 2> tells bash to redirect standard error, and &1 tells it to use standard output as the destination. This redirects all error messages issued by find to standard output; this will look the same on your terminal screen, but by merging them with standard output, we have made them filterable by grep. So we then pipe the output of find to grep, which matches the inverse (-v) of our string, 'Permission denied'. The result is that it displays any line which does not contain that string. This allows you to view your results without any pesky \"Permission denied\" error messages.es to file like -fprint. The output file is always created, even if the predicate is never matched. -ls Returns true; lists current file in ls -dils format (see ls for details) on standard output. The block counts are of 1K blocks, unless the environment variable POSIXLY_CORRECT is set, in which case 512-byte blocks are used. -ok command ; Like -exec, but asks the user first. If the user agrees, find runs the command. Otherwise, it returns false. If the command is run, its standard input is redirected from /dev/null. The response to the prompt is matched against a pair of regular expressions to determine if it is an affirmative or negative response. This regular expression is obtained from the system if the 'POSIXLY_CORRECT' environment variable is set, or otherwise from find's message translations. If the system has no suitable definition, find's own definition will be used. In either case, the interpretation of the regular expression itself will be affected by the environment variables 'LC_CTYPE' (character classes) and 'LC_COLLATE' (character ranges and equivalence classes). -okdir command ; Like -execdir but asks the user first in the same way as for -ok. If the user does not agree, returns false. If the command is run, its standard input is redirected from /dev/null. -print Returns true; prints the full file name on the standard output, followed by a newline. If you are piping the output of find into another program and there is the faintest possibility that the files which you are searching for might contain a newline, then you should consider using the -print0 option instead of -print. -print0 Returns true; prints the full file name on the standard output, followed by a null character (instead of the newline character that -print uses). This allows file names that contain newlines or other types of white space to be correctly interpreted by programs that process the find output. This option corresponds to the -0 option of xargs. -printf format Returns true; prints format on the standard output, interpreting '\\' escapes and '%' directives. Field widths and precisions can be specified as with the 'printf' C function. Please note that many of the fields are printed as %s rather than %d, and this may mean that flags don't work as you might expect. This also means that the '-' flag does work (it forces fields to be left-aligned). Unlike -print, -printf does not add a newline at the end of the string. The escapes and directives are: \\a Alarm bell. \\b Backspace. \\c Stop printing using format immediately and flush the remaining output. \\f Form feed. \\n Newline. \\r Carriage return. \\t Horizontal tab. \\v Vertical tab. \\0 The ASCII NUL character. \\ A literal backslash ('\\'). \\NNN The character whose ASCII code is NNN (where NNN is an octal value). A '\\' character followed by any other character is treated as an ordinary character, so they both are printed. %% A literal percent sign. %a The file's last access time in the format returned by the C ctime function. %Ak The file's last access time in the format specified by k, which is either '@' or a directive of the C 'strftime' function. The possible values for k are listed below; some of them might not be available on all systems, due to differences in strftime between systems. Values for k can be one of the following: @ seconds since Jan. 1, 1970, 00:00 GMT, with fractional part. Time fields: H hour (00..23) I hour (01..12) k hour ( 0..23) l hour ( 1..12) M minute (00..59) p locale's AM or PM r time, 12-hour (hh:mm:ss [AP]M) S Second (00.00 .. 61.00). There is a fractional part. T time, 24-hour (hh:mm:ss) + Date and time, separated by '+', for example '2004-04-28+22:22:05.0'. This is a GNU extension. The time is given in the current timezone (which may be affected by setting the TZ environment variable). The seconds field includes a fractional part. X locale's time representation (H:M:S) Z time zone (e.g., EDT), or nothing if no time zone is determinable Date fields: a locale's abbreviated weekday name (Sun..Sat) A locale's full weekday name, variable length (Sunday..Saturday) b locale's abbreviated month name (Jan..Dec) B locale's full month name, variable length (January..December) c locale's date and time (Sat Nov 04 12:02:33 EST 1989). The format is the same as for ctime and so to preserve compatibility with that format, there is no fractional part in the seconds field. d day of month (01..31) D date (mm/dd/yy) h same as b j day of year (001..366) m month (01..12) U week number of year with Sunday as first day of week (00..53) w day of week (0..6) W week number of year with Monday as first day of week (00..53) x locale's date representation (mm/dd/yy) y last two digits of year (00..99) Y year (1970..) %b The amount of disk space used for this file in 512-byte blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/512, but it can also be smaller if the file is a sparse file. %c File's last status change time in the format returned by the C 'ctime' function. %Ck File's last status change time in the format specified by k, which is the same as for %A. %d File's depth in the directory tree; 0 means the file is a command line argument. %D The device number on which the file exists (the st_dev field of struct stat), in decimal. %f File's name with any leading directories removed (only the last element). %F Type of the filesystem the file is on; this value can be used for -fstype. %g File's group name, or numeric group ID if the group has no name. %G File's numeric group ID. %h Leading directories of file's name (all but the last element). If the file name contains no slashes (since it is in the current directory) the %h specifier expands to \".\". %H Command line argument under which file was found. %i File's inode number (in decimal). %k The amount of disk space used for this file in 1K blocks. Since disk space is allocated in multiples of the filesystem block size this is usually greater than %s/1024, but it can also be smaller if the file is a sparse file. %l Object of symbolic link (empty string if file is not a symbolic link). %m File's permission bits (in octal). This option uses the 'traditional' numbers which most Unix implementations use, but if your particular implementation uses an unusual ordering of octal permissions bits, you will see a difference between the actual value of the file's mode and the output of %m. Normally you will want to have a leading zero on this number, and to do this, you should use the # flag (as in, for example, '%#m'). %M File's permissions (in symbolic form, as for ls). %n Number of hard links to file. %p File's name. %P File's name with the name of the command line argument under which it was found removed. %s File's size in bytes. %S File's sparseness. This is calculated as (BLOCKSIZE*st_blocks / st_size). The exact value you will get for an ordinary file of a certain length is system-dependent. However, normally sparse files will have values less than 1.0, and files which use indirect blocks may have a value that is greater than 1.0. The value used for BLOCKSIZE is system-dependent, but is usually 512 bytes. If the file size is zero, the value printed is undefined. On systems which lack support for st_blocks, a file's sparseness is assumed to be 1.0. %t File's last modification time in the format returned by the C 'ctime' function. %Tk File's last modification time in the format specified by k, which is the same as for %A. %u File's user name, or numeric user ID if the user has no name. %U File's numeric user ID. %y File's type (like in ls -l). U=unknown type (although this shouldn't happen) %Y File's type (like %y), plus follow symlinks: L=loop, N=nonexistent A '%' character followed by any other character is discarded, but the other character is printed (but don't rely on this, as further format characters may be introduced). A '%' at the end of the format argument causes undefined behaviour since there is no following character. In some locales, it may hide your door keys, while in others it may remove the final page from the novel you are reading. The %m and %d directives support the # , 0 and + flags, but the other directives do not, even if they print numbers. Numeric directives that do not support these flags include G, U, b, D, k and n. The '-' format flag is supported and changes the alignment of a field from right-justified (which is the default) to left-justified. -prune True; if the file is a directory, do not descend into it. If -depth is given, false; no effect. Because -delete implies -depth, you cannot usefully use -prune and -delete together. -quit Exit immediately. No child processes will be left running, but no more paths specified on the command line will be processed. For example, find /tmp/foo /tmp/bar -print -quit will print only /tmp/foo. Any command lines which have been built up with -execdir ... {} + will be invoked before find exits. The exit status may or may not be zero, depending on whether an error has already occurred. Handling Unusual File Names Many of the actions of find result in the printing of data that is under the control of other users. This includes file names, sizes, modification times and so forth. File names are a potential problem since they can contain any character except '\\0' and '/'. Unusual characters in file names can do unexpected and often undesirable things to your terminal (for example, changing the settings of your function keys on some terminals). Unusual characters are handled differently by various actions, as described below: -print0, -fprint0 Always print the exact file name, unchanged, even if the output is going to a terminal. -ls, -fls Unusual characters are always escaped. White space, backslash, and double quote characters are printed using C-style escaping (for example '\\f', '\\\"'). Other unusual characters are printed using an octal escape. Other printable characters (for -ls and -fls these are the characters between octal 041 and 0176) are printed as is. -printf, -fprintf If the output is not going to a terminal, it is printed as is. Otherwise, the result depends on which directive is in use. The directives %D, %F, %g, %G, %H, %Y, and %y expand to values that are not under control of files' owners, and so are printed as is. The directives %a, %b, %c, %d, %i, %k, %m, %M, %n, %s, %t, %u and %U have values that are under the control of files' owners but which cannot be used to send arbitrary data to the terminal, and so these are printed as is. The directives %f, %h, %l, %p and %P are quoted. This quoting is performed in the same way as for GNU ls. This is not the same quoting mechanism as the one used for -ls and -fls. If you can decide what format to use for the output of find then it is normally better to use '\\0' as a terminator than to use newline, as file names can contain white space and newline characters. The setting of the 'LC_CTYPE' environment variable is used to determine which characters need to be quoted. -print, -fprint Quoting is handled in the same way as for -printf and -fprintf. If you are using find in a script or in a situation where the matched files might have arbitrary names, you should consider using -print0 instead of -print. The -ok and -okdir actions print the current file name as is. Operators The following find operators are listed in order of increasing precedence: ( expr ) Force precedence. Since parentheses are special to the shell, you will normally need to quote them. For instance, you will probably need to specify '(...)' instead of '(...)'. ! expr Returns true if expr is false. This character will also usually need protection from interpretation by the shell. -not expr Same as ! expr, but not POSIX compliant. expr1 expr2 Two expressions in a row are taken to be joined with an implied \"and\"; in other words, expr2 is not evaluated if expr1 is false. expr1 -a expr2 Same as expr1 expr2. expr1 -and expr2 Same as expr1 expr2, but not POSIX compliant. expr1 -o expr2 Boolean OR; in other words, expr2 is not evaluated if expr1 is true. expr1 -or expr2 Same as expr1 -o expr2, but not POSIX compliant. expr1 , expr2 Separating two expressions with a comma treats them as a list: both expr1 and expr2 are always evaluated. The value of expr1 is discarded in the return value; the value of the list is the value of expr2. The comma operator can be useful for searching for different types of thing, but traversing the filesystem hierarchy only once. The -fprintf action can be used to list the various matched items into different output files. Environment Variables LANG Provides a default value for the internationalization variables that are unset or null. LC_ALL If set to a non-empty string value, this variable's value overrides the values of all the other internationalization variables. LC_COLLATE The POSIX standard specifies that this variable affect the pattern matching to be used for the -name option. GNU find uses the fnmatch library function, and so support for 'LC_COLLATE' depends on the system library. This variable also affects the interpretation of the response to -ok; while the 'LC_MESSAGES' variable selects the actual pattern used to interpret the response to -ok, the interpretation of any bracket expressions in the pattern will be affected by 'LC_COLLATE'. LC_CTYPE This variable affects the treatment of character classes used in regular expressions and also with the -name test, if the system's fnmatch library function supports this. This variable also affects the interpretation of any character classes in the regular expressions used to interpret the response to the prompt issued by -ok. The 'LC_CTYPE' environment variable will also affect which characters are considered to be unprintable when file names are printed. LC_MESSAGES Determines the locale to be used for internationalised messages. If the 'POSIXLY_CORRECT' environment variable is set, this also determines the interpretation of the response to the prompt made by the -ok action. NLSPATH Determines the location of the internationalisation message catalogues. PATH Affects the directories that are searched to find the executables invoked by -exec, -execdir, -ok and -okdir. POSIXLY_CORRECT Determines the block size used by -ls and -fls. If POSIXLY_CORRECT is set, blocks are units of 512 bytes. Otherwise, they are units of 1024 bytes. Setting this variable also turns off warning messages (that is, implies -nowarn) by default, because POSIX requires that apart from the output for -ok, all messages printed on stderr are diagnostics and must result in a non-zero exit status. When POSIXLY_CORRECT is not set, -perm +zzz is treated just like -perm /zzz if +zzz is not a valid symbolic mode. When POSIXLY_CORRECT is set, such constructs are treated as an error. When POSIXLY_CORRECT is set, the response to the prompt made by the -ok action is interpreted according to the system's message catalogue, as opposed to according to find's own message translations. TZ Affects the time zone used for some of the time-related format directives of -printf and -fprintf. Examples find When using linux, running the find command without any options will locate and print a list of every file in and beneath the current directory. This includes all files in all subdirectories of the current directory. find . Same as the above command. The \".\" explicitly tells find that you want the search to begin in the current directory. find . /home/jeff /home/stacy Locate and print all files and directories in and beneath three different starting directories: the current directory, /home/jeff, and /home/stacy. find /usr/bin /usr/lib -name ' zip ' Locate and print all files and directories in and beneath either of the directories /usr/bin and /usr/lib which contains the text \"zip\" anywhere in the file or directory name. find /home/jeff/fruit | grep 'apple' This command tells find to locate and print a complete list of all files in and beneath the directory /home/jeff/fruit, and to pipe this listing to grep, which filters out any file name which does not contain the text \"apple\". find . -name 'apple' Locate and print a list of any file in or below the current directory whose name is exactly \"apple\", all lower case letters. find . -iname 'apple' Locate and print a list of any file in or below the current directory whose name is \"apple\", but match the letters case-insensitively. Therefore, files or directories named \"Apple\", \"ApplE\", and \"ApPLe\" will all be listed by this command. find . -name 'apple' -type f Locate and print a list of files in or below the current directory whose name is \"apple\"; do not display directories, sockets, or other non-regular file types. find . -name 'apple' -type d Locate a print a list of directories in or below the current directory whose name is \"apple\"; do not display regular files, or file types other than directory entries. find . -group dev Locate and print a list of any file in or below the current directory whose owning group is the dev group. find . -L Locate and print a list of any file in or below the current directory, and follow symbolic links. In other words, display information about the file a symbolic link links to, rather than information about the symlink itself. find . -atime +1 Locate and print a list of any file in or below the current directory that was last accessed more than 1 day ago. find . -atime -1 Locate and print a list of any file in or below the current directory that was last accessed less than 1 day ago. find . -amin +5 Locate and print a list of any file in or below the current directory that was modified more than 5 minutes ago. find . -amin -5 Locate and print a list of any file in or below the current directory that was modified fewer than 5 minutes ago. find . -perm 754 Locate and print a list of any file in or below the current directory whose octal permission bits are 755 (user can read, write, and execute; owning group members can read and execute; others can read only). For more information about permission bits, see chmod. find . -perm u=rwx,g=rx,o=r Same as the above command, but uses a symbolic representation of the permission bits. Note that the symbolic notation uses a comma separator and contains no spaces. find . -size +1M -type f Locate and print a list of any regular file in or below the current directory whose size is greater than 1 megabyte. find . -size -5G -type f Locate and print a list of any regular file in or below the current directory whose size is less than 5 gigabytes. find . -user jeff Locate and print a list of any file or directory in or below the current directory owned by the user jeff. find . -size +1G -exec mv '{}' ~/bigfiles \\; Locate any files in or below the current directory whose size is greater than 1 gigabyte, and execute the mv command on them, moving them into the directory bigfiles in your home directory. The {} indicates where in the command the name of the matched file should be placed; it must be enclosed in quotes to protect it from being misinterpreted by the shell. Similarly, the semicolon which ends the command must be escaped with a backslash (\"\\;\"). find . -size +1G -print0 | xargs -0 -I '{}' mv '{}' ~/bigfiles Locate any files in or below the current directory whose size is greater than 1 gigabyte, then pipe that list to the xargs command, which uses the mv command to move each one of those files into the directory bigfiles in your home directory. This is similar to the above command, but better for several reasons. First, it uses the -print0 option to tell find to create its list separating each file name with a null character rather than a newline; this makes the list difficult for a human to read, but has the advantage of making it easier for another program to parse. You should always use -print0 when piping output to xargs. Using xargs to execute commands on every file found is generally better than using find's -exec option because of the more efficient way xargs threads each command that it spawns. The -0 argument to xargs tells it to expect the null character as the file name separator (which we specified with find's -print0 option). The -I '{}' option tells xargs to replace \"{}\" with the name of each file it finds. We then form our command using {} where we want the file name to appear. We enclose it in single quotes to protect it from the shell. xargs does not expect a semicolon at the end of the command, unlike find -exec, so it is not included in this command. find . -size +1G -ok mv '{}' ~/bigfiles \\; Using -ok is the same as using -exec, but you will be asked for confirmation before each command is executed. find . -name ' .jpg' -o -name ' .gif' Locate any files in or below the current directory whose suffix is \".jpg\" or \".gif\". The -o option functions as a boolean OR operator; if either of the conditions are true, the file will be included in the list. find . -maxdepth 2 -name '*.jpg' Locate any files in or below the current directory whose suffix is \".jpg\", but limit subdirectory traversal to 2 levels beneath the current directory. Any subdirectories 3 or more levels deep will not be searched. find . ! -name '*.jpg' Locate any files in or below the current directory whose suffix is not \".jpg\". The exclamation mark (\"!\") functions as a boolean NOT operator; it lists only files for which the condition is false. find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f Find files named core in or below the directory /tmp and delete them. The -name test comes before the -type test to avoid having to call stat on every file. find $HOME -mtime 0 Search for files in your home directory which have been modified in the last twenty-four hours. This command works this way because the time since each file was last modified is divided by 24 hours and any remainder is discarded. That means that to match -mtime 0, a file will have to have a modification in the past that is less than 24 hours ago. find /sbin /usr/sbin -executable ! -readable Search for files in your superuser binary directories, /sbin and /usr/sbin, which are executable but not readable.","title":"Suppressing Error Messages When Using find"},{"location":"Linux/P1-Commands/command-find/#suppressing-error-messages-when-using-find_1","text":"One last tip for using find: you will receive an error message if find encounters a file or directory you don't have access to view. The error message will look like this: find: `./tmp/sysfile-PKdhtXMmr18n': Permission denied You might not want these messages in your output; they can make it difficult to parse your actual find results. For these examples, we'll assume you're using bash as your shell, which is the default under linux. Let's say your command is this simple one: find . If the results of this command are giving you \"Permission denied\" errors, the simplest way to filter them out is to send them all to /dev/null, which is the device on linux which points to nowhere. Your command would look like this: find . 2>/dev/null Here, 2> is a special operator in bash which means \"redirect standard error\". This will effectively hide all error messages from find's output. You might not want to hide every error message, though. What if there's another error of some kind? You don't want to suppress those messages too. In that case, you can use this command instead: find . 2>&1 | grep -v 'Permission denied' Here, 2> tells bash to redirect standard error, and &1 tells it to use standard output as the destination. This redirects all error messages issued by find to standard output; this will look the same on your terminal screen, but by merging them with standard output, we have made them filterable by grep. So we then pipe the output of find to grep, which matches the inverse (-v) of our string, 'Permission denied'. The result is that it displays any line which does not contain that string. This allows you to view your results without any pesky \"Permission denied\" error messages. \u4f8b\u5b50\uff1a \u5217\u51fa\u7ed3\u5c3e\u4e0d\u662f .rpm \u7684\u6587\u4ef6\uff0c\u5e76\u5220\u9664 find -type f ( ! -iname \"*.rpm\" ) -print -exec rm {} \\;^C","title":"Suppressing Error Messages When Using find"},{"location":"Linux/P1-Commands/command-runuser/","text":"Command: RUNUSER runuser\u547d\u4ee4\u4f7f\u7528\u6307\u5b9a\u7684\u7528\u6237\u6216\u5728\u7528\u6237\u7ec4\u8fd0\u884cShell\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u4ec5root\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\uff08\u5176\u5b83\u7528\u6237\u4f7f\u7528\u6b64\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u9700\u8981\u8bbe\u7f6e setuid\uff0c\u5426\u5219\u8fd0\u884c\u5931\u8d25\uff09\uff0c\u4f7f\u7528 runuser\u547d\u4ee4\u4e0d\u9700\u8981\u8fdb\u884c\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1\uff0c\u56e0\u6b64\u7cfb\u7edf\u5f00\u9500\u6bd4su\u4f4e\u3002 ## \u4f7f\u7528\u8bf4\u660e\uff1a runuser [OPTION]... [-] [USER [ARG]...] \u53c2\u6570\uff1a -, -l, --login \u7ed9\u5b9a\u6267\u884cshell\u73af\u5883\u7684\u7528\u6237\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u5b9a\u53c2\u6570\uff0c\u5219\u8868\u793a\u4f7f\u7528\u7684\u662froot\u7528\u6237 -g --group=group \u7ed9\u5b9a\u6267\u884csell\u73af\u5883\u7684\u4e3b\u7528\u6237\u7ec4 -G --supp-group=group \u7ed9\u5b9a\u6267\u884csell\u73af\u5883\u7684\u8865\u5145\u7528\u6237\u7ec4 -c, --command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5e76\u521b\u5efa\u4f1a\u8bdd --session-command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f46\u662f\u5e76\u4e0d\u521b\u5efa\u4f1a\u8bdd -f, --fast \u4f20\u9012\u201c-f\u201d \u7ed9 shell \u73af\u5883\uff0c\u542f\u52a8 sell\u7684fast\u6a21\u5f0f\uff08\u4ec5\u5bf9 csh\u548c tcsh\u53c8\u7528\uff0cfast\u6a21\u5f0f\u4e0b\u8fd9\u4e24\u4e2ashell\u542f\u52a8\u7684\u65f6\u5019\u4e0d\u4f1a\u8c03\u7528\u8005\u4e3b\u76ee\u5f55\u4e2d\u7684.cshrc\u6587\u4ef6\u5e76\u641c\u7d22\u548c\u6267\u884c\u547d\u4ee4\u91cc\u9762\u7684\u521d\u59cb\u5316\u547d\u4ee4\uff0c\u5e38\u7528\u7684 bash\u3001ksh \u4e0d\u7528\u5904\u7406\u8fd9\u4e2a\u53c2\u6570\uff0c\u751a\u81f3\u4f1a\u62a5\u9519\uff09 -m, --preserve-environment \u4e0d\u91cd\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u7ee7\u7eed\u6cbf\u7528\u5f53\u524d\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u53d8\u91cf,\u4e0d\u53ef\u4ee5\u4e0e \u201c-\u201d\uff0c\u201c-l\u201d,\u201c--login\u201d \u540c\u65f6\u4f7f\u7528 -p \u4e0e -m \u53c2\u6570\u4e00\u81f4 -s, --shell=SHELL \u5982\u679c/etc/shells\u91cc\u9762\u7f57\u5217\u4e86\u7684\u8bdd\uff0c\u5219\u8fd0\u884c\u7ed9\u5b9a\u7684shell --help \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa --version \u663e\u793a\u7248\u672c\u4fe1\u606f\u5e76\u9000\u51fa \u4e3e\u4f8b\u793a\u8303\uff1a \u975eroot\u7528\u6237\u6267\u884c\u4f1a\u62a5\u9519 [Anson@workstation ~]$ runuser - -c ls runuser: may not be used by non-root users 2. \u4e0d\u63d0\u4f9b\u7528\u6237\u540d\u7684\u65f6\u5019\u7f3a\u7701\u8868\u793a root\u7528\u6237\uff0c\u53cd\u4e4b\u662f\u7ed9\u5b9a\u7528\u6237 [root@workstation ~]# runuser - -c whoami root [root@workstation ~]# runuser -l Anson -c whoami Anson","title":"Command: RUNUSER"},{"location":"Linux/P1-Commands/command-runuser/#command-runuser","text":"runuser\u547d\u4ee4\u4f7f\u7528\u6307\u5b9a\u7684\u7528\u6237\u6216\u5728\u7528\u6237\u7ec4\u8fd0\u884cShell\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u4ec5root\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\uff08\u5176\u5b83\u7528\u6237\u4f7f\u7528\u6b64\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u9700\u8981\u8bbe\u7f6e setuid\uff0c\u5426\u5219\u8fd0\u884c\u5931\u8d25\uff09\uff0c\u4f7f\u7528 runuser\u547d\u4ee4\u4e0d\u9700\u8981\u8fdb\u884c\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1\uff0c\u56e0\u6b64\u7cfb\u7edf\u5f00\u9500\u6bd4su\u4f4e\u3002 ## \u4f7f\u7528\u8bf4\u660e\uff1a runuser [OPTION]... [-] [USER [ARG]...] \u53c2\u6570\uff1a -, -l, --login \u7ed9\u5b9a\u6267\u884cshell\u73af\u5883\u7684\u7528\u6237\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u5b9a\u53c2\u6570\uff0c\u5219\u8868\u793a\u4f7f\u7528\u7684\u662froot\u7528\u6237 -g --group=group \u7ed9\u5b9a\u6267\u884csell\u73af\u5883\u7684\u4e3b\u7528\u6237\u7ec4 -G --supp-group=group \u7ed9\u5b9a\u6267\u884csell\u73af\u5883\u7684\u8865\u5145\u7528\u6237\u7ec4 -c, --command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5e76\u521b\u5efa\u4f1a\u8bdd --session-command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f46\u662f\u5e76\u4e0d\u521b\u5efa\u4f1a\u8bdd -f, --fast \u4f20\u9012\u201c-f\u201d \u7ed9 shell \u73af\u5883\uff0c\u542f\u52a8 sell\u7684fast\u6a21\u5f0f\uff08\u4ec5\u5bf9 csh\u548c tcsh\u53c8\u7528\uff0cfast\u6a21\u5f0f\u4e0b\u8fd9\u4e24\u4e2ashell\u542f\u52a8\u7684\u65f6\u5019\u4e0d\u4f1a\u8c03\u7528\u8005\u4e3b\u76ee\u5f55\u4e2d\u7684.cshrc\u6587\u4ef6\u5e76\u641c\u7d22\u548c\u6267\u884c\u547d\u4ee4\u91cc\u9762\u7684\u521d\u59cb\u5316\u547d\u4ee4\uff0c\u5e38\u7528\u7684 bash\u3001ksh \u4e0d\u7528\u5904\u7406\u8fd9\u4e2a\u53c2\u6570\uff0c\u751a\u81f3\u4f1a\u62a5\u9519\uff09 -m, --preserve-environment \u4e0d\u91cd\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u7ee7\u7eed\u6cbf\u7528\u5f53\u524d\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u53d8\u91cf,\u4e0d\u53ef\u4ee5\u4e0e \u201c-\u201d\uff0c\u201c-l\u201d,\u201c--login\u201d \u540c\u65f6\u4f7f\u7528 -p \u4e0e -m \u53c2\u6570\u4e00\u81f4 -s, --shell=SHELL \u5982\u679c/etc/shells\u91cc\u9762\u7f57\u5217\u4e86\u7684\u8bdd\uff0c\u5219\u8fd0\u884c\u7ed9\u5b9a\u7684shell --help \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa --version \u663e\u793a\u7248\u672c\u4fe1\u606f\u5e76\u9000\u51fa","title":"Command: RUNUSER"},{"location":"Linux/P1-Commands/command-runuser/#_1","text":"\u975eroot\u7528\u6237\u6267\u884c\u4f1a\u62a5\u9519 [Anson@workstation ~]$ runuser - -c ls runuser: may not be used by non-root users 2. \u4e0d\u63d0\u4f9b\u7528\u6237\u540d\u7684\u65f6\u5019\u7f3a\u7701\u8868\u793a root\u7528\u6237\uff0c\u53cd\u4e4b\u662f\u7ed9\u5b9a\u7528\u6237 [root@workstation ~]# runuser - -c whoami root [root@workstation ~]# runuser -l Anson -c whoami Anson","title":"\u4e3e\u4f8b\u793a\u8303\uff1a"},{"location":"Linux/P1-Commands/command-su/","text":"Command: SU su\u547d\u4ee4\u53ef\u5207\u6362\u81f3\u5176\u4ed6\u7528\u6237(\u8d85\u7ea7\u7528\u6237\u6216\u666e\u901a\u7528\u6237)\u6267\u884c\u547d\u4ee4\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6esudoers \u5982\u679c\u60a8\u77e5\u9053\u76ee\u6807\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5b83\u5141\u8bb8Linux\u7528\u6237\u66f4\u6539\u4e0e\u6b63\u5728\u8fd0\u884c\u7684consol\u6216shell\u7684\u5f53\u524d\u7528\u6237\u5e10\u6237\u3002 \u8bed\u6cd5\u5982\u4e0b\uff1a ## \u4f7f\u7528\u8bf4\u660e\uff1a su [OPTION]... [-] [USER [ARG]...] \u53c2\u6570\uff1a -, -l, --login \u7ed9\u5b9a\u6267\u884cshell\u73af\u5883\u7684\u7528\u6237\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u5b9a\u53c2\u6570\uff0c\u5219\u8868\u793a\u4f7f\u7528\u7684\u662froot\u7528\u6237 -c, --command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5e76\u521b\u5efa\u4f1a\u8bdd --session-command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f46\u662f\u5e76\u4e0d\u521b\u5efa\u4f1a\u8bdd -f, --fast \u4f20\u9012\u201c-f\u201d \u7ed9 shell \u73af\u5883\uff0c\u542f\u52a8 sell\u7684fast\u6a21\u5f0f\uff08\u4ec5\u5bf9 csh\u548c tcsh\u53c8\u7528\uff0cfast\u6a21\u5f0f\u4e0b\u8fd9\u4e24\u4e2ashell\u542f\u52a8\u7684\u65f6\u5019\u4e0d\u4f1a\u8c03\u7528\u8005\u4e3b\u76ee\u5f55\u4e2d\u7684.cshrc\u6587\u4ef6\u5e76\u641c\u7d22\u548c\u6267\u884c\u547d\u4ee4\u91cc\u9762\u7684\u521d\u59cb\u5316\u547d\u4ee4\uff0c\u5e38\u7528\u7684 bash\u3001ksh \u4e0d\u7528\u5904\u7406\u8fd9\u4e2a\u53c2\u6570\uff0c\u751a\u81f3\u4f1a\u62a5\u9519\uff09 -m, --preserve-environment \u4e0d\u91cd\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u7ee7\u7eed\u6cbf\u7528\u5f53\u524d\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u53d8\u91cf,\u4e0d\u53ef\u4ee5\u4e0e \u201c-\u201d\uff0c\u201c-l\u201d,\u201c--login\u201d \u540c\u65f6\u4f7f\u7528 -p \u4e0e -m \u53c2\u6570\u4e00\u81f4 -s, --shell=SHELL \u5982\u679c/etc/shells\u91cc\u9762\u7f57\u5217\u4e86\u7684\u8bdd\uff0c\u5219\u8fd0\u884c\u7ed9\u5b9a\u7684shell --help \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa --version \u663e\u793a\u7248\u672c\u4fe1\u606f\u5e76\u9000\u51fa \u4e3e\u4f8b\u793a\u8303\uff1a","title":"Command: SU"},{"location":"Linux/P1-Commands/command-su/#command-su","text":"su\u547d\u4ee4\u53ef\u5207\u6362\u81f3\u5176\u4ed6\u7528\u6237(\u8d85\u7ea7\u7528\u6237\u6216\u666e\u901a\u7528\u6237)\u6267\u884c\u547d\u4ee4\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6esudoers \u5982\u679c\u60a8\u77e5\u9053\u76ee\u6807\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5b83\u5141\u8bb8Linux\u7528\u6237\u66f4\u6539\u4e0e\u6b63\u5728\u8fd0\u884c\u7684consol\u6216shell\u7684\u5f53\u524d\u7528\u6237\u5e10\u6237\u3002 \u8bed\u6cd5\u5982\u4e0b\uff1a ## \u4f7f\u7528\u8bf4\u660e\uff1a su [OPTION]... [-] [USER [ARG]...] \u53c2\u6570\uff1a -, -l, --login \u7ed9\u5b9a\u6267\u884cshell\u73af\u5883\u7684\u7528\u6237\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u5b9a\u53c2\u6570\uff0c\u5219\u8868\u793a\u4f7f\u7528\u7684\u662froot\u7528\u6237 -c, --command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5e76\u521b\u5efa\u4f1a\u8bdd --session-command=COMMAND \u6267\u884c\u7684\u5177\u4f53\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f46\u662f\u5e76\u4e0d\u521b\u5efa\u4f1a\u8bdd -f, --fast \u4f20\u9012\u201c-f\u201d \u7ed9 shell \u73af\u5883\uff0c\u542f\u52a8 sell\u7684fast\u6a21\u5f0f\uff08\u4ec5\u5bf9 csh\u548c tcsh\u53c8\u7528\uff0cfast\u6a21\u5f0f\u4e0b\u8fd9\u4e24\u4e2ashell\u542f\u52a8\u7684\u65f6\u5019\u4e0d\u4f1a\u8c03\u7528\u8005\u4e3b\u76ee\u5f55\u4e2d\u7684.cshrc\u6587\u4ef6\u5e76\u641c\u7d22\u548c\u6267\u884c\u547d\u4ee4\u91cc\u9762\u7684\u521d\u59cb\u5316\u547d\u4ee4\uff0c\u5e38\u7528\u7684 bash\u3001ksh \u4e0d\u7528\u5904\u7406\u8fd9\u4e2a\u53c2\u6570\uff0c\u751a\u81f3\u4f1a\u62a5\u9519\uff09 -m, --preserve-environment \u4e0d\u91cd\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u7ee7\u7eed\u6cbf\u7528\u5f53\u524d\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u53d8\u91cf,\u4e0d\u53ef\u4ee5\u4e0e \u201c-\u201d\uff0c\u201c-l\u201d,\u201c--login\u201d \u540c\u65f6\u4f7f\u7528 -p \u4e0e -m \u53c2\u6570\u4e00\u81f4 -s, --shell=SHELL \u5982\u679c/etc/shells\u91cc\u9762\u7f57\u5217\u4e86\u7684\u8bdd\uff0c\u5219\u8fd0\u884c\u7ed9\u5b9a\u7684shell --help \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa --version \u663e\u793a\u7248\u672c\u4fe1\u606f\u5e76\u9000\u51fa","title":"Command: SU"},{"location":"Linux/P1-Commands/command-su/#_1","text":"","title":"\u4e3e\u4f8b\u793a\u8303\uff1a"},{"location":"Linux/P1-Commands/command-sudo/","text":"Command: SUDO ## Description sudo allows a permitted user to execute a command as another user, according to specifications in the /etc/sudoers file. The real and effective uid and gid of the issuing user are then set to match those of the target user account as specified in the passwd file. By default, sudo requires that users authenticate themselves with a password. By default, this is the user's password, not the root password itself. Once a user has been authenticated, a timestamp is recorded and the user may use sudo without a password for a short period of time (5 minutes, unless configured differently in sudoers). This timestamp can be renewed if the user issues sudo with the -v flag. If a user not listed in sudoers tries to run a command using sudo, it is considered an unsuccessful attempt to breach system security and mail is sent to the proper authorities, as defined at configure time or in the sudoers file. The default authority to be notified of unsuccessful sudo attempts is root. Note that the mail will not be sent if an unauthorized user tries to run sudo with the -l or -v flags; this allows users to determine for themselves whether or not they are allowed to use sudo. sudo can log both successful and unsuccessful attempts (as well as errors) to syslog, a unique log file, or both. By default, sudo will log to syslog but this can be changed at configure time or in the sudoers file. To edit the sudoers file, use the visudo command. Syntax sudo -V | -h | -l | -L | -v | -k | -K | -s | [ -H ] [-P ] [-S ] [ -b ] | [ -p prompt ] [ -c class|- ] [ -a auth_type ] [-r role ] [-t type ] [ -u username|#uid ] command Options -V The -V (version) option causes sudo to print the version number and exit. If the invoking user is already root, the -V option will print out a list of the defaults sudo was compiled with as well as the machine's local network addresses. -l The -l (list) option will print out the commands allowed (and forbidden) the user on the current host. -L The -L (list defaults) option will list out the parameters that may be set in a Defaults line along with a short description for each. This option is useful in conjunction with grep. -h The -h (help) option causes sudo to print a usage message and exit. -v If given the -v (validate) option, sudo will update the user's timestamp, prompting for the user's password if necessary. This extends the sudo timeout for another 5 minutes (or whatever the timeout is set to in sudoers) but does not run a command. -k The -k (kill) option to sudo invalidates the user's timestamp by setting the time on it to the epoch. The next time sudo is run a password will be required. This option does not require a password and was added to allow a user to revoke sudo permissions from a .logout file. -K The -K (sure kill) option to sudo removes the user's timestamp entirely. Likewise, this option does not require a password. -b The -b (background) option tells sudo to run the given command in the background. Note that if you use the -b option you cannot use shell job control to manipulate the process. -p The -p (prompt) option allows you to override the default password prompt and use a custom one. The following percent ('%') escapes are supported: %u is expanded to the invoking user's login name; %U is expanded to the login name of the user the command will be run as (which defaults to root); %h is expanded to the local hostname without the domain name; %H is expanded to the local hostname including the domain name (only if the machine's hostname is fully qualified or the \"fqdn\" sudoers option is set); %% (two consecutive % characters) are collapsed into a single % character. -c The -c (class) option causes sudo to run the specified command with resources limited by the specified login class. The class argument can be either a class name as defined in /etc/login.conf, or a single '-' character. Specifying a class of - indicates that the command should be run restricted by the default login capabilities for the user running the command. If the class argument specifies an existing user class, the command must be run as root, or the sudo command must be run from a shell that is already root. This option is only available on systems with BSD login classes where sudo has been configured with the --with-logincap option. -a The -a (authentication type) option causes sudo to use the specified authentication type when validating the user, as allowed by /etc/login.conf. The system administrator may specify a list of sudo-specific authentication methods by adding an \"auth-sudo\" entry in /etc/login.conf. This option is only available on systems that support BSD authentication where sudo has been configured with the --with-bsdauth option. -u The -u (user) option causes sudo to run the specified command as a user other than root. To specify a uid instead of a username, use #uid. -s The -s (shell) option runs the shell specified by the SHELL environment variable if it is set or the shell as specified in the file passwd. -H The -H (HOME) option sets the HOME environment variable to the home directory of the target user (root by default) as specified in passwd. By default, sudo does not modify HOME. -P The -P (preserve group vector) option causes sudo to preserve the user's group vector unaltered. By default, sudo will initialize the group vector to the list of groups of the target user. The real and effective group IDs, however, are still set to match the target user. -r The -r (role) option causes the new (SELinux) security context to have the role specified by ROLE. -t The -t (type) option causes the new (SELinux) security context to have the have the type (domain) specified by TYPE. If no type is specified, the default type is derived from the specified role. -S The -S (stdin) option causes sudo to read the password from standard input instead of the terminal device. -- The -- flag indicates that sudo should stop processing command line arguments. It is most useful in conjunction with the -s flag. Return Values Upon successful execution of a program, the return value from sudo will be the return value of the program that was executed. Otherwise, sudo quits with an exit value of 1 if there is a configuration/permission problem or if sudo cannot execute the given command. In the latter case the error string is printed to stderr. If sudo cannot stat one or more entries in the user's PATH an error is printed on stderr. (If the directory does not exist or if it is not really a directory, the entry is ignored and no error is printed.) This should not happen under normal circumstances. The most common reason for stat to return \"permission denied\" is if you are running an auto-mounter and one of the directories in your PATH is on a machine that is currently unreachable.","title":"Command: SUDO"},{"location":"Linux/P1-Commands/command-sudo/#command-sudo","text":"## Description sudo allows a permitted user to execute a command as another user, according to specifications in the /etc/sudoers file. The real and effective uid and gid of the issuing user are then set to match those of the target user account as specified in the passwd file. By default, sudo requires that users authenticate themselves with a password. By default, this is the user's password, not the root password itself. Once a user has been authenticated, a timestamp is recorded and the user may use sudo without a password for a short period of time (5 minutes, unless configured differently in sudoers). This timestamp can be renewed if the user issues sudo with the -v flag. If a user not listed in sudoers tries to run a command using sudo, it is considered an unsuccessful attempt to breach system security and mail is sent to the proper authorities, as defined at configure time or in the sudoers file. The default authority to be notified of unsuccessful sudo attempts is root. Note that the mail will not be sent if an unauthorized user tries to run sudo with the -l or -v flags; this allows users to determine for themselves whether or not they are allowed to use sudo. sudo can log both successful and unsuccessful attempts (as well as errors) to syslog, a unique log file, or both. By default, sudo will log to syslog but this can be changed at configure time or in the sudoers file. To edit the sudoers file, use the visudo command.","title":"Command: SUDO"},{"location":"Linux/P1-Commands/command-sudo/#syntax","text":"sudo -V | -h | -l | -L | -v | -k | -K | -s | [ -H ] [-P ] [-S ] [ -b ] | [ -p prompt ] [ -c class|- ] [ -a auth_type ] [-r role ] [-t type ] [ -u username|#uid ] command","title":"Syntax"},{"location":"Linux/P1-Commands/command-sudo/#options","text":"-V The -V (version) option causes sudo to print the version number and exit. If the invoking user is already root, the -V option will print out a list of the defaults sudo was compiled with as well as the machine's local network addresses. -l The -l (list) option will print out the commands allowed (and forbidden) the user on the current host. -L The -L (list defaults) option will list out the parameters that may be set in a Defaults line along with a short description for each. This option is useful in conjunction with grep. -h The -h (help) option causes sudo to print a usage message and exit. -v If given the -v (validate) option, sudo will update the user's timestamp, prompting for the user's password if necessary. This extends the sudo timeout for another 5 minutes (or whatever the timeout is set to in sudoers) but does not run a command. -k The -k (kill) option to sudo invalidates the user's timestamp by setting the time on it to the epoch. The next time sudo is run a password will be required. This option does not require a password and was added to allow a user to revoke sudo permissions from a .logout file. -K The -K (sure kill) option to sudo removes the user's timestamp entirely. Likewise, this option does not require a password. -b The -b (background) option tells sudo to run the given command in the background. Note that if you use the -b option you cannot use shell job control to manipulate the process. -p The -p (prompt) option allows you to override the default password prompt and use a custom one. The following percent ('%') escapes are supported: %u is expanded to the invoking user's login name; %U is expanded to the login name of the user the command will be run as (which defaults to root); %h is expanded to the local hostname without the domain name; %H is expanded to the local hostname including the domain name (only if the machine's hostname is fully qualified or the \"fqdn\" sudoers option is set); %% (two consecutive % characters) are collapsed into a single % character. -c The -c (class) option causes sudo to run the specified command with resources limited by the specified login class. The class argument can be either a class name as defined in /etc/login.conf, or a single '-' character. Specifying a class of - indicates that the command should be run restricted by the default login capabilities for the user running the command. If the class argument specifies an existing user class, the command must be run as root, or the sudo command must be run from a shell that is already root. This option is only available on systems with BSD login classes where sudo has been configured with the --with-logincap option. -a The -a (authentication type) option causes sudo to use the specified authentication type when validating the user, as allowed by /etc/login.conf. The system administrator may specify a list of sudo-specific authentication methods by adding an \"auth-sudo\" entry in /etc/login.conf. This option is only available on systems that support BSD authentication where sudo has been configured with the --with-bsdauth option. -u The -u (user) option causes sudo to run the specified command as a user other than root. To specify a uid instead of a username, use #uid. -s The -s (shell) option runs the shell specified by the SHELL environment variable if it is set or the shell as specified in the file passwd. -H The -H (HOME) option sets the HOME environment variable to the home directory of the target user (root by default) as specified in passwd. By default, sudo does not modify HOME. -P The -P (preserve group vector) option causes sudo to preserve the user's group vector unaltered. By default, sudo will initialize the group vector to the list of groups of the target user. The real and effective group IDs, however, are still set to match the target user. -r The -r (role) option causes the new (SELinux) security context to have the role specified by ROLE. -t The -t (type) option causes the new (SELinux) security context to have the have the type (domain) specified by TYPE. If no type is specified, the default type is derived from the specified role. -S The -S (stdin) option causes sudo to read the password from standard input instead of the terminal device. -- The -- flag indicates that sudo should stop processing command line arguments. It is most useful in conjunction with the -s flag.","title":"Options"},{"location":"Linux/P1-Commands/command-sudo/#return-values","text":"Upon successful execution of a program, the return value from sudo will be the return value of the program that was executed. Otherwise, sudo quits with an exit value of 1 if there is a configuration/permission problem or if sudo cannot execute the given command. In the latter case the error string is printed to stderr. If sudo cannot stat one or more entries in the user's PATH an error is printed on stderr. (If the directory does not exist or if it is not really a directory, the entry is ignored and no error is printed.) This should not happen under normal circumstances. The most common reason for stat to return \"permission denied\" is if you are running an auto-mounter and one of the directories in your PATH is on a machine that is currently unreachable.","title":"Return Values"},{"location":"Linux/P2-Shell/","text":"Linux Shell \u811a\u672c","title":"Linux Shell \u811a\u672c"},{"location":"Linux/P2-Shell/#linux-shell","text":"","title":"Linux Shell \u811a\u672c"},{"location":"Linux/P3-Topic/","text":"","title":"Index"},{"location":"Linux/P4-Activity/","text":"","title":"Index"},{"location":"git/","text":"Git \u4f7f\u7528\u53c2\u8003 Git \u57fa\u672c\u6982\u5ff5 Git \u547d\u4ee4\u53c2\u8003 Git \u57fa\u672c\u4f7f\u7528 Git \u7ba1\u7406\u53c2\u8003 Git \u7ba1\u7406\u8303\u4f8b Git \u64cd\u4f5c\u8303\u4f8b","title":"Git \u4f7f\u7528\u53c2\u8003"},{"location":"git/#git","text":"","title":"Git \u4f7f\u7528\u53c2\u8003"},{"location":"git/#git_1","text":"","title":"Git \u57fa\u672c\u6982\u5ff5"},{"location":"git/#git_2","text":"","title":"Git \u547d\u4ee4\u53c2\u8003"},{"location":"git/#git_3","text":"","title":"Git \u57fa\u672c\u4f7f\u7528"},{"location":"git/#git_4","text":"","title":"Git \u7ba1\u7406\u53c2\u8003"},{"location":"git/#git_5","text":"","title":"Git \u7ba1\u7406\u8303\u4f8b"},{"location":"git/#git_6","text":"","title":"Git \u64cd\u4f5c\u8303\u4f8b"},{"location":"git/command-git/","text":"Command: GIT \u83b7\u53d6\u4e0e\u521b\u5efa\u9879\u76ee \u6709\u51e0\u79cd\u65b9\u5f0f\u83b7\u53d6\u4e00\u4e2a Git \u4ed3\u5e93\u3002 \u4e00\u79cd\u662f\u4ece\u7f51\u7edc\u4e0a\u6216\u8005\u5176\u4ed6\u5730\u65b9\u62f7\u8d1d\u4e00\u4e2a\u73b0\u6709\u7684\u4ed3\u5e93\uff0c\u53e6\u4e00\u79cd\u5c31\u662f\u5728\u4e00\u4e2a\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4ed3\u5e93\u3002 1. git init \u8fd0\u884c git init \u5c31\u53ef\u4ee5\u5c06\u4e00\u4e2a\u76ee\u5f55\u8f6c\u53d8\u6210\u4e00\u4e2a Git \u4ed3\u5e93\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u5f00\u59cb\u5bf9\u5b83\u8fdb\u884c\u7248\u672c\u7ba1\u7406\u4e86\u3002 git clone git clone \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5c01\u88c5\u4e86\u5176\u4ed6\u51e0\u4e2a\u547d\u4ee4\u7684\u547d\u4ee4\u3002 \u5b83\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u76ee\u5f55\uff0c\u5207\u6362\u5230\u65b0\u7684\u76ee\u5f55\uff0c\u7136\u540e git init \u6765\u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u7684 Git \u4ed3\u5e93\uff0c \u7136\u540e\u4e3a\u4f60\u6307\u5b9a\u7684 URL \u6dfb\u52a0\u4e00\u4e2a\uff08\u9ed8\u8ba4\u540d\u79f0\u4e3a origin \u7684\uff09\u8fdc\u7a0b\u4ed3\u5e93\uff08git remote add\uff09\uff0c\u518d\u9488\u5bf9\u8fdc\u7a0b\u4ed3\u5e93\u6267\u884c git fetch\uff0c\u6700\u540e\u901a\u8fc7 git checkout \u5c06\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u63d0\u4ea4\u68c0\u51fa\u5230\u672c\u5730\u7684\u5de5\u4f5c\u76ee\u5f55\u3002 \u5feb\u7167\u57fa\u7840 git add git add \u547d\u4ee4\u5c06\u5185\u5bb9\u4ece\u5de5\u4f5c\u76ee\u5f55\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff08\u6216\u79f0\u4e3a\u7d22\u5f15\uff08index\uff09\u533a\uff09\uff0c\u4ee5\u5907\u4e0b\u6b21\u63d0\u4ea4\u3002 \u5f53 git commit \u547d\u4ee4\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5b83\u53ea\u4f1a\u68c0\u67e5\u6682\u5b58\u533a\u57df\uff0c\u56e0\u6b64 git add \u662f\u7528\u6765\u786e\u5b9a\u4e0b\u4e00\u6b21\u63d0\u4ea4\u65f6\u5feb\u7167\u7684\u6837\u5b50\u7684\u3002 4. git status git status \u547d\u4ee4\u4f1a\u663e\u793a\u5de5\u4f5c\u533a\u53ca\u6682\u5b58\u533a\u57df\u4e2d\u4e0d\u540c\u72b6\u6001\u7684\u6587\u4ef6\u3002 \u5176\u4e2d\u5305\u542b\u4e86\u5df2\u4fee\u6539\u4f46\u672a\u6682\u5b58\uff0c\u6216\u5df2\u7ecf\u6682\u5b58\u4f46\u6ca1\u6709\u63d0\u4ea4\u7684\u6587\u4ef6\u3002 \u5728\u4e00\u822c\u7684\u663e\u793a\u5f62\u5f0f\u4e2d\uff0c\u5b83\u4f1a\u7ed9\u4f60\u4e00\u4e9b\u5982\u4f55\u5728\u8fd9\u4e9b\u6682\u5b58\u533a\u4e4b\u95f4\u79fb\u52a8\u6587\u4ef6\u7684\u63d0\u793a\u3002 5. git diff \u5f53\u9700\u8981\u67e5\u770b\u4efb\u610f\u4e24\u68f5\u6811\u7684\u5dee\u5f02\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 git diff \u547d\u4ee4\u3002 \u6b64\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u4f60\u5de5\u4f5c\u73af\u5883\u4e0e\u4f60\u7684\u6682\u5b58\u533a\u7684\u5dee\u5f02\uff08git diff \u9ed8\u8ba4\u7684\u505a\u6cd5\uff09\uff0c\u4f60\u6682\u5b58\u533a\u57df\u4e0e\u4f60\u6700\u540e\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff08git diff --staged\uff09\uff0c\u6216\u8005\u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u8bb0\u5f55\u7684\u5dee\u5f02\uff08git diff master branchB\uff09\u3002 git difftool \u5f53\u4f60\u4e0d\u60f3\u4f7f\u7528\u5185\u7f6e\u7684 git diff \u547d\u4ee4\u65f6\u3002git difftool \u53ef\u4ee5\u7528\u6765\u7b80\u5355\u5730\u542f\u52a8\u4e00\u4e2a\u5916\u90e8\u5de5\u5177\u6765\u4e3a\u4f60\u5c55\u793a\u4e24\u68f5\u6811\u4e4b\u95f4\u7684\u5dee\u5f02\u3002 7.git commit git commit \u547d\u4ee4\u5c06\u6240\u6709\u901a\u8fc7 git add \u6682\u5b58\u7684\u6587\u4ef6\u5185\u5bb9\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u7684\u5feb\u7167\uff0c\u7136\u540e\u5c06\u5f53\u524d\u5206\u652f\u4e0a\u7684\u5206\u652f\u6307\u9488\u79fb\u5230\u5176\u4e4b\u4e0a\u3002 8.git reset git reset \u547d\u4ee4\u4e3b\u8981\u7528\u6765\u6839\u636e\u4f60\u4f20\u9012\u7ed9\u52a8\u4f5c\u7684\u53c2\u6570\u6765\u6267\u884c\u64a4\u9500\u64cd\u4f5c\u3002 \u5b83\u53ef\u4ee5\u79fb\u52a8 HEAD \u6307\u9488\u5e76\u4e14\u53ef\u9009\u7684\u6539\u53d8 index \u6216\u8005\u6682\u5b58\u533a\uff0c\u5982\u679c\u4f60\u4f7f\u7528 --hard \u53c2\u6570\u7684\u8bdd\u4f60\u751a\u81f3\u53ef\u4ee5\u6539\u53d8\u5de5\u4f5c\u533a\u3002 \u5982\u679c\u9519\u8bef\u5730\u4e3a\u8fd9\u4e2a\u547d\u4ee4\u9644\u52a0\u540e\u9762\u7684\u53c2\u6570\uff0c\u4f60\u53ef\u80fd\u4f1a\u4e22\u5931\u4f60\u7684\u5de5\u4f5c\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u524d\u4f60\u8981\u786e\u5b9a\u4f60\u5df2\u7ecf\u5b8c\u5168\u7406\u89e3\u4e86\u5b83\u3002 9.git rm git rm \u662f Git \u7528\u6765\u4ece\u5de5\u4f5c\u533a\uff0c\u6216\u8005\u6682\u5b58\u533a\u79fb\u9664\u6587\u4ef6\u7684\u547d\u4ee4\u3002 \u5728\u4e3a\u4e0b\u4e00\u6b21\u63d0\u4ea4\u6682\u5b58\u4e00\u4e2a\u79fb\u9664\u64cd\u4f5c\u4e0a\uff0c\u5b83\u4e0e git add \u6709\u4e00\u70b9\u7c7b\u4f3c\u3002 10.git mv git mv \u547d\u4ee4\u662f\u4e00\u4e2a\u4fbf\u5229\u547d\u4ee4\uff0c\u7528\u4e8e\u79fb\u5230\u4e00\u4e2a\u6587\u4ef6\u5e76\u4e14\u5728\u65b0\u6587\u4ef6\u4e0a\u6267\u884c git add \u547d\u4ee4\u53ca\u5728\u8001\u6587\u4ef6\u4e0a\u6267\u884c git rm \u547d\u4ee4\u3002 git clean git clean \u662f\u4e00\u4e2a\u7528\u6765\u4ece\u5de5\u4f5c\u533a\u4e2d\u79fb\u9664\u4e0d\u60f3\u8981\u7684\u6587\u4ef6\u7684\u547d\u4ee4\u3002 \u53ef\u4ee5\u662f\u7f16\u8bd1\u7684\u4e34\u65f6\u6587\u4ef6\u6216\u8005\u5408\u5e76\u51b2\u7a81\u7684\u6587\u4ef6\u3002 \u5206\u652f\u4e0e\u5408\u5e76 git branch git branch \u547d\u4ee4\u5b9e\u9645\u4e0a\u662f\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u7684\u5206\u652f\u7ba1\u7406\u5de5\u5177\u3002 \u5b83\u53ef\u4ee5\u5217\u51fa\u4f60\u6240\u6709\u7684\u5206\u652f\u3001\u521b\u5efa\u65b0\u5206\u652f\u3001\u5220\u9664\u5206\u652f\u53ca\u91cd\u547d\u540d\u5206\u652f\u3002 git checkout git checkout \u547d\u4ee4\u7528\u6765\u5207\u6362\u5206\u652f\uff0c\u6216\u8005\u68c0\u51fa\u5185\u5bb9\u5230\u5de5\u4f5c\u76ee\u5f55\u3002 git merge git merge \u5de5\u5177\u7528\u6765\u5408\u5e76\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5206\u652f\u5230\u4f60\u5df2\u7ecf\u68c0\u51fa\u7684\u5206\u652f\u4e2d\u3002 \u7136\u540e\u5b83\u5c06\u5f53\u524d\u5206\u652f\u6307\u9488\u79fb\u52a8\u5230\u5408\u5e76\u7ed3\u679c\u4e0a\u3002 git mergetool \u5f53\u4f60\u5728 Git \u7684\u5408\u5e76\u4e2d\u9047\u5230\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 git mergetool \u6765\u542f\u52a8\u4e00\u4e2a\u5916\u90e8\u7684\u5408\u5e76\u5e2e\u52a9\u5de5\u5177\u3002 git log git log \u547d\u4ee4\u7528\u6765\u5c55\u793a\u4e00\u4e2a\u9879\u76ee\u7684\u53ef\u8fbe\u5386\u53f2\u8bb0\u5f55\uff0c\u4ece\u6700\u8fd1\u7684\u63d0\u4ea4\u5feb\u7167\u8d77\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u53ea\u663e\u793a\u4f60\u5f53\u524d\u6240\u5728\u5206\u652f\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u4f46\u662f\u53ef\u4ee5\u663e\u793a\u4e0d\u540c\u7684\u751a\u81f3\u591a\u4e2a\u5934\u8bb0\u5f55\u6216\u5206\u652f\u4ee5\u4f9b\u904d\u5386\u3002 \u6b64\u547d\u4ee4\u901a\u5e38\u4e5f\u7528\u6765\u5728\u63d0\u4ea4\u8bb0\u5f55\u7ea7\u522b\u663e\u793a\u4e24\u4e2a\u6216\u591a\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u5dee\u5f02\u3002 git stash git stash \u547d\u4ee4\u7528\u6765\u4e34\u65f6\u5730\u4fdd\u5b58\u4e00\u4e9b\u8fd8\u6ca1\u6709\u63d0\u4ea4\u7684\u5de5\u4f5c\uff0c\u4ee5\u4fbf\u5728\u5206\u652f\u4e0a\u4e0d\u9700\u8981\u63d0\u4ea4\u672a\u5b8c\u6210\u5de5\u4f5c\u5c31\u53ef\u4ee5\u6e05\u7406\u5de5\u4f5c\u76ee\u5f55\u3002 git tag git tag \u547d\u4ee4\u7528\u6765\u4e3a\u4ee3\u7801\u5386\u53f2\u8bb0\u5f55\u4e2d\u7684\u67d0\u4e00\u4e2a\u70b9\u6307\u5b9a\u4e00\u4e2a\u6c38\u4e45\u7684\u4e66\u7b7e\u3002 \u4e00\u822c\u6765\u8bf4\u5b83\u7528\u4e8e\u53d1\u5e03\u76f8\u5173\u4e8b\u9879\u3002 \u9879\u76ee\u5206\u4eab\u4e0e\u66f4\u65b0 \u5728 Git \u4e2d\u6ca1\u6709\u591a\u5c11\u8bbf\u95ee\u7f51\u7edc\u7684\u547d\u4ee4\uff0c\u51e0\u4e4e\u6240\u4ee5\u7684\u547d\u4ee4\u90fd\u662f\u5728\u64cd\u4f5c\u672c\u5730\u7684\u6570\u636e\u5e93\u3002 \u5f53\u4f60\u60f3\u8981\u5206\u4eab\u4f60\u7684\u5de5\u4f5c\uff0c\u6216\u8005\u4ece\u5176\u4ed6\u5730\u65b9\u62c9\u53d6\u53d8\u66f4\u65f6\uff0c\u8fd9\u6709\u51e0\u4e2a\u5904\u7406\u8fdc\u7a0b\u4ed3\u5e93\u7684\u547d\u4ee4\u3002 git fetch git fetch \u547d\u4ee4\u4e0e\u4e00\u4e2a\u8fdc\u7a0b\u7684\u4ed3\u5e93\u4ea4\u4e92\uff0c\u5e76\u4e14\u5c06\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u6709\u4f46\u662f\u5728\u5f53\u524d\u4ed3\u5e93\u7684\u6ca1\u6709\u7684\u6240\u6709\u4fe1\u606f\u62c9\u53d6\u4e0b\u6765\u7136\u540e\u5b58\u50a8\u5728\u4f60\u672c\u5730\u6570\u636e\u5e93\u4e2d\u3002 git pull git pull \u547d\u4ee4\u57fa\u672c\u4e0a\u5c31\u662f git fetch \u548c git merge \u547d\u4ee4\u7684\u7ec4\u5408\u4f53\uff0cGit \u4ece\u4f60\u6307\u5b9a\u7684\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u6293\u53d6\u5185\u5bb9\uff0c\u7136\u540e\u9a6c\u4e0a\u5c1d\u8bd5\u5c06\u5176\u5408\u5e76\u8fdb\u4f60\u6240\u5728\u7684\u5206\u652f\u4e2d\u3002 git push git push \u547d\u4ee4\u7528\u6765\u4e0e\u53e6\u4e00\u4e2a\u4ed3\u5e93\u901a\u4fe1\uff0c\u8ba1\u7b97\u4f60\u672c\u5730\u6570\u636e\u5e93\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5dee\u5f02\uff0c\u7136\u540e\u5c06\u5dee\u5f02\u63a8\u9001\u5230\u53e6\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u3002 \u5b83\u9700\u8981\u6709\u53e6\u4e00\u4e2a\u4ed3\u5e93\u7684\u5199\u6743\u9650\uff0c\u56e0\u6b64\u8fd9\u901a\u5e38\u662f\u9700\u8981\u9a8c\u8bc1\u7684\u3002 git remote git remote \u547d\u4ee4\u662f\u4e00\u4e2a\u662f\u4f60\u8fdc\u7a0b\u4ed3\u5e93\u8bb0\u5f55\u7684\u7ba1\u7406\u5de5\u5177\u3002 \u5b83\u5141\u8bb8\u4f60\u5c06\u4e00\u4e2a\u957f\u7684 URL \u4fdd\u5b58\u6210\u4e00\u4e2a\u7b80\u5199\u7684\u53e5\u67c4\uff0c\u4f8b\u5982 origin \uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u4e0d\u7528\u6bcf\u6b21\u90fd\u8f93\u5165\u4ed6\u4eec\u4e86\u3002 \u4f60\u53ef\u4ee5\u6709\u591a\u4e2a\u8fd9\u6837\u7684\u53e5\u67c4\uff0cgit remote \u53ef\u4ee5\u7528\u6765\u6dfb\u52a0\uff0c\u4fee\u6539\uff0c\u53ca\u5220\u9664\u5b83\u4eec\u3002 git archive git archive \u547d\u4ee4\u7528\u6765\u521b\u5efa\u9879\u76ee\u4e00\u4e2a\u6307\u5b9a\u5feb\u7167\u7684\u5f52\u6863\u6587\u4ef6\u3002 git submodule git submodule \u547d\u4ee4\u7528\u6765\u7ba1\u7406\u4e00\u4e2a\u4ed3\u5e93\u7684\u5176\u4ed6\u5916\u90e8\u4ed3\u5e93\u3002 \u5b83\u53ef\u4ee5\u88ab\u7528\u5728\u5e93\u6216\u8005\u5176\u4ed6\u7c7b\u578b\u7684\u5171\u4eab\u8d44\u6e90\u4e0a\u3002 submodule \u547d\u4ee4\u6709\u51e0\u4e2a\u5b50\u547d\u4ee4, \u5982\uff08add\u3001update\u3001sync \u7b49\u7b49\uff09\u7528\u6765\u7ba1\u7406\u8fd9\u4e9b\u8d44\u6e90\u3002 \u68c0\u67e5\u4e0e\u6bd4\u8f83 git show git show \u547d\u4ee4\u53ef\u4ee5\u4ee5\u4e00\u79cd\u7b80\u5355\u7684\u4eba\u7c7b\u53ef\u8bfb\u7684\u65b9\u5f0f\u6765\u663e\u793a\u4e00\u4e2a Git \u5bf9\u8c61\u3002 \u4f60\u4e00\u822c\u4f7f\u7528\u6b64\u547d\u4ee4\u6765\u663e\u793a\u4e00\u4e2a\u6807\u7b7e\u6216\u4e00\u4e2a\u63d0\u4ea4\u7684\u4fe1\u606f\u3002 git shortlog git shortlog \u662f\u4e00\u4e2a\u7528\u6765\u5f52\u7eb3 git log \u7684\u8f93\u51fa\u7684\u547d\u4ee4\u3002 \u5b83\u53ef\u4ee5\u63a5\u53d7\u5f88\u591a\u4e0e git log \u76f8\u540c\u7684\u9009\u9879\uff0c\u4f46\u662f\u6b64\u547d\u4ee4\u5e76\u4e0d\u4f1a\u5217\u51fa\u6240\u6709\u7684\u63d0\u4ea4\uff0c\u800c\u662f\u5c55\u793a\u4e00\u4e2a\u6839\u636e\u4f5c\u8005\u5206\u7ec4\u7684\u63d0\u4ea4\u8bb0\u5f55\u7684\u6982\u62ec\u6027\u4fe1\u606f git describe git describe \u547d\u4ee4\u7528\u6765\u63a5\u53d7\u4efb\u4f55\u53ef\u4ee5\u89e3\u6790\u6210\u4e00\u4e2a\u63d0\u4ea4\u7684\u4e1c\u897f\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u4eba\u7c7b\u53ef\u8bfb\u7684\u5b57\u7b26\u4e32\u4e14\u4e0d\u53ef\u53d8\u3002 \u8fd9\u662f\u4e00\u79cd\u83b7\u5f97\u4e00\u4e2a\u63d0\u4ea4\u7684\u63cf\u8ff0\u7684\u65b9\u5f0f\uff0c\u5b83\u8ddf\u4e00\u4e2a\u63d0\u4ea4\u7684 SHA-1 \u503c\u4e00\u6837\u662f\u65e0\u6b67\u4e49\uff0c\u4f46\u662f\u66f4\u5177\u53ef\u8bfb\u6027\u3002 \u8c03\u8bd5 Git \u6709\u4e00\u4e9b\u547d\u4ee4\u53ef\u4ee5\u7528\u6765\u5e2e\u4f60\u8c03\u8bd5\u4f60\u4ee3\u7801\u4e2d\u7684\u95ee\u9898\u3002 \u5305\u62ec\u627e\u51fa\u662f\u4ec0\u4e48\u65f6\u5019\uff0c\u662f\u8c01\u5f15\u5165\u7684\u53d8\u66f4\u3002 git bisect git bisect \u5de5\u5177\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u5b83\u901a\u8fc7\u81ea\u52a8\u8fdb\u884c\u4e00\u4e2a\u4e8c\u5206\u67e5\u627e\u6765\u627e\u5230\u54ea\u4e00\u4e2a\u7279\u5b9a\u7684\u63d0\u4ea4\u662f\u5bfc\u81f4 bug \u6216\u8005\u95ee\u9898\u7684\u7b2c\u4e00\u4e2a\u63d0\u4ea4\u3002 git blame git blame \u547d\u4ee4\u6807\u6ce8\u4efb\u4f55\u6587\u4ef6\u7684\u884c\uff0c\u6307\u51fa\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\u7684\u6700\u540e\u7684\u53d8\u66f4\u7684\u63d0\u4ea4\u53ca\u8c01\u662f\u90a3\u4e00\u4e2a\u63d0\u4ea4\u7684\u4f5c\u8005\u3002 \u5f53\u4f60\u8981\u627e\u90a3\u4e2a\u4eba\u53bb\u8be2\u95ee\u5173\u4e8e\u8fd9\u5757\u7279\u6b8a\u4ee3\u7801\u7684\u4fe1\u606f\u65f6\u8fd9\u4f1a\u5f88\u6709\u7528\u3002 git grep git grep \u547d\u4ee4\u53ef\u4ee5\u5e2e\u52a9\u5728\u6e90\u4ee3\u7801\u4e2d\uff0c\u751a\u81f3\u662f\u4f60\u9879\u76ee\u7684\u8001\u7248\u672c\u4e2d\u7684\u4efb\u610f\u6587\u4ef6\u4e2d\u67e5\u627e\u4efb\u4f55\u5b57\u7b26\u4e32\u6216\u8005\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 \u8865\u4e01 Git \u4e2d\u7684\u4e00\u4e9b\u547d\u4ee4\u662f\u4ee5\u5f15\u5165\u7684\u53d8\u66f4\u5373\u63d0\u4ea4\u8fd9\u6837\u7684\u6982\u5ff5\u4e3a\u4e2d\u5fc3\u7684\uff0c\u8fd9\u6837\u4e00\u7cfb\u5217\u7684\u63d0\u4ea4\uff0c\u5c31\u662f\u4e00\u7cfb\u5217\u7684\u8865\u4e01\u3002 \u8fd9\u4e9b\u547d\u4ee4\u4ee5\u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u7ba1\u7406\u4f60\u7684\u5206\u652f\u3002 git cherry-pick git cherry-pick \u547d\u4ee4\u7528\u6765\u83b7\u5f97\u5728\u5355\u4e2a\u63d0\u4ea4\u4e2d\u5f15\u5165\u7684\u53d8\u66f4\uff0c\u7136\u540e\u5c1d\u8bd5\u5c06\u4f5c\u4e3a\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\u5f15\u5165\u5230\u4f60\u5f53\u524d\u5206\u652f\u4e0a\u3002 \u4ece\u4e00\u4e2a\u5206\u652f\u5355\u72ec\u4e00\u4e2a\u6216\u8005\u4e24\u4e2a\u63d0\u4ea4\u800c\u4e0d\u662f\u5408\u5e76\u6574\u4e2a\u5206\u652f\u7684\u6240\u6709\u53d8\u66f4\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 git rebase git rebase \u547d\u4ee4\u57fa\u672c\u662f\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u7684 cherry-pick \u547d\u4ee4\u3002 \u5b83\u8ba1\u7b97\u51fa\u4e00\u7cfb\u5217\u7684\u63d0\u4ea4\uff0c\u7136\u540e\u518d\u4ee5\u5b83\u4eec\u5728\u5176\u4ed6\u5730\u65b9\u4ee5\u540c\u6837\u7684\u987a\u5e8f\u4e00\u4e2a\u4e00\u4e2a\u7684 cherry-picks \u51fa\u5b83\u4eec\u3002 git revert git revert \u547d\u4ee4\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u9006\u5411\u7684 git cherry-pick \u64cd\u4f5c\u3002 \u5b83\u5c06\u4f60\u63d0\u4ea4\u4e2d\u7684\u53d8\u66f4\u7684\u4ee5\u5b8c\u5168\u76f8\u53cd\u7684\u65b9\u5f0f\u7684\u5e94\u7528\u5230\u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u63d0\u4ea4\u4e2d\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u64a4\u9500\u6216\u8005\u5012\u8f6c\u3002 \u90ae\u4ef6 \u5f88\u591a Git \u9879\u76ee\uff0c\u5305\u62ec Git \u672c\u8eab\uff0c\u57fa\u672c\u662f\u901a\u8fc7\u90ae\u4ef6\u5217\u8868\u6765\u7ef4\u62a4\u7684\u3002 \u4ece\u65b9\u4fbf\u5730\u751f\u6210\u90ae\u4ef6\u8865\u4e01\u5230\u4ece\u4e00\u4e2a\u90ae\u7bb1\u4e2d\u5e94\u7528\u8fd9\u4e9b\u8865\u4e01,Git \u90fd\u6709\u5de5\u5177\u6765\u8ba9\u8fd9\u4e9b\u64cd\u4f5c\u53d8\u5f97\u7b80\u5355\u3002 git apply git apply \u547d\u4ee4\u5e94\u7528\u4e00\u4e2a\u901a\u8fc7 git diff \u6216\u8005\u751a\u81f3\u4f7f\u7528 GNU diff \u547d\u4ee4\u521b\u5efa\u7684\u8865\u4e01\u3002 \u5b83\u8ddf\u8865\u4e01\u547d\u4ee4\u505a\u4e86\u5dee\u4e0d\u591a\u7684\u5de5\u4f5c\uff0c\u4f46\u8fd8\u662f\u6709\u4e00\u4e9b\u5c0f\u5c0f\u7684\u5dee\u522b\u3002 \u6211\u4eec\u5728 \u5e94\u7528\u6765\u81ea\u90ae\u4ef6\u7684\u8865\u4e01 \u4e00\u8282\u4e2d\u6f14\u793a\u4e86\u5b83\u7684\u4f7f\u7528\u53ca\u4ec0\u4e48\u73af\u5883\u4e0b\u4f60\u53ef\u80fd\u4f1a\u7528\u5230\u5b83\u3002 git am git am \u547d\u4ee4\u7528\u6765\u5e94\u7528\u6765\u81ea\u90ae\u7bb1\u7684\u8865\u4e01\u3002\u7279\u522b\u662f\u90a3\u4e9b\u88ab mbox \u683c\u5f0f\u5316\u8fc7\u7684\u3002 \u8fd9\u5bf9\u4e8e\u901a\u8fc7\u90ae\u4ef6\u63a5\u53d7\u8865\u4e01\u5e76\u5c06\u4ed6\u4eec\u8f7b\u677e\u5730\u5e94\u7528\u5230\u4f60\u7684\u9879\u76ee\u4e2d\u5f88\u6709\u7528\u3002 \u6211\u4eec\u5728 \u4f7f\u7528 am \u547d\u4ee4\u5e94\u7528\u8865\u4e01 \u547d\u4ee4\u4e2d\u63d0\u5230\u4e86\u5b83\u7684\u7528\u6cd5\u53ca\u5de5\u4f5c\u6d41\uff0c\u5305\u62ec\u4f7f\u7528 --resolved\u3001-i \u53ca -3 \u9009\u9879\u3002 \u6211\u4eec\u5728 \u7535\u5b50\u90ae\u4ef6\u5de5\u4f5c\u6d41\u94a9\u5b50 \u4e5f\u63d0\u5230\u4e86\u51e0\u6761 hooks\uff0c\u4f60\u53ef\u4ee5\u7528\u6765\u8f85\u52a9\u4e0e git am \u76f8\u5173\u5de5\u4f5c\u6d41\u3002 \u5728 \u90ae\u4ef6\u901a\u77e5 \u4e00\u8282\u4e2d\u6211\u4eec\u4e5f\u5c06\u7528\u6b64\u547d\u4ee4\u6765\u5e94\u7528 \u683c\u5f0f\u5316\u7684 GitHub \u7684\u63a8\u9001\u8bf7\u6c42\u7684\u53d8\u66f4\u3002 git format-patch git format-patch \u547d\u4ee4\u7528\u6765\u4ee5 mbox \u7684\u683c\u5f0f\u6765\u751f\u6210\u4e00\u7cfb\u5217\u7684\u8865\u4e01\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u53d1\u9001\u5230\u4e00\u4e2a\u90ae\u4ef6\u5217\u8868\u4e2d\u3002 \u6211\u4eec\u5728 \u901a\u8fc7\u90ae\u4ef6\u7684\u516c\u5f00\u9879\u76ee \u4e00\u8282\u4e2d\u7814\u7a76\u4e86\u4e00\u4e2a\u4f7f\u7528 git format-patch \u5de5\u5177\u4e3a\u4e00\u4e2a\u9879\u76ee\u505a\u8d21\u732e\u7684\u793a\u4f8b\u3002 git imap-send git imap-send \u5c06\u4e00\u4e2a\u7531 git format-patch \u751f\u6210\u7684\u90ae\u7bb1\u4e0a\u4f20\u81f3 IMAP \u8349\u7a3f\u6587\u4ef6\u5939\u3002 \u6211\u4eec\u5728 \u901a\u8fc7\u90ae\u4ef6\u7684\u516c\u5f00\u9879\u76ee \u4e00\u8282\u4e2d\u89c1\u8fc7\u4e00\u4e2a\u901a\u8fc7\u4f7f\u7528 git imap-send \u5de5\u5177\u5411\u4e00\u4e2a\u9879\u76ee\u53d1\u9001\u8865\u4e01\u8fdb\u884c\u8d21\u732e\u7684\u4f8b\u5b50\u3002 git send-email git send-mail \u547d\u4ee4\u7528\u6765\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u90a3\u4e9b\u4f7f\u7528 git format-patch \u751f\u6210\u7684\u8865\u4e01\u3002 \u6211\u4eec\u5728 \u901a\u8fc7\u90ae\u4ef6\u7684\u516c\u5f00\u9879\u76ee \u4e00\u8282\u4e2d\u7814\u7a76\u4e86\u4e00\u4e2a\u4f7f\u7528 git send-email \u5de5\u5177\u53d1\u9001\u8865\u4e01\u6765\u4e3a\u4e00\u4e2a\u9879\u76ee\u505a\u8d21\u732e\u7684\u793a\u4f8b\u3002 git request-pull git request-pull \u547d\u4ee4\u53ea\u662f\u7b80\u5355\u7684\u7528\u6765\u751f\u6210\u4e00\u4e2a\u53ef\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u7ed9\u67d0\u4e2a\u4eba\u7684\u793a\u4f8b\u4fe1\u606f\u4f53\u3002 \u5982\u679c\u4f60\u5728\u516c\u5171\u670d\u52a1\u5668\u4e0a\u6709\u4e00\u4e2a\u5206\u652f\uff0c\u5e76\u4e14\u60f3\u8ba9\u522b\u4eba\u77e5\u9053\u5982\u4f55\u96c6\u6210\u8fd9\u4e9b\u53d8\u66f4\uff0c\u800c\u4e0d\u7528\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u8865\u4e01\uff0c\u4f60\u5c31\u53ef\u4ee5\u6267\u884c\u6b64\u547d\u4ee4\u7684\u8f93\u51fa\u53d1\u9001\u7ed9\u8fd9\u4e2a\u4f60\u60f3\u62c9\u53d6\u53d8\u66f4\u7684\u4eba\u3002 \u5916\u90e8\u7cfb\u7edf Git \u6709\u4e00\u4e9b\u53ef\u4ee5\u4e0e\u5176\u4ed6\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u96c6\u6210\u7684\u547d\u4ee4\u3002 git svn git svn \u53ef\u4ee5\u4f7f Git \u4f5c\u4e3a\u4e00\u4e2a\u5ba2\u6237\u7aef\u6765\u4e0e Subversion \u7248\u672c\u63a7\u5236\u7cfb\u7edf\u901a\u4fe1\u3002 \u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f7f\u7528 Git \u6765\u68c0\u51fa\u5185\u5bb9\uff0c\u6216\u8005\u63d0\u4ea4\u5230 Subversion \u670d\u52a1\u5668\u3002 Git \u4e0e Subversion \u4e00\u7ae0\u6df1\u5165\u8bb2\u89e3\u4e86\u6b64\u547d\u4ee4\u3002 git fast-import \u5bf9\u4e8e\u5176\u4ed6\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u6216\u8005\u4ece\u5176\u4ed6\u4efb\u4f55\u7684\u683c\u5f0f\u5bfc\u5165\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 git fast-import \u5feb\u901f\u5730\u5c06\u5176\u4ed6\u683c\u5f0f\u6620\u5c04\u5230 Git \u53ef\u4ee5\u8f7b\u677e\u8bb0\u5f55\u7684\u683c\u5f0f\u3002 \u7ba1\u7406 \u5982\u679c\u4f60\u6b63\u5728\u7ba1\u7406\u4e00\u4e2a Git \u4ed3\u5e93\uff0c\u6216\u8005\u9700\u8981\u901a\u8fc7\u4e00\u4e2a\u590d\u6742\u7684\u65b9\u6cd5\u6765\u4fee\u590d\u67d0\u4e9b\u4e1c\u897f\uff0cGit \u63d0\u4f9b\u4e86\u4e00\u4e9b\u7ba1\u7406\u547d\u4ee4\u6765\u5e2e\u52a9\u4f60\u3002 git gc git gc \u547d\u4ee4\u5728\u4f60\u7684\u4ed3\u5e93\u4e2d\u6267\u884c \u201cgarbage collection\u201d\uff0c\u5220\u9664\u6570\u636e\u5e93\u4e2d\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u548c\u5c06\u5176\u4ed6\u6587\u4ef6\u6253\u5305\u6210\u4e00\u79cd\u66f4\u6709\u6548\u7684\u683c\u5f0f\u3002 \u6b64\u547d\u4ee4\u4e00\u822c\u5728\u80cc\u540e\u4e3a\u4f60\u5de5\u4f5c\uff0c\u867d\u7136\u4f60\u53ef\u4ee5\u624b\u52a8\u6267\u884c\u5b83-\u5982\u679c\u4f60\u60f3\u7684\u8bdd\u3002 \u6211\u4eec\u5728\u7ef4\u62a4 \u4e00\u8282\u4e2d\u7814\u7a76\u6b64\u547d\u4ee4\u7684\u51e0\u4e2a\u793a\u4f8b\u3002 git fsck git fsck \u547d\u4ee4\u7528\u6765\u68c0\u67e5\u5185\u90e8\u6570\u636e\u5e93\u7684\u95ee\u9898\u6216\u8005\u4e0d\u4e00\u81f4\u6027\u3002 \u6211\u4eec\u53ea\u5728 \u6570\u636e\u6062\u590d \u8fd9\u4e00\u8282\u4e2d\u5feb\u901f\u4f7f\u7528\u4e86\u4e00\u6b21\u6b64\u547d\u4ee4\u6765\u641c\u7d22\u6240\u6709\u7684\u60ac\u7a7a\u5bf9\u8c61\uff08dangling object\uff09\u3002 git reflog git reflog \u547d\u4ee4\u5206\u6790\u4f60\u6240\u6709\u5206\u652f\u7684\u5934\u6307\u9488\u7684\u65e5\u5fd7\u6765\u67e5\u627e\u51fa\u4f60\u5728\u91cd\u5199\u5386\u53f2\u4e0a\u53ef\u80fd\u4e22\u5931\u7684\u63d0\u4ea4\u3002 \u6211\u4eec\u4e3b\u8981\u5728 \u5f15\u7528\u65e5\u5fd7 \u4e00\u8282\u4e2d\u63d0\u5230\u4e86\u6b64\u547d\u4ee4\uff0c\u5e76\u5728\u5c55\u793a\u4e86\u4e00\u822c\u7528\u6cd5\uff0c\u53ca\u5982\u4f55\u4f7f\u7528 git log -g \u6765\u901a\u8fc7 git log \u7684\u8f93\u51fa\u6765\u67e5\u770b\u540c\u6837\u7684\u4fe1\u606f\u3002 \u6211\u4eec\u540c\u6837\u5728 \u6570\u636e\u6062\u590d \u4e00\u8282\u4e2d\u7814\u7a76\u4e86\u4e00\u4e2a\u6062\u590d\u4e22\u5931\u7684\u5206\u652f\u7684\u5b9e\u4f8b\u3002 git filter-branch git filter-branch \u547d\u4ee4\u7528\u6765\u6839\u636e\u67d0\u4e9b\u89c4\u5219\u6765\u91cd\u5199\u5927\u91cf\u7684\u63d0\u4ea4\u8bb0\u5f55\uff0c\u4f8b\u5982\u4ece\u4efb\u4f55\u5730\u65b9\u5220\u9664\u6587\u4ef6\uff0c\u6216\u8005\u901a\u8fc7\u8fc7\u6ee4\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u7684\u4e00\u4e2a\u5355\u72ec\u7684\u5b50\u76ee\u5f55\u4ee5\u63d0\u53d6\u51fa\u4e00\u4e2a\u9879\u76ee\u3002 \u5728 \u4ece\u6bcf\u4e00\u4e2a\u63d0\u4ea4\u4e2d\u79fb\u9664\u4e00\u4e2a\u6587\u4ef6 \u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u89e3\u91ca\u4e86\u6b64\u547d\u4ee4\uff0c\u5e76\u63a2\u7a76\u4e86\u5176\u4ed6\u51e0\u4e2a\u9009\u9879\uff0c\u4f8b\u5982 --commit-filter\uff0c--subdirectory-filter \u53ca --tree-filter \u3002 \u5e95\u5c42\u547d\u4ee4 \u5728\u672c\u4e66\u4e2d\u6211\u4eec\u4e5f\u9047\u5230\u4e86\u4e0d\u5c11\u5e95\u5c42\u7684\u547d\u4ee4\u3002 \u6211\u4eec\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u5e95\u5c42\u547d\u4ee4\u662f\u5728 \u5408\u5e76\u8bf7\u6c42\u5f15\u7528 \u4e2d\u7684 ls-remote \u547d\u4ee4\u3002\u6211\u4eec\u7528\u5b83\u6765\u67e5\u770b\u670d\u52a1\u7aef\u7684\u539f\u59cb\u5f15\u7528\u3002 \u6211\u4eec\u5728 \u624b\u52a8\u6587\u4ef6\u518d\u5408\u5e76\u3001 Rerere \u53ca \u7d22\u5f15 \u7ae0\u8282\u4e2d\u4f7f\u7528 ls-files \u6765\u67e5\u770b\u6682\u5b58\u533a\u7684\u66f4\u539f\u59cb\u7684\u6837\u5b50\u3002 \u6211\u4eec\u540c\u6837\u5728 \u5206\u652f\u5f15\u7528 \u4e00\u8282\u4e2d\u63d0\u5230\u4e86 rev-parse \u547d\u4ee4\uff0c\u5b83\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06\u5176\u8f6c\u6210\u4e00\u4e2a\u5bf9\u8c61\u7684 SHA-1 \u503c\u3002 git config \u4f8b\u5b50\uff1a \u514b\u9686\u8fdc\u7a0b\u8d44\u6599\u5e93\u5230\u672c\u5730 git clone GIT_REPO_URL \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log","title":"Command: GIT"},{"location":"git/command-git/#command-git","text":"","title":"Command: GIT"},{"location":"git/command-git/#_1","text":"\u6709\u51e0\u79cd\u65b9\u5f0f\u83b7\u53d6\u4e00\u4e2a Git \u4ed3\u5e93\u3002 \u4e00\u79cd\u662f\u4ece\u7f51\u7edc\u4e0a\u6216\u8005\u5176\u4ed6\u5730\u65b9\u62f7\u8d1d\u4e00\u4e2a\u73b0\u6709\u7684\u4ed3\u5e93\uff0c\u53e6\u4e00\u79cd\u5c31\u662f\u5728\u4e00\u4e2a\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4ed3\u5e93\u3002 1. git init \u8fd0\u884c git init \u5c31\u53ef\u4ee5\u5c06\u4e00\u4e2a\u76ee\u5f55\u8f6c\u53d8\u6210\u4e00\u4e2a Git \u4ed3\u5e93\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u5f00\u59cb\u5bf9\u5b83\u8fdb\u884c\u7248\u672c\u7ba1\u7406\u4e86\u3002 git clone git clone \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5c01\u88c5\u4e86\u5176\u4ed6\u51e0\u4e2a\u547d\u4ee4\u7684\u547d\u4ee4\u3002 \u5b83\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u76ee\u5f55\uff0c\u5207\u6362\u5230\u65b0\u7684\u76ee\u5f55\uff0c\u7136\u540e git init \u6765\u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u7684 Git \u4ed3\u5e93\uff0c \u7136\u540e\u4e3a\u4f60\u6307\u5b9a\u7684 URL \u6dfb\u52a0\u4e00\u4e2a\uff08\u9ed8\u8ba4\u540d\u79f0\u4e3a origin \u7684\uff09\u8fdc\u7a0b\u4ed3\u5e93\uff08git remote add\uff09\uff0c\u518d\u9488\u5bf9\u8fdc\u7a0b\u4ed3\u5e93\u6267\u884c git fetch\uff0c\u6700\u540e\u901a\u8fc7 git checkout \u5c06\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u63d0\u4ea4\u68c0\u51fa\u5230\u672c\u5730\u7684\u5de5\u4f5c\u76ee\u5f55\u3002","title":"\u83b7\u53d6\u4e0e\u521b\u5efa\u9879\u76ee"},{"location":"git/command-git/#_2","text":"git add git add \u547d\u4ee4\u5c06\u5185\u5bb9\u4ece\u5de5\u4f5c\u76ee\u5f55\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff08\u6216\u79f0\u4e3a\u7d22\u5f15\uff08index\uff09\u533a\uff09\uff0c\u4ee5\u5907\u4e0b\u6b21\u63d0\u4ea4\u3002 \u5f53 git commit \u547d\u4ee4\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5b83\u53ea\u4f1a\u68c0\u67e5\u6682\u5b58\u533a\u57df\uff0c\u56e0\u6b64 git add \u662f\u7528\u6765\u786e\u5b9a\u4e0b\u4e00\u6b21\u63d0\u4ea4\u65f6\u5feb\u7167\u7684\u6837\u5b50\u7684\u3002 4. git status git status \u547d\u4ee4\u4f1a\u663e\u793a\u5de5\u4f5c\u533a\u53ca\u6682\u5b58\u533a\u57df\u4e2d\u4e0d\u540c\u72b6\u6001\u7684\u6587\u4ef6\u3002 \u5176\u4e2d\u5305\u542b\u4e86\u5df2\u4fee\u6539\u4f46\u672a\u6682\u5b58\uff0c\u6216\u5df2\u7ecf\u6682\u5b58\u4f46\u6ca1\u6709\u63d0\u4ea4\u7684\u6587\u4ef6\u3002 \u5728\u4e00\u822c\u7684\u663e\u793a\u5f62\u5f0f\u4e2d\uff0c\u5b83\u4f1a\u7ed9\u4f60\u4e00\u4e9b\u5982\u4f55\u5728\u8fd9\u4e9b\u6682\u5b58\u533a\u4e4b\u95f4\u79fb\u52a8\u6587\u4ef6\u7684\u63d0\u793a\u3002 5. git diff \u5f53\u9700\u8981\u67e5\u770b\u4efb\u610f\u4e24\u68f5\u6811\u7684\u5dee\u5f02\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 git diff \u547d\u4ee4\u3002 \u6b64\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u4f60\u5de5\u4f5c\u73af\u5883\u4e0e\u4f60\u7684\u6682\u5b58\u533a\u7684\u5dee\u5f02\uff08git diff \u9ed8\u8ba4\u7684\u505a\u6cd5\uff09\uff0c\u4f60\u6682\u5b58\u533a\u57df\u4e0e\u4f60\u6700\u540e\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff08git diff --staged\uff09\uff0c\u6216\u8005\u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u8bb0\u5f55\u7684\u5dee\u5f02\uff08git diff master branchB\uff09\u3002 git difftool \u5f53\u4f60\u4e0d\u60f3\u4f7f\u7528\u5185\u7f6e\u7684 git diff \u547d\u4ee4\u65f6\u3002git difftool \u53ef\u4ee5\u7528\u6765\u7b80\u5355\u5730\u542f\u52a8\u4e00\u4e2a\u5916\u90e8\u5de5\u5177\u6765\u4e3a\u4f60\u5c55\u793a\u4e24\u68f5\u6811\u4e4b\u95f4\u7684\u5dee\u5f02\u3002 7.git commit git commit \u547d\u4ee4\u5c06\u6240\u6709\u901a\u8fc7 git add \u6682\u5b58\u7684\u6587\u4ef6\u5185\u5bb9\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u7684\u5feb\u7167\uff0c\u7136\u540e\u5c06\u5f53\u524d\u5206\u652f\u4e0a\u7684\u5206\u652f\u6307\u9488\u79fb\u5230\u5176\u4e4b\u4e0a\u3002 8.git reset git reset \u547d\u4ee4\u4e3b\u8981\u7528\u6765\u6839\u636e\u4f60\u4f20\u9012\u7ed9\u52a8\u4f5c\u7684\u53c2\u6570\u6765\u6267\u884c\u64a4\u9500\u64cd\u4f5c\u3002 \u5b83\u53ef\u4ee5\u79fb\u52a8 HEAD \u6307\u9488\u5e76\u4e14\u53ef\u9009\u7684\u6539\u53d8 index \u6216\u8005\u6682\u5b58\u533a\uff0c\u5982\u679c\u4f60\u4f7f\u7528 --hard \u53c2\u6570\u7684\u8bdd\u4f60\u751a\u81f3\u53ef\u4ee5\u6539\u53d8\u5de5\u4f5c\u533a\u3002 \u5982\u679c\u9519\u8bef\u5730\u4e3a\u8fd9\u4e2a\u547d\u4ee4\u9644\u52a0\u540e\u9762\u7684\u53c2\u6570\uff0c\u4f60\u53ef\u80fd\u4f1a\u4e22\u5931\u4f60\u7684\u5de5\u4f5c\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u524d\u4f60\u8981\u786e\u5b9a\u4f60\u5df2\u7ecf\u5b8c\u5168\u7406\u89e3\u4e86\u5b83\u3002 9.git rm git rm \u662f Git \u7528\u6765\u4ece\u5de5\u4f5c\u533a\uff0c\u6216\u8005\u6682\u5b58\u533a\u79fb\u9664\u6587\u4ef6\u7684\u547d\u4ee4\u3002 \u5728\u4e3a\u4e0b\u4e00\u6b21\u63d0\u4ea4\u6682\u5b58\u4e00\u4e2a\u79fb\u9664\u64cd\u4f5c\u4e0a\uff0c\u5b83\u4e0e git add \u6709\u4e00\u70b9\u7c7b\u4f3c\u3002 10.git mv git mv \u547d\u4ee4\u662f\u4e00\u4e2a\u4fbf\u5229\u547d\u4ee4\uff0c\u7528\u4e8e\u79fb\u5230\u4e00\u4e2a\u6587\u4ef6\u5e76\u4e14\u5728\u65b0\u6587\u4ef6\u4e0a\u6267\u884c git add \u547d\u4ee4\u53ca\u5728\u8001\u6587\u4ef6\u4e0a\u6267\u884c git rm \u547d\u4ee4\u3002 git clean git clean \u662f\u4e00\u4e2a\u7528\u6765\u4ece\u5de5\u4f5c\u533a\u4e2d\u79fb\u9664\u4e0d\u60f3\u8981\u7684\u6587\u4ef6\u7684\u547d\u4ee4\u3002 \u53ef\u4ee5\u662f\u7f16\u8bd1\u7684\u4e34\u65f6\u6587\u4ef6\u6216\u8005\u5408\u5e76\u51b2\u7a81\u7684\u6587\u4ef6\u3002","title":"\u5feb\u7167\u57fa\u7840"},{"location":"git/command-git/#_3","text":"git branch git branch \u547d\u4ee4\u5b9e\u9645\u4e0a\u662f\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u7684\u5206\u652f\u7ba1\u7406\u5de5\u5177\u3002 \u5b83\u53ef\u4ee5\u5217\u51fa\u4f60\u6240\u6709\u7684\u5206\u652f\u3001\u521b\u5efa\u65b0\u5206\u652f\u3001\u5220\u9664\u5206\u652f\u53ca\u91cd\u547d\u540d\u5206\u652f\u3002 git checkout git checkout \u547d\u4ee4\u7528\u6765\u5207\u6362\u5206\u652f\uff0c\u6216\u8005\u68c0\u51fa\u5185\u5bb9\u5230\u5de5\u4f5c\u76ee\u5f55\u3002 git merge git merge \u5de5\u5177\u7528\u6765\u5408\u5e76\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5206\u652f\u5230\u4f60\u5df2\u7ecf\u68c0\u51fa\u7684\u5206\u652f\u4e2d\u3002 \u7136\u540e\u5b83\u5c06\u5f53\u524d\u5206\u652f\u6307\u9488\u79fb\u52a8\u5230\u5408\u5e76\u7ed3\u679c\u4e0a\u3002 git mergetool \u5f53\u4f60\u5728 Git \u7684\u5408\u5e76\u4e2d\u9047\u5230\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 git mergetool \u6765\u542f\u52a8\u4e00\u4e2a\u5916\u90e8\u7684\u5408\u5e76\u5e2e\u52a9\u5de5\u5177\u3002 git log git log \u547d\u4ee4\u7528\u6765\u5c55\u793a\u4e00\u4e2a\u9879\u76ee\u7684\u53ef\u8fbe\u5386\u53f2\u8bb0\u5f55\uff0c\u4ece\u6700\u8fd1\u7684\u63d0\u4ea4\u5feb\u7167\u8d77\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u53ea\u663e\u793a\u4f60\u5f53\u524d\u6240\u5728\u5206\u652f\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u4f46\u662f\u53ef\u4ee5\u663e\u793a\u4e0d\u540c\u7684\u751a\u81f3\u591a\u4e2a\u5934\u8bb0\u5f55\u6216\u5206\u652f\u4ee5\u4f9b\u904d\u5386\u3002 \u6b64\u547d\u4ee4\u901a\u5e38\u4e5f\u7528\u6765\u5728\u63d0\u4ea4\u8bb0\u5f55\u7ea7\u522b\u663e\u793a\u4e24\u4e2a\u6216\u591a\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u5dee\u5f02\u3002 git stash git stash \u547d\u4ee4\u7528\u6765\u4e34\u65f6\u5730\u4fdd\u5b58\u4e00\u4e9b\u8fd8\u6ca1\u6709\u63d0\u4ea4\u7684\u5de5\u4f5c\uff0c\u4ee5\u4fbf\u5728\u5206\u652f\u4e0a\u4e0d\u9700\u8981\u63d0\u4ea4\u672a\u5b8c\u6210\u5de5\u4f5c\u5c31\u53ef\u4ee5\u6e05\u7406\u5de5\u4f5c\u76ee\u5f55\u3002 git tag git tag \u547d\u4ee4\u7528\u6765\u4e3a\u4ee3\u7801\u5386\u53f2\u8bb0\u5f55\u4e2d\u7684\u67d0\u4e00\u4e2a\u70b9\u6307\u5b9a\u4e00\u4e2a\u6c38\u4e45\u7684\u4e66\u7b7e\u3002 \u4e00\u822c\u6765\u8bf4\u5b83\u7528\u4e8e\u53d1\u5e03\u76f8\u5173\u4e8b\u9879\u3002","title":"\u5206\u652f\u4e0e\u5408\u5e76"},{"location":"git/command-git/#_4","text":"\u5728 Git \u4e2d\u6ca1\u6709\u591a\u5c11\u8bbf\u95ee\u7f51\u7edc\u7684\u547d\u4ee4\uff0c\u51e0\u4e4e\u6240\u4ee5\u7684\u547d\u4ee4\u90fd\u662f\u5728\u64cd\u4f5c\u672c\u5730\u7684\u6570\u636e\u5e93\u3002 \u5f53\u4f60\u60f3\u8981\u5206\u4eab\u4f60\u7684\u5de5\u4f5c\uff0c\u6216\u8005\u4ece\u5176\u4ed6\u5730\u65b9\u62c9\u53d6\u53d8\u66f4\u65f6\uff0c\u8fd9\u6709\u51e0\u4e2a\u5904\u7406\u8fdc\u7a0b\u4ed3\u5e93\u7684\u547d\u4ee4\u3002 git fetch git fetch \u547d\u4ee4\u4e0e\u4e00\u4e2a\u8fdc\u7a0b\u7684\u4ed3\u5e93\u4ea4\u4e92\uff0c\u5e76\u4e14\u5c06\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u6709\u4f46\u662f\u5728\u5f53\u524d\u4ed3\u5e93\u7684\u6ca1\u6709\u7684\u6240\u6709\u4fe1\u606f\u62c9\u53d6\u4e0b\u6765\u7136\u540e\u5b58\u50a8\u5728\u4f60\u672c\u5730\u6570\u636e\u5e93\u4e2d\u3002 git pull git pull \u547d\u4ee4\u57fa\u672c\u4e0a\u5c31\u662f git fetch \u548c git merge \u547d\u4ee4\u7684\u7ec4\u5408\u4f53\uff0cGit \u4ece\u4f60\u6307\u5b9a\u7684\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u6293\u53d6\u5185\u5bb9\uff0c\u7136\u540e\u9a6c\u4e0a\u5c1d\u8bd5\u5c06\u5176\u5408\u5e76\u8fdb\u4f60\u6240\u5728\u7684\u5206\u652f\u4e2d\u3002 git push git push \u547d\u4ee4\u7528\u6765\u4e0e\u53e6\u4e00\u4e2a\u4ed3\u5e93\u901a\u4fe1\uff0c\u8ba1\u7b97\u4f60\u672c\u5730\u6570\u636e\u5e93\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5dee\u5f02\uff0c\u7136\u540e\u5c06\u5dee\u5f02\u63a8\u9001\u5230\u53e6\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u3002 \u5b83\u9700\u8981\u6709\u53e6\u4e00\u4e2a\u4ed3\u5e93\u7684\u5199\u6743\u9650\uff0c\u56e0\u6b64\u8fd9\u901a\u5e38\u662f\u9700\u8981\u9a8c\u8bc1\u7684\u3002 git remote git remote \u547d\u4ee4\u662f\u4e00\u4e2a\u662f\u4f60\u8fdc\u7a0b\u4ed3\u5e93\u8bb0\u5f55\u7684\u7ba1\u7406\u5de5\u5177\u3002 \u5b83\u5141\u8bb8\u4f60\u5c06\u4e00\u4e2a\u957f\u7684 URL \u4fdd\u5b58\u6210\u4e00\u4e2a\u7b80\u5199\u7684\u53e5\u67c4\uff0c\u4f8b\u5982 origin \uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u4e0d\u7528\u6bcf\u6b21\u90fd\u8f93\u5165\u4ed6\u4eec\u4e86\u3002 \u4f60\u53ef\u4ee5\u6709\u591a\u4e2a\u8fd9\u6837\u7684\u53e5\u67c4\uff0cgit remote \u53ef\u4ee5\u7528\u6765\u6dfb\u52a0\uff0c\u4fee\u6539\uff0c\u53ca\u5220\u9664\u5b83\u4eec\u3002 git archive git archive \u547d\u4ee4\u7528\u6765\u521b\u5efa\u9879\u76ee\u4e00\u4e2a\u6307\u5b9a\u5feb\u7167\u7684\u5f52\u6863\u6587\u4ef6\u3002 git submodule git submodule \u547d\u4ee4\u7528\u6765\u7ba1\u7406\u4e00\u4e2a\u4ed3\u5e93\u7684\u5176\u4ed6\u5916\u90e8\u4ed3\u5e93\u3002 \u5b83\u53ef\u4ee5\u88ab\u7528\u5728\u5e93\u6216\u8005\u5176\u4ed6\u7c7b\u578b\u7684\u5171\u4eab\u8d44\u6e90\u4e0a\u3002 submodule \u547d\u4ee4\u6709\u51e0\u4e2a\u5b50\u547d\u4ee4, \u5982\uff08add\u3001update\u3001sync \u7b49\u7b49\uff09\u7528\u6765\u7ba1\u7406\u8fd9\u4e9b\u8d44\u6e90\u3002","title":"\u9879\u76ee\u5206\u4eab\u4e0e\u66f4\u65b0"},{"location":"git/command-git/#_5","text":"git show git show \u547d\u4ee4\u53ef\u4ee5\u4ee5\u4e00\u79cd\u7b80\u5355\u7684\u4eba\u7c7b\u53ef\u8bfb\u7684\u65b9\u5f0f\u6765\u663e\u793a\u4e00\u4e2a Git \u5bf9\u8c61\u3002 \u4f60\u4e00\u822c\u4f7f\u7528\u6b64\u547d\u4ee4\u6765\u663e\u793a\u4e00\u4e2a\u6807\u7b7e\u6216\u4e00\u4e2a\u63d0\u4ea4\u7684\u4fe1\u606f\u3002 git shortlog git shortlog \u662f\u4e00\u4e2a\u7528\u6765\u5f52\u7eb3 git log \u7684\u8f93\u51fa\u7684\u547d\u4ee4\u3002 \u5b83\u53ef\u4ee5\u63a5\u53d7\u5f88\u591a\u4e0e git log \u76f8\u540c\u7684\u9009\u9879\uff0c\u4f46\u662f\u6b64\u547d\u4ee4\u5e76\u4e0d\u4f1a\u5217\u51fa\u6240\u6709\u7684\u63d0\u4ea4\uff0c\u800c\u662f\u5c55\u793a\u4e00\u4e2a\u6839\u636e\u4f5c\u8005\u5206\u7ec4\u7684\u63d0\u4ea4\u8bb0\u5f55\u7684\u6982\u62ec\u6027\u4fe1\u606f git describe git describe \u547d\u4ee4\u7528\u6765\u63a5\u53d7\u4efb\u4f55\u53ef\u4ee5\u89e3\u6790\u6210\u4e00\u4e2a\u63d0\u4ea4\u7684\u4e1c\u897f\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u4eba\u7c7b\u53ef\u8bfb\u7684\u5b57\u7b26\u4e32\u4e14\u4e0d\u53ef\u53d8\u3002 \u8fd9\u662f\u4e00\u79cd\u83b7\u5f97\u4e00\u4e2a\u63d0\u4ea4\u7684\u63cf\u8ff0\u7684\u65b9\u5f0f\uff0c\u5b83\u8ddf\u4e00\u4e2a\u63d0\u4ea4\u7684 SHA-1 \u503c\u4e00\u6837\u662f\u65e0\u6b67\u4e49\uff0c\u4f46\u662f\u66f4\u5177\u53ef\u8bfb\u6027\u3002","title":"\u68c0\u67e5\u4e0e\u6bd4\u8f83"},{"location":"git/command-git/#_6","text":"Git \u6709\u4e00\u4e9b\u547d\u4ee4\u53ef\u4ee5\u7528\u6765\u5e2e\u4f60\u8c03\u8bd5\u4f60\u4ee3\u7801\u4e2d\u7684\u95ee\u9898\u3002 \u5305\u62ec\u627e\u51fa\u662f\u4ec0\u4e48\u65f6\u5019\uff0c\u662f\u8c01\u5f15\u5165\u7684\u53d8\u66f4\u3002 git bisect git bisect \u5de5\u5177\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u5b83\u901a\u8fc7\u81ea\u52a8\u8fdb\u884c\u4e00\u4e2a\u4e8c\u5206\u67e5\u627e\u6765\u627e\u5230\u54ea\u4e00\u4e2a\u7279\u5b9a\u7684\u63d0\u4ea4\u662f\u5bfc\u81f4 bug \u6216\u8005\u95ee\u9898\u7684\u7b2c\u4e00\u4e2a\u63d0\u4ea4\u3002 git blame git blame \u547d\u4ee4\u6807\u6ce8\u4efb\u4f55\u6587\u4ef6\u7684\u884c\uff0c\u6307\u51fa\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\u7684\u6700\u540e\u7684\u53d8\u66f4\u7684\u63d0\u4ea4\u53ca\u8c01\u662f\u90a3\u4e00\u4e2a\u63d0\u4ea4\u7684\u4f5c\u8005\u3002 \u5f53\u4f60\u8981\u627e\u90a3\u4e2a\u4eba\u53bb\u8be2\u95ee\u5173\u4e8e\u8fd9\u5757\u7279\u6b8a\u4ee3\u7801\u7684\u4fe1\u606f\u65f6\u8fd9\u4f1a\u5f88\u6709\u7528\u3002 git grep git grep \u547d\u4ee4\u53ef\u4ee5\u5e2e\u52a9\u5728\u6e90\u4ee3\u7801\u4e2d\uff0c\u751a\u81f3\u662f\u4f60\u9879\u76ee\u7684\u8001\u7248\u672c\u4e2d\u7684\u4efb\u610f\u6587\u4ef6\u4e2d\u67e5\u627e\u4efb\u4f55\u5b57\u7b26\u4e32\u6216\u8005\u6b63\u5219\u8868\u8fbe\u5f0f\u3002","title":"\u8c03\u8bd5"},{"location":"git/command-git/#_7","text":"Git \u4e2d\u7684\u4e00\u4e9b\u547d\u4ee4\u662f\u4ee5\u5f15\u5165\u7684\u53d8\u66f4\u5373\u63d0\u4ea4\u8fd9\u6837\u7684\u6982\u5ff5\u4e3a\u4e2d\u5fc3\u7684\uff0c\u8fd9\u6837\u4e00\u7cfb\u5217\u7684\u63d0\u4ea4\uff0c\u5c31\u662f\u4e00\u7cfb\u5217\u7684\u8865\u4e01\u3002 \u8fd9\u4e9b\u547d\u4ee4\u4ee5\u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u7ba1\u7406\u4f60\u7684\u5206\u652f\u3002 git cherry-pick git cherry-pick \u547d\u4ee4\u7528\u6765\u83b7\u5f97\u5728\u5355\u4e2a\u63d0\u4ea4\u4e2d\u5f15\u5165\u7684\u53d8\u66f4\uff0c\u7136\u540e\u5c1d\u8bd5\u5c06\u4f5c\u4e3a\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\u5f15\u5165\u5230\u4f60\u5f53\u524d\u5206\u652f\u4e0a\u3002 \u4ece\u4e00\u4e2a\u5206\u652f\u5355\u72ec\u4e00\u4e2a\u6216\u8005\u4e24\u4e2a\u63d0\u4ea4\u800c\u4e0d\u662f\u5408\u5e76\u6574\u4e2a\u5206\u652f\u7684\u6240\u6709\u53d8\u66f4\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 git rebase git rebase \u547d\u4ee4\u57fa\u672c\u662f\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u7684 cherry-pick \u547d\u4ee4\u3002 \u5b83\u8ba1\u7b97\u51fa\u4e00\u7cfb\u5217\u7684\u63d0\u4ea4\uff0c\u7136\u540e\u518d\u4ee5\u5b83\u4eec\u5728\u5176\u4ed6\u5730\u65b9\u4ee5\u540c\u6837\u7684\u987a\u5e8f\u4e00\u4e2a\u4e00\u4e2a\u7684 cherry-picks \u51fa\u5b83\u4eec\u3002 git revert git revert \u547d\u4ee4\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u9006\u5411\u7684 git cherry-pick \u64cd\u4f5c\u3002 \u5b83\u5c06\u4f60\u63d0\u4ea4\u4e2d\u7684\u53d8\u66f4\u7684\u4ee5\u5b8c\u5168\u76f8\u53cd\u7684\u65b9\u5f0f\u7684\u5e94\u7528\u5230\u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u63d0\u4ea4\u4e2d\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u64a4\u9500\u6216\u8005\u5012\u8f6c\u3002","title":"\u8865\u4e01"},{"location":"git/command-git/#_8","text":"\u5f88\u591a Git \u9879\u76ee\uff0c\u5305\u62ec Git \u672c\u8eab\uff0c\u57fa\u672c\u662f\u901a\u8fc7\u90ae\u4ef6\u5217\u8868\u6765\u7ef4\u62a4\u7684\u3002 \u4ece\u65b9\u4fbf\u5730\u751f\u6210\u90ae\u4ef6\u8865\u4e01\u5230\u4ece\u4e00\u4e2a\u90ae\u7bb1\u4e2d\u5e94\u7528\u8fd9\u4e9b\u8865\u4e01,Git \u90fd\u6709\u5de5\u5177\u6765\u8ba9\u8fd9\u4e9b\u64cd\u4f5c\u53d8\u5f97\u7b80\u5355\u3002 git apply git apply \u547d\u4ee4\u5e94\u7528\u4e00\u4e2a\u901a\u8fc7 git diff \u6216\u8005\u751a\u81f3\u4f7f\u7528 GNU diff \u547d\u4ee4\u521b\u5efa\u7684\u8865\u4e01\u3002 \u5b83\u8ddf\u8865\u4e01\u547d\u4ee4\u505a\u4e86\u5dee\u4e0d\u591a\u7684\u5de5\u4f5c\uff0c\u4f46\u8fd8\u662f\u6709\u4e00\u4e9b\u5c0f\u5c0f\u7684\u5dee\u522b\u3002 \u6211\u4eec\u5728 \u5e94\u7528\u6765\u81ea\u90ae\u4ef6\u7684\u8865\u4e01 \u4e00\u8282\u4e2d\u6f14\u793a\u4e86\u5b83\u7684\u4f7f\u7528\u53ca\u4ec0\u4e48\u73af\u5883\u4e0b\u4f60\u53ef\u80fd\u4f1a\u7528\u5230\u5b83\u3002 git am git am \u547d\u4ee4\u7528\u6765\u5e94\u7528\u6765\u81ea\u90ae\u7bb1\u7684\u8865\u4e01\u3002\u7279\u522b\u662f\u90a3\u4e9b\u88ab mbox \u683c\u5f0f\u5316\u8fc7\u7684\u3002 \u8fd9\u5bf9\u4e8e\u901a\u8fc7\u90ae\u4ef6\u63a5\u53d7\u8865\u4e01\u5e76\u5c06\u4ed6\u4eec\u8f7b\u677e\u5730\u5e94\u7528\u5230\u4f60\u7684\u9879\u76ee\u4e2d\u5f88\u6709\u7528\u3002 \u6211\u4eec\u5728 \u4f7f\u7528 am \u547d\u4ee4\u5e94\u7528\u8865\u4e01 \u547d\u4ee4\u4e2d\u63d0\u5230\u4e86\u5b83\u7684\u7528\u6cd5\u53ca\u5de5\u4f5c\u6d41\uff0c\u5305\u62ec\u4f7f\u7528 --resolved\u3001-i \u53ca -3 \u9009\u9879\u3002 \u6211\u4eec\u5728 \u7535\u5b50\u90ae\u4ef6\u5de5\u4f5c\u6d41\u94a9\u5b50 \u4e5f\u63d0\u5230\u4e86\u51e0\u6761 hooks\uff0c\u4f60\u53ef\u4ee5\u7528\u6765\u8f85\u52a9\u4e0e git am \u76f8\u5173\u5de5\u4f5c\u6d41\u3002 \u5728 \u90ae\u4ef6\u901a\u77e5 \u4e00\u8282\u4e2d\u6211\u4eec\u4e5f\u5c06\u7528\u6b64\u547d\u4ee4\u6765\u5e94\u7528 \u683c\u5f0f\u5316\u7684 GitHub \u7684\u63a8\u9001\u8bf7\u6c42\u7684\u53d8\u66f4\u3002 git format-patch git format-patch \u547d\u4ee4\u7528\u6765\u4ee5 mbox \u7684\u683c\u5f0f\u6765\u751f\u6210\u4e00\u7cfb\u5217\u7684\u8865\u4e01\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u53d1\u9001\u5230\u4e00\u4e2a\u90ae\u4ef6\u5217\u8868\u4e2d\u3002 \u6211\u4eec\u5728 \u901a\u8fc7\u90ae\u4ef6\u7684\u516c\u5f00\u9879\u76ee \u4e00\u8282\u4e2d\u7814\u7a76\u4e86\u4e00\u4e2a\u4f7f\u7528 git format-patch \u5de5\u5177\u4e3a\u4e00\u4e2a\u9879\u76ee\u505a\u8d21\u732e\u7684\u793a\u4f8b\u3002 git imap-send git imap-send \u5c06\u4e00\u4e2a\u7531 git format-patch \u751f\u6210\u7684\u90ae\u7bb1\u4e0a\u4f20\u81f3 IMAP \u8349\u7a3f\u6587\u4ef6\u5939\u3002 \u6211\u4eec\u5728 \u901a\u8fc7\u90ae\u4ef6\u7684\u516c\u5f00\u9879\u76ee \u4e00\u8282\u4e2d\u89c1\u8fc7\u4e00\u4e2a\u901a\u8fc7\u4f7f\u7528 git imap-send \u5de5\u5177\u5411\u4e00\u4e2a\u9879\u76ee\u53d1\u9001\u8865\u4e01\u8fdb\u884c\u8d21\u732e\u7684\u4f8b\u5b50\u3002 git send-email git send-mail \u547d\u4ee4\u7528\u6765\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u90a3\u4e9b\u4f7f\u7528 git format-patch \u751f\u6210\u7684\u8865\u4e01\u3002 \u6211\u4eec\u5728 \u901a\u8fc7\u90ae\u4ef6\u7684\u516c\u5f00\u9879\u76ee \u4e00\u8282\u4e2d\u7814\u7a76\u4e86\u4e00\u4e2a\u4f7f\u7528 git send-email \u5de5\u5177\u53d1\u9001\u8865\u4e01\u6765\u4e3a\u4e00\u4e2a\u9879\u76ee\u505a\u8d21\u732e\u7684\u793a\u4f8b\u3002 git request-pull git request-pull \u547d\u4ee4\u53ea\u662f\u7b80\u5355\u7684\u7528\u6765\u751f\u6210\u4e00\u4e2a\u53ef\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u7ed9\u67d0\u4e2a\u4eba\u7684\u793a\u4f8b\u4fe1\u606f\u4f53\u3002 \u5982\u679c\u4f60\u5728\u516c\u5171\u670d\u52a1\u5668\u4e0a\u6709\u4e00\u4e2a\u5206\u652f\uff0c\u5e76\u4e14\u60f3\u8ba9\u522b\u4eba\u77e5\u9053\u5982\u4f55\u96c6\u6210\u8fd9\u4e9b\u53d8\u66f4\uff0c\u800c\u4e0d\u7528\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u8865\u4e01\uff0c\u4f60\u5c31\u53ef\u4ee5\u6267\u884c\u6b64\u547d\u4ee4\u7684\u8f93\u51fa\u53d1\u9001\u7ed9\u8fd9\u4e2a\u4f60\u60f3\u62c9\u53d6\u53d8\u66f4\u7684\u4eba\u3002","title":"\u90ae\u4ef6"},{"location":"git/command-git/#_9","text":"Git \u6709\u4e00\u4e9b\u53ef\u4ee5\u4e0e\u5176\u4ed6\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u96c6\u6210\u7684\u547d\u4ee4\u3002 git svn git svn \u53ef\u4ee5\u4f7f Git \u4f5c\u4e3a\u4e00\u4e2a\u5ba2\u6237\u7aef\u6765\u4e0e Subversion \u7248\u672c\u63a7\u5236\u7cfb\u7edf\u901a\u4fe1\u3002 \u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f7f\u7528 Git \u6765\u68c0\u51fa\u5185\u5bb9\uff0c\u6216\u8005\u63d0\u4ea4\u5230 Subversion \u670d\u52a1\u5668\u3002 Git \u4e0e Subversion \u4e00\u7ae0\u6df1\u5165\u8bb2\u89e3\u4e86\u6b64\u547d\u4ee4\u3002 git fast-import \u5bf9\u4e8e\u5176\u4ed6\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u6216\u8005\u4ece\u5176\u4ed6\u4efb\u4f55\u7684\u683c\u5f0f\u5bfc\u5165\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 git fast-import \u5feb\u901f\u5730\u5c06\u5176\u4ed6\u683c\u5f0f\u6620\u5c04\u5230 Git \u53ef\u4ee5\u8f7b\u677e\u8bb0\u5f55\u7684\u683c\u5f0f\u3002","title":"\u5916\u90e8\u7cfb\u7edf"},{"location":"git/command-git/#_10","text":"\u5982\u679c\u4f60\u6b63\u5728\u7ba1\u7406\u4e00\u4e2a Git \u4ed3\u5e93\uff0c\u6216\u8005\u9700\u8981\u901a\u8fc7\u4e00\u4e2a\u590d\u6742\u7684\u65b9\u6cd5\u6765\u4fee\u590d\u67d0\u4e9b\u4e1c\u897f\uff0cGit \u63d0\u4f9b\u4e86\u4e00\u4e9b\u7ba1\u7406\u547d\u4ee4\u6765\u5e2e\u52a9\u4f60\u3002 git gc git gc \u547d\u4ee4\u5728\u4f60\u7684\u4ed3\u5e93\u4e2d\u6267\u884c \u201cgarbage collection\u201d\uff0c\u5220\u9664\u6570\u636e\u5e93\u4e2d\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u548c\u5c06\u5176\u4ed6\u6587\u4ef6\u6253\u5305\u6210\u4e00\u79cd\u66f4\u6709\u6548\u7684\u683c\u5f0f\u3002 \u6b64\u547d\u4ee4\u4e00\u822c\u5728\u80cc\u540e\u4e3a\u4f60\u5de5\u4f5c\uff0c\u867d\u7136\u4f60\u53ef\u4ee5\u624b\u52a8\u6267\u884c\u5b83-\u5982\u679c\u4f60\u60f3\u7684\u8bdd\u3002 \u6211\u4eec\u5728\u7ef4\u62a4 \u4e00\u8282\u4e2d\u7814\u7a76\u6b64\u547d\u4ee4\u7684\u51e0\u4e2a\u793a\u4f8b\u3002 git fsck git fsck \u547d\u4ee4\u7528\u6765\u68c0\u67e5\u5185\u90e8\u6570\u636e\u5e93\u7684\u95ee\u9898\u6216\u8005\u4e0d\u4e00\u81f4\u6027\u3002 \u6211\u4eec\u53ea\u5728 \u6570\u636e\u6062\u590d \u8fd9\u4e00\u8282\u4e2d\u5feb\u901f\u4f7f\u7528\u4e86\u4e00\u6b21\u6b64\u547d\u4ee4\u6765\u641c\u7d22\u6240\u6709\u7684\u60ac\u7a7a\u5bf9\u8c61\uff08dangling object\uff09\u3002 git reflog git reflog \u547d\u4ee4\u5206\u6790\u4f60\u6240\u6709\u5206\u652f\u7684\u5934\u6307\u9488\u7684\u65e5\u5fd7\u6765\u67e5\u627e\u51fa\u4f60\u5728\u91cd\u5199\u5386\u53f2\u4e0a\u53ef\u80fd\u4e22\u5931\u7684\u63d0\u4ea4\u3002 \u6211\u4eec\u4e3b\u8981\u5728 \u5f15\u7528\u65e5\u5fd7 \u4e00\u8282\u4e2d\u63d0\u5230\u4e86\u6b64\u547d\u4ee4\uff0c\u5e76\u5728\u5c55\u793a\u4e86\u4e00\u822c\u7528\u6cd5\uff0c\u53ca\u5982\u4f55\u4f7f\u7528 git log -g \u6765\u901a\u8fc7 git log \u7684\u8f93\u51fa\u6765\u67e5\u770b\u540c\u6837\u7684\u4fe1\u606f\u3002 \u6211\u4eec\u540c\u6837\u5728 \u6570\u636e\u6062\u590d \u4e00\u8282\u4e2d\u7814\u7a76\u4e86\u4e00\u4e2a\u6062\u590d\u4e22\u5931\u7684\u5206\u652f\u7684\u5b9e\u4f8b\u3002 git filter-branch git filter-branch \u547d\u4ee4\u7528\u6765\u6839\u636e\u67d0\u4e9b\u89c4\u5219\u6765\u91cd\u5199\u5927\u91cf\u7684\u63d0\u4ea4\u8bb0\u5f55\uff0c\u4f8b\u5982\u4ece\u4efb\u4f55\u5730\u65b9\u5220\u9664\u6587\u4ef6\uff0c\u6216\u8005\u901a\u8fc7\u8fc7\u6ee4\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u7684\u4e00\u4e2a\u5355\u72ec\u7684\u5b50\u76ee\u5f55\u4ee5\u63d0\u53d6\u51fa\u4e00\u4e2a\u9879\u76ee\u3002 \u5728 \u4ece\u6bcf\u4e00\u4e2a\u63d0\u4ea4\u4e2d\u79fb\u9664\u4e00\u4e2a\u6587\u4ef6 \u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u89e3\u91ca\u4e86\u6b64\u547d\u4ee4\uff0c\u5e76\u63a2\u7a76\u4e86\u5176\u4ed6\u51e0\u4e2a\u9009\u9879\uff0c\u4f8b\u5982 --commit-filter\uff0c--subdirectory-filter \u53ca --tree-filter \u3002","title":"\u7ba1\u7406"},{"location":"git/command-git/#_11","text":"\u5728\u672c\u4e66\u4e2d\u6211\u4eec\u4e5f\u9047\u5230\u4e86\u4e0d\u5c11\u5e95\u5c42\u7684\u547d\u4ee4\u3002 \u6211\u4eec\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u5e95\u5c42\u547d\u4ee4\u662f\u5728 \u5408\u5e76\u8bf7\u6c42\u5f15\u7528 \u4e2d\u7684 ls-remote \u547d\u4ee4\u3002\u6211\u4eec\u7528\u5b83\u6765\u67e5\u770b\u670d\u52a1\u7aef\u7684\u539f\u59cb\u5f15\u7528\u3002 \u6211\u4eec\u5728 \u624b\u52a8\u6587\u4ef6\u518d\u5408\u5e76\u3001 Rerere \u53ca \u7d22\u5f15 \u7ae0\u8282\u4e2d\u4f7f\u7528 ls-files \u6765\u67e5\u770b\u6682\u5b58\u533a\u7684\u66f4\u539f\u59cb\u7684\u6837\u5b50\u3002 \u6211\u4eec\u540c\u6837\u5728 \u5206\u652f\u5f15\u7528 \u4e00\u8282\u4e2d\u63d0\u5230\u4e86 rev-parse \u547d\u4ee4\uff0c\u5b83\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06\u5176\u8f6c\u6210\u4e00\u4e2a\u5bf9\u8c61\u7684 SHA-1 \u503c\u3002 git config \u4f8b\u5b50\uff1a \u514b\u9686\u8fdc\u7a0b\u8d44\u6599\u5e93\u5230\u672c\u5730 git clone GIT_REPO_URL \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log \u628aGit\u64cd\u4f5c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u6587\u4ef6 git push &>> /tmp/git_operation.log","title":"\u5e95\u5c42\u547d\u4ee4"},{"location":"gradle/","text":"Gradle \u7528\u6cd5 Gradle \u6982\u5ff5 settings.gradle \u548c build.gradle settings.gradle\u6587\u4ef6\u662fgradle\u9879\u76ee\u7684\u603b\u4f53\u914d\u7f6e\u6587\u4ef6\uff0c\u4e00\u822c\u4f1a\u628a\u5b50\u9879\u76ee\u4e2d\u901a\u7528\u7684\u4e00\u4e9b\u914d\u7f6e\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6709\u70b9\u96f7\u58eb\u4e0emaven\u7684parent pom \u6587\u4ef6\u3002 build.gradle\u6587\u4ef6\u5219\u662f\u9488\u5bf9\u5355\u4e2a\u9879\u76ee\u7684\u5177\u4f53\u914d\u7f6e\u3002 build.gradle - \u6587\u4ef6\u5305\u542b\u9879\u76ee\u6784\u5efa\u6240\u4f7f\u7528\u7684\u811a\u672c\u3002 settings.gradle - \u6587\u4ef6\u5c06\u5305\u542b\u5fc5\u8981\u7684\u4e00\u4e9b\u8bbe\u7f6e\uff0c\u4f8b\u5982\uff0c\u4efb\u52a1\u6216\u9879\u76ee\u4e4b\u95f4\u7684\u4f9d\u61d2\u5173\u7cfb\u7b49 settings.gradle gradle \u9ed8\u8ba4\u53ea\u6267\u884c\u5f53\u524d\u76ee\u5f55\u4e0b\u7684build.gradle \u811a\u672c\uff0c\u800c\u6211\u4eec\u7684\u9879\u76ee\u901a\u5e38\u662f\u6709\u591a\u4e2a\u6a21\u5757\u4f9d\u8d56\u7684\uff0c\u8fd9\u65f6\u9700\u8981\u6211\u4eec\u5bf9\u591a\u4e2a\u76ee\u5f55\u540c\u65f6\u7f16\u8bd1\uff0c\u90a3\u5c31\u9700\u8981\u6211\u4eec\u521b\u5efa\u4e00\u4e2asettings.gradle \u6587\u4ef6\u3000 \u5982\u679c\u4f60\u7684\u76ee\u5f55\u4e0b\u6709settings.gradle \uff08\u6587\u4ef6\u9700\u8981\u81ea\u5df1\u521b\u5efa\uff09 ,\u91cc\u8fb9\u6dfb\u52a0\u5176\u4ed6\u76ee\u5f55\uff0c\u4f1a\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u76ee\u5f55\u4e0b\u7684build.gradle Projects \u548c tasks Gradle \u91cc\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u662f\u57fa\u4e8e\u8fd9\u4e24\u4e2a\u57fa\u7840\u6982\u5ff5: projects ( \u9879\u76ee ) tasks ( \u4efb\u52a1 ) \u6bcf\u4e00\u4e2a\u6784\u5efa\u90fd\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a projects \u6784\u6210\u7684. \u4e00\u4e2a project \u5230\u5e95\u4ee3\u8868\u4ec0\u4e48\u53d6\u51b3\u4e8e\u4f60\u60f3\u7528 Gradle \u505a\u4ec0\u4e48. \u4e3e\u4e2a\u4f8b\u5b50, \u4e00\u4e2a project \u53ef\u4ee5\u4ee3\u8868\u4e00\u4e2a JAR \u6216\u8005\u4e00\u4e2a\u7f51\u9875\u5e94\u7528. \u5b83\u4e5f\u53ef\u80fd\u4ee3\u8868\u4e00\u4e2a\u53d1\u5e03\u7684 ZIP \u538b\u7f29\u5305, \u8fd9\u4e2a ZIP \u53ef\u80fd\u662f\u7531\u8bb8\u591a\u5176\u4ed6\u9879\u76ee\u7684 JARs \u6784\u6210\u7684. \u4f46\u662f\u4e00\u4e2a project \u4e0d\u4e00\u5b9a\u975e\u8981\u4ee3\u8868\u88ab\u6784\u5efa\u7684\u67d0\u4e2a\u4e1c\u897f. \u5b83\u53ef\u4ee5\u4ee3\u8868\u4e00\u4ef6**\u8981\u505a\u7684\u4e8b, \u6bd4\u5982\u90e8\u7f72\u4f60\u7684\u5e94\u7528. \u4e0d\u8981\u62c5\u5fc3\u73b0\u5728\u770b\u4e0d\u61c2\u8fd9\u4e9b\u8bf4\u660e. Gradle \u7684\u5408\u7ea6\u6784\u5efa\u53ef\u4ee5\u8ba9\u4f60\u6765\u5177\u4f53\u5b9a\u4e49\u4e00\u4e2a project \u5230\u5e95\u8be5\u505a\u4ec0\u4e48. \u6bcf\u4e00\u4e2a project \u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a tasks \u6784\u6210\u7684. \u4e00\u4e2a task \u4ee3\u8868\u4e00\u4e9b\u66f4\u52a0\u7ec6\u5316\u7684\u6784\u5efa. \u53ef\u80fd\u662f\u7f16\u8bd1\u4e00\u4e9b classes, \u521b\u5efa\u4e00\u4e2a JAR, \u751f\u6210 javadoc, \u6216\u8005\u751f\u6210\u67d0\u4e2a\u76ee\u5f55\u7684\u538b\u7f29\u6587\u4ef6. \u76ee\u524d, \u6211\u4eec\u5148\u6765\u770b\u770b\u5b9a\u4e49\u6784\u5efa\u91cc\u7684\u4e00\u4e9b\u7b80\u5355\u7684 task. \u4ee5\u540e\u7684\u7ae0\u8282\u4f1a\u8bb2\u89e3\u591a\u9879\u76ee\u6784\u5efa\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 projects \u548c tasks \u5de5\u4f5c. Gradle \u7684\u5b88\u62a4\u8fdb\u7a0b Gradle \u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u4e2a\u540e\u53f0\u8fdb\u7a0b, \u5b83\u8fd0\u884c\u7740\u7e41\u91cd\u7684\u6784\u5efa, \u7136\u540e\u5728\u6784\u5efa\u7b49\u5f85\u4e0b\u4e00\u6b21\u6784\u5efa\u7684\u4e4b\u95f4\u4fdd\u6301\u81ea\u8eab\u5b58\u5728. \u8fd9\u4f7f\u5f97\u6570\u636e\u548c\u4ee3\u7801\u5728\u4e0b\u4e00\u6b21\u6784\u5efa\u524d\u5df2\u7ecf\u51c6\u5907\u597d,\u5e76\u5b58\u5165\u5185\u5b58\u4e2d. \u8fd9\u663e\u8457\u7684\u63d0\u9ad8\u4e86\u540e\u7eed\u6784\u5efa\u7684\u6027\u80fd. \u542f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u8282\u7ea6\u6784\u5efa\u65f6\u95f4\u7684\u5ec9\u4ef7\u65b9\u5f0f. \u5f3a\u70c8\u5efa\u8bae\u5728\u6240\u6709\u5f00\u53d1\u673a\u5668\u4e0a\u542f\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b.\u4f46\u662f\u4e0d\u63a8\u8350\u5728\u6301\u7eed\u96c6\u6210\u548c\u6784\u5efa\u670d\u52a1\u5668\u73af\u5883\u4e0b\u542f\u7528\u5b88\u62a4\u8fdb\u7a0b Gradle\u81ea\u52a8\u7ba1\u7406\u5b88\u62a4\u8fdb\u7a0b.\u5982\u679c\u6784\u5efa\u73af\u5883\u914d\u7f6e\u4e3a\u5229\u7528\u540e\u53f0\u7a0b\u5e8f,\u5982\u679c\u5728\u6ca1\u6709\u53ef\u7528\u5b88\u62a4\u8fdb\u7a0b,\u5c31\u4f1a\u81ea\u52a8\u542f\u52a8\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b,\u6216\u8005\u4f7f\u7528\u73b0\u6709\u7684\u7a7a\u95f2\u7684\u517c\u5bb9\u5b88\u62a4\u8fdb\u7a0b.\u5982\u679c\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b\u57283\u4e2a\u5c0f\u65f6\u5185\u6ca1\u6709\u4f7f\u7528,\u5b83\u5c06\u4f1a\u81ea\u6211\u7ec8\u7ed3.\u4e00\u65e6\u914d\u7f6e\u5f00\u53d1\u73af\u5883\u4e3a\u4f7f\u7528\u7684\u5b88\u62a4\u8fdb\u7a0b,\u5b88\u62a4\u8fdb\u7a0b\u901a\u5e38\u662f\u9690\u5f62\u7684,\u5bb9\u6613\u88ab\u9057\u5fd8\u7684. \u7ba1\u7406\u548c\u914d\u7f6e \u5982\u4f55\u542f\u52a8Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b \u5728\u4f7f\u7528Gradle\u547d\u4ee4\u884c\u63a5\u53e3\u65f6,--daemon\u548c--no-daemon\u547d\u4ee4\u884c\u9009\u9879\u8c03\u7528\u5728\u5355\u4e2a\u6784\u5efa\u65f6\u9009\u62e9\u542f\u7528\u6216\u7981\u7528\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b.\u901a\u5e38,\u5141\u8bb8\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b\u5728\u4e00\u4e2a\u73af\u5883\u4e2d(\u4f8b\u5982\u4e00\u4e2a\u7528\u6237\u8d26\u6237)\u66f4\u4e3a\u65b9\u4fbf,\u53ef\u4ee5\u4f7f\u6240\u6709\u6784\u5efa\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u800c\u4e0d\u9700\u8981\u8bb0\u4f4f--daemon\u5f00\u5173. \u6709\u4e24\u79cd\u63a8\u8350\u7684\u65b9\u5f0f\u4f7f\u5b88\u62a4\u8fdb\u7a0b\u6301\u7eed\u4e0e\u73af\u5883\uff1a \u901a\u8fc7\u73af\u5883\u53d8\u91cf - \u7ed9GRADLE_OPTS\u73af\u5883\u53d8\u91cf\u6dfb\u52a0-Dorg.gradle.daemon=true\u6807\u8bc6 \u901a\u8fc7\u5c5e\u6027\u6587\u4ef6 - \u7ed9< >/gradle.properties\u6587\u4ef6\u6dfb\u52a0org.gradle.daemon=true \u6ce8\u610f:\u9ed8\u8ba4\u4e3a/.gradle,\u4e3a\u5f53\u524d\u7528\u6237home\u76ee\u5f55,\u8fd9\u4e2a\u4f4d\u7f6e\u53ef\u4ee5\u901a\u8fc7-g\u548c-gradle-user-home\u547d\u4ee4\u884c\u9009\u9879,\u4ee5\u53ca\u7531GRADLE_USER_HOME\u73af\u5883\u53d8\u91cforg.gradle.user.home JVM\u7cfb\u7edf\u5c5e\u6027\u914d\u7f6e\u3002 \u8fd9\u4e24\u79cd\u65b9\u6cd5\u6709\u540c\u6837\u7684\u6548\u679c,\u4f7f\u7528\u54ea\u4e00\u4e2a\u662f\u7531\u4e2a\u4eba\u559c\u597d.\u5927\u591a\u6570Gradle\u7528\u6237\u9009\u62e9\u7b2c\u4e8c\u4e2a\u65b9\u5f0f,\u7ed9gradle.properties\u5e76\u6dfb\u52a0\u6761\u76ee. \u5728Windows\u4e2d\uff0c\u8be5\u547d\u4ee4\u5c06\u4f7f\u5f53\u524d\u7528\u6237\u542f\u7528\u5b88\u62a4\uff1a (if not exist \"%HOMEPATH%/.gradle\" mkdir \"%HOMEPATH%/.gradle\") && (echo foo >> \"%HOMEPATH%/.gradle/gradle.properties\") \u5728\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4ee5\u4e0b\u7684Bash shell\u547d\u4ee4\u5c06\u4f7f\u5f53\u524d\u7528\u6237\u542f\u7528\u5b88\u62a4\u8fdb\u7a0b\uff1a touch ~/.gradle/gradle.properties && echo \"org.gradle.daemon=true\" >> ~/.gradle/gradle.properties \u4e00\u65e6\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5728\u6784\u5efa\u73af\u5883\u4e2d\u542f\u7528\u4e86\u5b88\u62a4\u8fdb\u7a0b,\u6240\u6709\u7684\u6784\u5efa\u5c06\u9690\u542b\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b. \u5982\u4f55\u7981\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b \u4e00\u822cGradle\u5b88\u62a4\u8fdb\u7a0b\u9ed8\u8ba4\u4e0d\u542f\u7528.\u7136\u800c,\u4e00\u65e6\u5b83\u88ab\u542f\u7528,\u6709\u4e8b\u5e0c\u671b\u5bf9\u67d0\u4e9b\u9879\u76ee\u6216\u67d0\u4e9b\u6784\u5efa\u7981\u7528\u5b88\u62a4\u8fdb\u7a0b. --no-daemon\u547d\u4ee4\u884c\u9009\u9879\u53ef\u7528\u4e8e\u5f3a\u5236\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u80fd\u7528\u4e8e\u8be5\u6784\u5efa.\u8fd9\u5f88\u5c11\u4f7f\u7528,\u4f46\u662f\u5728\u8c03\u8bd5\u5177\u6709\u4e00\u5b9a\u7684\u6784\u5efa\u6216Gradle\u63d2\u4ef6\u95ee\u9898\u65f6,\u6709\u65f6\u4f1a\u5f88\u6709\u7528.\u5728\u6784\u5efa\u73af\u5883\u4e2d,\u6b64\u547d\u4ee4\u884c\u9009\u9879\u5177\u6709\u6700\u9ad8\u4f18\u5148\u7ea7. \u600e\u6837\u6291\u5236\u201cplease consider using the Gradle Daemon\u201d\u6d88\u606f Gradle\u53ef\u80fd\u4f1a\u5728\u6784\u5efa\u7ed3\u675f\u65f6\u53d1\u51fa\u5efa\u8bae\u60a8\u4f7f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b\u7684\u672b\u5c3e\u8b66\u544a.\u4e3a\u4e86\u907f\u514d\u8fd9\u4e2a\u8b66\u544a,\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u7684\u8fd9\u4e9b\u65b9\u6cd5\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u6216\u8005\u660e\u786e\u7981\u7528\u5b88\u62a4\u8fdb\u7a0b.\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u7684--no daemon\u7684\u547d\u4ee4\u884c\u9009\u9879\u660e\u786e\u7981\u7528\u5b88\u62a4\u8fdb\u7a0b,\u6216\u4f7f\u7528\u4e0a\u8ff0\u7684org.gradle.deamon\u7684\u503c\u8bbe\u7f6e\u4e3afalse\u4ee3\u66fftrie. \u56e0\u4e3a\u4e0d\u5efa\u8bae\u5728\u6301\u7eed\u96c6\u6210\u6784\u5efa\u4e2d\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u5982\u679cCI\u73af\u5883\u53d8\u91cf\u5df2\u5b58\u5728,Gradle\u4e0d\u4f1a\u53d1\u51fa\u6b64\u6d88\u606f. \u4e3a\u4ec0\u4e48\u4f1a\u5728\u673a\u5668\u4e0a\u51fa\u73b0\u4e0d\u53ea\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b \u6709\u51e0\u4e2a\u539f\u56e0Gradle\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b88\u62a4\u8fdb\u7a0b\u4ee3\u66ff\u4f7f\u7528\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u5b88\u62a4\u8fdb\u7a0b.\u5982\u679c\u5b88\u62a4\u8fdb\u7a0b\u6ca1\u6709\u95f2\u7f6e,\u517c\u5bb9,\u5219\u4f1a\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u5b88\u62a4\u8fdb\u7a0b. \u7a7a\u95f2\u7684\u5b88\u62a4\u8fdb\u7a0b\u662f\u5f53\u524d\u672a\u6267\u884c\u6784\u5efa\u6216\u505a\u5176\u4ed6\u6709\u7528\u7684\u5de5\u4f5c. \u517c\u5bb9\u7684\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u4e2a\u53ef\u4ee5\uff08\u6216\u8005\u53ef\u4ee5\u8fbe\u5230\uff09\u6ee1\u8db3\u8981\u6c42\u7684\u7f16\u8bd1\u73af\u5883\u7684\u8981\u6c42\u3002Java\u5b89\u88c5\u7a0b\u5e8f\u8fd0\u884c\u7684\u6784\u5efa\u662f\u6784\u5efa\u73af\u5883\u65b9\u9762\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002\u6784\u5efa\u8fd0\u884c\u65f6\u6240\u9700\u7684JVM\u7cfb\u7edf\u5c5e\u6027\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 \u4e00\u4e2a\u5df2\u7ecf\u8fd0\u884c\u7684Java\u8fdb\u7a0b\u53ef\u80fd\u4e0d\u80fd\u6ee1\u8db3\u6240\u9700\u7684\u6784\u5efa\u73af\u5883\u7684\u67d0\u4e9b\u65b9\u9762\u3002\u5982\u679c\u5b88\u62a4\u8fdb\u7a0b\u7531Java7\u542f\u52a8\uff0c\u4f46\u8981\u6c42\u7684\u73af\u5883\u8981\u6c42\u4e3aJava8,\u5219\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e0d\u517c\u5bb9\u7684\uff0c\u5fc5\u987b\u53e6\u5916\u542f\u52a8\u3002\u518d\u8005\uff0c\u5728\u8fd0\u884c\u7684JVM\u4e0d\u80fd\u6539\u53d8\u4e00\u4e2a\u8fd0\u884c\u65f6\u7684\u67d0\u4e9b\u6027\u80fd\u3002\u5982\u5185\u5b58\u5206\u914d\uff08\u5982-Xmx1024m\uff09\uff0c\u9ed8\u8ba4\u6587\u672c\u7f16\u7801\u8fd0\u884c\u7684JVM\u4e2d\uff0c\u9ed8\u8ba4\u7684\u8bed\u8a00\u73af\u5883\uff0c\u7b49\u7b49\u4e00\u4e2aJVM\u4e0d\u80fd\u6539\u53d8\u7684\u8fd0\u884c\u73af\u5883\u3002 \"Required build environment\"\u901a\u5e38\u5728\u6784\u5efa\u5ba2\u6237\u7aef(\u5982Gradle\u547d\u4ee4\u884c,IDE\u7b49)\u65b9\u9762\u9690\u542b\u6784\u5efa\u73af\u5883,\u5e76\u660e\u786e\u901a\u8fc7\u547d\u4ee4\u884c\u9009\u9879\u8bbe\u7f6e.\u53c2\u89c1Chapter 20,The Build Environment\u6709\u5173\u5982\u4f55\u6307\u5b9a\u548c\u63a7\u5236\u6784\u5efa\u73af\u5883\u7684\u8be6\u7ec6\u4fe1\u606f. \u4e00\u4e0bJVM\u7cfb\u7edf\u5c5e\u6027\u662f\u6709\u6548\u4e0d\u53d8\u7684.\u5982\u679c\u9700\u6c42\u7f16\u8bd1\u73af\u5883\u9700\u8981\u8fd9\u4e9b\u5c5e\u6027,\u4e0d\u540c\u7684\u5b88\u62a4\u8fdb\u7a0bJVM\u5728\u4e0b\u5217\u5c5e\u6027\u4e2d\u6709\u4e0d\u540c\u7684\u503c\u65f6,\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u517c\u5bb9. file.encoding user.language user.country user.variant com.sun.management.jmxremote \u4e0b\u5217JVM\u5c5e\u6027,\u901a\u8fc7\u542f\u52a8\u53c2\u6570\u63a7\u5236,\u4e5f\u662f\u6709\u6548\u4e0d\u53d8\u7684.\u5728\u9700\u6c42\u6784\u5efa\u73af\u5883\u548c\u5b88\u62a4\u8fdb\u7a0b\u73af\u5883\u7684\u5bf9\u5e94\u5c5e\u6027\u5fc5\u987b\u6309\u987a\u5e8f\u5b8c\u5168\u5339\u914d,\u624d\u53ef\u517c\u5bb9. \u6700\u5927\u5806\u5927\u5c0f(\u5373 -Xmx JVM\u53c2\u6570) \u6700\u5c0f\u5806\u5927\u5c0f(\u5373 -Xms JVM\u53c2\u6570) \u5f15\u5bfc\u7c7b\u8def\u5f84(\u5373 -Xbootclasspath JVM\u53c2\u6570) \"assertion\"\u72b6\u6001(\u5373 -ea \u53c2\u6570) \u6240\u9700\u7684Gradle\u7248\u672c\u662f\u9700\u6c42\u6784\u5efa\u73af\u5883\u7684\u53e6\u4e00\u4e2a\u65b9\u9762.\u5b88\u62a4\u8fdb\u7a0b\u88ab\u8026\u5408\u5230\u7279\u5b9aGradle\u8fd0\u884c\u65f6,\u591a\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5b88\u62a4\u8fdb\u7a0b\u4ea7\u751f\u7684\u539f\u56e0\u662f\u4f7f\u7528\u4f7f\u7528\u4e0d\u540c\u7248\u672c\u7684Gradle\u4f1a\u5728\u4f1a\u8bdd\u8fc7\u7a0b\u4e2d\u5904\u7406\u591a\u4e2a\u9879\u76ee. \u5b88\u62a4\u8fdb\u7a0b\u5360\u7528\u591a\u5927\u5185\u5b58\u5e76\u4e14\u80fd\u4e0d\u80fd\u7ed9\u5b83\u66f4\u5927\u7684\u5185\u5b58? \u5982\u679c\u9700\u6c42\u6784\u5efa\u73af\u5883\u6ca1\u6709\u6307\u5b9a\u6700\u5927\u5806\u5185\u5b58,\u5b88\u62a4\u8fdb\u7a0b\u4f1a\u4f7f\u7528\u591a\u8fbe1G\u7684\u5806\u5185\u5b58.\u5b83\u5c06\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684JVM\u7684\u6700\u5c0f\u5806\u5185\u5b58.1G\u5185\u5b58\u8db3\u591f\u5e94\u4ed8\u5927\u591a\u6570\u6784\u5efa.\u6709\u6570\u767e\u4e2a\u5b50\u9879\u7684\u6784\u5efa,\u5927\u91cf\u914d\u7f6e\u6216\u8005\u6e90\u7801\u9700\u6c42,\u6216\u8005\u8981\u6c42\u6709\u66f4\u597d\u7684\u8868\u73b0,\u5219\u9700\u8981\u66f4\u591a\u5730\u5185\u5b58 \u5982\u4f55\u505c\u6b62\u5b88\u62a4\u8fdb\u7a0b \u5b88\u62a4\u8fdb\u7a0b\u4f1a\u5728\u95f2\u7f6e3\u5c0f\u65f6\u540e\u81ea\u52a8\u7ec8\u6b62.\u5982\u679c\u60f3\u5728\u8fd9\u4e4b\u524d\u505c\u6b62\u5b88\u62a4\u8fdb\u7a0b,\u4e5f\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u8fd0\u884c gradle --stop \u547d\u4ee4\u7ec8\u6b62\u540e\u53f0\u8fdb\u7a0b. \u5b88\u62a4\u8fdb\u7a0b\u4f55\u65f6\u4f1a\u51fa\u9519 \u8bb8\u591a\u5de5\u7a0b\u8bbe\u8ba1\u5df2\u7ecf\u52a0\u5165\u5b88\u62a4\u8fdb\u7a0b\u4f7f\u5f97\u5b88\u62a4\u8fdb\u7a0b\u5728\u65e5\u5e38\u7684\u5f00\u53d1\u4e2d\u53d8\u5f97\u66f4\u52a0\u5065\u58ee,\u900f\u660e\u548c\u4e0d\u8d77\u773c.\u65e0\u8bba\u5982\u4f55,\u5b88\u62a4\u8fdb\u7a0b\u5076\u5c14\u4e5f\u4f1a\u635f\u574f\u6216\u8005\u67af\u7aed.\u4e00\u4e2aGradle\u6784\u5efa\u6267\u884c\u6e90\u81ea\u591a\u4e2a\u6765\u6e90\u7684\u4efb\u610f\u4ee3\u7801.\u5373\u4f7fGradle\u672c\u8eab\u4e0e\u5b88\u62a4\u8fdb\u7a0b\u7684\u8bbe\u8ba1\u662f\u7ecf\u8fc7\u4e25\u683c\u7684\u6d4b\u8bd5\u7684,\u4f46\u662f\u7528\u6237\u7684\u6784\u5efa\u811a\u672c,\u6216\u7b2c\u4e09\u65b9\u63d2\u4ef6\u53ef\u4ee5\u901a\u8fc7\u8bf8\u5982\u5185\u5b58\u6cc4\u9732,\u6216\u8150\u5316\u5168\u5c40\u58f0\u660e\u7b49\u7f3a\u9677\u6765\u52a8\u6447\u5b88\u62a4\u8fdb\u7a0b. \u53e6\u5916,\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6784\u5efa\u65f6\u8fdb\u884c\u4e0d\u6b63\u786e\u7684\u8d44\u6e90\u91ca\u653e,\u4e5f\u53ef\u80fd\u4f1a\u52a8\u6447\u5b88\u62a4\u8fdb\u7a0b(\u6784\u5efa\u73af\u5883\u6b63\u5e38).\u5728\u5728Microsoft Windows\u4e0b\u662f\u4e00\u4e2a\u7279\u522b\u5c16\u9510\u7684\u95ee\u9898,\u5728\u7a0b\u5e8f\u8bfb\u5199\u6587\u4ef6\u540e\u5173\u95ed\u5931\u8d25\u7684\u5904\u7406\u662f\u975e\u5e38\u968f\u610f\u7684. \u5982\u679c\u51fa\u73b0\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u7a33\u5b9a\u60c5\u51b5,\u53ef\u4ee5\u7b80\u5355\u7684\u7ec8\u6b62.\u56de\u987e\u4e00\u4e0b--no-daemon\u7684\u9009\u9879\u53ef\u4ee5\u7528\u4e8e\u6784\u5efa\u963b\u6b62\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u8fd9\u5bf9\u4e8e\u68c0\u9a8c\u4e00\u4e2a\u95ee\u9898\u7684\u7f6a\u9b41\u7978\u9996\u662f\u4e0d\u662f\u5b88\u62a4\u8fdb\u7a0b\u5f88\u6709\u5e2e\u52a9. \u4ec0\u4e48\u65f6\u5019\u4e0d\u4f7f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b \u5efa\u8bae\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u4f7f\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b,\u4e0d\u5efa\u8bae\u5728\u6301\u7eed\u96c6\u6210\u73af\u5883\u548c\u6784\u5efa\u670d\u52a1\u5668\u73af\u5883\u4e2d\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b. \u5b88\u62a4\u8fdb\u7a0b\u53ef\u4ee5\u66f4\u5feb\u7684\u6784\u5efa,\u8fd9\u5bf9\u4e8e\u4e00\u4e2a\u6b63\u5750\u5728\u6905\u5b50\u524d\u6784\u5efa\u9879\u76ee\u7684\u4eba\u6765\u8bf4\u975e\u5e38\u91cd\u8981.\u5bf9\u4e8eCI\u6784\u5efa\u6765\u8bf4,\u7a33\u5b9a\u6027\u548c\u53ef\u9884\u89c1\u6027\u662f\u6700\u91cd\u8981\u7684.\u4e3a\u6bcf\u4e2a\u6784\u5efa\u8fd0\u884c\u65f6\u7528\u4e00\u4e2a\u65b0\u7684,\u5b8c\u5168\u5b64\u7acb\u4e8e\u4ee5\u524d\u7684\u7248\u672c\u7684\u7a0b\u5e8f,\u66f4\u52a0\u53ef\u9760\u3002 - \u8bed\u6cd5 - \u8bed\u6cd5 \u8bed\u6cd5 \u8bed\u6cd5","title":"Index"},{"location":"gradle/#gradle","text":"","title":"Gradle \u7528\u6cd5"},{"location":"gradle/#gradle_1","text":"","title":"Gradle \u6982\u5ff5"},{"location":"gradle/#settingsgradle-buildgradle","text":"settings.gradle\u6587\u4ef6\u662fgradle\u9879\u76ee\u7684\u603b\u4f53\u914d\u7f6e\u6587\u4ef6\uff0c\u4e00\u822c\u4f1a\u628a\u5b50\u9879\u76ee\u4e2d\u901a\u7528\u7684\u4e00\u4e9b\u914d\u7f6e\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6709\u70b9\u96f7\u58eb\u4e0emaven\u7684parent pom \u6587\u4ef6\u3002 build.gradle\u6587\u4ef6\u5219\u662f\u9488\u5bf9\u5355\u4e2a\u9879\u76ee\u7684\u5177\u4f53\u914d\u7f6e\u3002 build.gradle - \u6587\u4ef6\u5305\u542b\u9879\u76ee\u6784\u5efa\u6240\u4f7f\u7528\u7684\u811a\u672c\u3002 settings.gradle - \u6587\u4ef6\u5c06\u5305\u542b\u5fc5\u8981\u7684\u4e00\u4e9b\u8bbe\u7f6e\uff0c\u4f8b\u5982\uff0c\u4efb\u52a1\u6216\u9879\u76ee\u4e4b\u95f4\u7684\u4f9d\u61d2\u5173\u7cfb\u7b49","title":"settings.gradle \u548c build.gradle"},{"location":"gradle/#settingsgradle","text":"gradle \u9ed8\u8ba4\u53ea\u6267\u884c\u5f53\u524d\u76ee\u5f55\u4e0b\u7684build.gradle \u811a\u672c\uff0c\u800c\u6211\u4eec\u7684\u9879\u76ee\u901a\u5e38\u662f\u6709\u591a\u4e2a\u6a21\u5757\u4f9d\u8d56\u7684\uff0c\u8fd9\u65f6\u9700\u8981\u6211\u4eec\u5bf9\u591a\u4e2a\u76ee\u5f55\u540c\u65f6\u7f16\u8bd1\uff0c\u90a3\u5c31\u9700\u8981\u6211\u4eec\u521b\u5efa\u4e00\u4e2asettings.gradle \u6587\u4ef6\u3000 \u5982\u679c\u4f60\u7684\u76ee\u5f55\u4e0b\u6709settings.gradle \uff08\u6587\u4ef6\u9700\u8981\u81ea\u5df1\u521b\u5efa\uff09 ,\u91cc\u8fb9\u6dfb\u52a0\u5176\u4ed6\u76ee\u5f55\uff0c\u4f1a\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u76ee\u5f55\u4e0b\u7684build.gradle","title":"settings.gradle"},{"location":"gradle/#projects-tasks","text":"Gradle \u91cc\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u662f\u57fa\u4e8e\u8fd9\u4e24\u4e2a\u57fa\u7840\u6982\u5ff5: projects ( \u9879\u76ee ) tasks ( \u4efb\u52a1 ) \u6bcf\u4e00\u4e2a\u6784\u5efa\u90fd\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a projects \u6784\u6210\u7684. \u4e00\u4e2a project \u5230\u5e95\u4ee3\u8868\u4ec0\u4e48\u53d6\u51b3\u4e8e\u4f60\u60f3\u7528 Gradle \u505a\u4ec0\u4e48. \u4e3e\u4e2a\u4f8b\u5b50, \u4e00\u4e2a project \u53ef\u4ee5\u4ee3\u8868\u4e00\u4e2a JAR \u6216\u8005\u4e00\u4e2a\u7f51\u9875\u5e94\u7528. \u5b83\u4e5f\u53ef\u80fd\u4ee3\u8868\u4e00\u4e2a\u53d1\u5e03\u7684 ZIP \u538b\u7f29\u5305, \u8fd9\u4e2a ZIP \u53ef\u80fd\u662f\u7531\u8bb8\u591a\u5176\u4ed6\u9879\u76ee\u7684 JARs \u6784\u6210\u7684. \u4f46\u662f\u4e00\u4e2a project \u4e0d\u4e00\u5b9a\u975e\u8981\u4ee3\u8868\u88ab\u6784\u5efa\u7684\u67d0\u4e2a\u4e1c\u897f. \u5b83\u53ef\u4ee5\u4ee3\u8868\u4e00\u4ef6**\u8981\u505a\u7684\u4e8b, \u6bd4\u5982\u90e8\u7f72\u4f60\u7684\u5e94\u7528. \u4e0d\u8981\u62c5\u5fc3\u73b0\u5728\u770b\u4e0d\u61c2\u8fd9\u4e9b\u8bf4\u660e. Gradle \u7684\u5408\u7ea6\u6784\u5efa\u53ef\u4ee5\u8ba9\u4f60\u6765\u5177\u4f53\u5b9a\u4e49\u4e00\u4e2a project \u5230\u5e95\u8be5\u505a\u4ec0\u4e48. \u6bcf\u4e00\u4e2a project \u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a tasks \u6784\u6210\u7684. \u4e00\u4e2a task \u4ee3\u8868\u4e00\u4e9b\u66f4\u52a0\u7ec6\u5316\u7684\u6784\u5efa. \u53ef\u80fd\u662f\u7f16\u8bd1\u4e00\u4e9b classes, \u521b\u5efa\u4e00\u4e2a JAR, \u751f\u6210 javadoc, \u6216\u8005\u751f\u6210\u67d0\u4e2a\u76ee\u5f55\u7684\u538b\u7f29\u6587\u4ef6. \u76ee\u524d, \u6211\u4eec\u5148\u6765\u770b\u770b\u5b9a\u4e49\u6784\u5efa\u91cc\u7684\u4e00\u4e9b\u7b80\u5355\u7684 task. \u4ee5\u540e\u7684\u7ae0\u8282\u4f1a\u8bb2\u89e3\u591a\u9879\u76ee\u6784\u5efa\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 projects \u548c tasks \u5de5\u4f5c.","title":"Projects \u548c tasks"},{"location":"gradle/#gradle_2","text":"Gradle \u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u4e2a\u540e\u53f0\u8fdb\u7a0b, \u5b83\u8fd0\u884c\u7740\u7e41\u91cd\u7684\u6784\u5efa, \u7136\u540e\u5728\u6784\u5efa\u7b49\u5f85\u4e0b\u4e00\u6b21\u6784\u5efa\u7684\u4e4b\u95f4\u4fdd\u6301\u81ea\u8eab\u5b58\u5728. \u8fd9\u4f7f\u5f97\u6570\u636e\u548c\u4ee3\u7801\u5728\u4e0b\u4e00\u6b21\u6784\u5efa\u524d\u5df2\u7ecf\u51c6\u5907\u597d,\u5e76\u5b58\u5165\u5185\u5b58\u4e2d. \u8fd9\u663e\u8457\u7684\u63d0\u9ad8\u4e86\u540e\u7eed\u6784\u5efa\u7684\u6027\u80fd. \u542f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u8282\u7ea6\u6784\u5efa\u65f6\u95f4\u7684\u5ec9\u4ef7\u65b9\u5f0f. \u5f3a\u70c8\u5efa\u8bae\u5728\u6240\u6709\u5f00\u53d1\u673a\u5668\u4e0a\u542f\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b.\u4f46\u662f\u4e0d\u63a8\u8350\u5728\u6301\u7eed\u96c6\u6210\u548c\u6784\u5efa\u670d\u52a1\u5668\u73af\u5883\u4e0b\u542f\u7528\u5b88\u62a4\u8fdb\u7a0b Gradle\u81ea\u52a8\u7ba1\u7406\u5b88\u62a4\u8fdb\u7a0b.\u5982\u679c\u6784\u5efa\u73af\u5883\u914d\u7f6e\u4e3a\u5229\u7528\u540e\u53f0\u7a0b\u5e8f,\u5982\u679c\u5728\u6ca1\u6709\u53ef\u7528\u5b88\u62a4\u8fdb\u7a0b,\u5c31\u4f1a\u81ea\u52a8\u542f\u52a8\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b,\u6216\u8005\u4f7f\u7528\u73b0\u6709\u7684\u7a7a\u95f2\u7684\u517c\u5bb9\u5b88\u62a4\u8fdb\u7a0b.\u5982\u679c\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b\u57283\u4e2a\u5c0f\u65f6\u5185\u6ca1\u6709\u4f7f\u7528,\u5b83\u5c06\u4f1a\u81ea\u6211\u7ec8\u7ed3.\u4e00\u65e6\u914d\u7f6e\u5f00\u53d1\u73af\u5883\u4e3a\u4f7f\u7528\u7684\u5b88\u62a4\u8fdb\u7a0b,\u5b88\u62a4\u8fdb\u7a0b\u901a\u5e38\u662f\u9690\u5f62\u7684,\u5bb9\u6613\u88ab\u9057\u5fd8\u7684.","title":"Gradle \u7684\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/#_1","text":"","title":"\u7ba1\u7406\u548c\u914d\u7f6e"},{"location":"gradle/#gradle_3","text":"\u5728\u4f7f\u7528Gradle\u547d\u4ee4\u884c\u63a5\u53e3\u65f6,--daemon\u548c--no-daemon\u547d\u4ee4\u884c\u9009\u9879\u8c03\u7528\u5728\u5355\u4e2a\u6784\u5efa\u65f6\u9009\u62e9\u542f\u7528\u6216\u7981\u7528\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b.\u901a\u5e38,\u5141\u8bb8\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b\u5728\u4e00\u4e2a\u73af\u5883\u4e2d(\u4f8b\u5982\u4e00\u4e2a\u7528\u6237\u8d26\u6237)\u66f4\u4e3a\u65b9\u4fbf,\u53ef\u4ee5\u4f7f\u6240\u6709\u6784\u5efa\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u800c\u4e0d\u9700\u8981\u8bb0\u4f4f--daemon\u5f00\u5173. \u6709\u4e24\u79cd\u63a8\u8350\u7684\u65b9\u5f0f\u4f7f\u5b88\u62a4\u8fdb\u7a0b\u6301\u7eed\u4e0e\u73af\u5883\uff1a \u901a\u8fc7\u73af\u5883\u53d8\u91cf - \u7ed9GRADLE_OPTS\u73af\u5883\u53d8\u91cf\u6dfb\u52a0-Dorg.gradle.daemon=true\u6807\u8bc6 \u901a\u8fc7\u5c5e\u6027\u6587\u4ef6 - \u7ed9< >/gradle.properties\u6587\u4ef6\u6dfb\u52a0org.gradle.daemon=true \u6ce8\u610f:\u9ed8\u8ba4\u4e3a/.gradle,\u4e3a\u5f53\u524d\u7528\u6237home\u76ee\u5f55,\u8fd9\u4e2a\u4f4d\u7f6e\u53ef\u4ee5\u901a\u8fc7-g\u548c-gradle-user-home\u547d\u4ee4\u884c\u9009\u9879,\u4ee5\u53ca\u7531GRADLE_USER_HOME\u73af\u5883\u53d8\u91cforg.gradle.user.home JVM\u7cfb\u7edf\u5c5e\u6027\u914d\u7f6e\u3002 \u8fd9\u4e24\u79cd\u65b9\u6cd5\u6709\u540c\u6837\u7684\u6548\u679c,\u4f7f\u7528\u54ea\u4e00\u4e2a\u662f\u7531\u4e2a\u4eba\u559c\u597d.\u5927\u591a\u6570Gradle\u7528\u6237\u9009\u62e9\u7b2c\u4e8c\u4e2a\u65b9\u5f0f,\u7ed9gradle.properties\u5e76\u6dfb\u52a0\u6761\u76ee. \u5728Windows\u4e2d\uff0c\u8be5\u547d\u4ee4\u5c06\u4f7f\u5f53\u524d\u7528\u6237\u542f\u7528\u5b88\u62a4\uff1a (if not exist \"%HOMEPATH%/.gradle\" mkdir \"%HOMEPATH%/.gradle\") && (echo foo >> \"%HOMEPATH%/.gradle/gradle.properties\") \u5728\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4ee5\u4e0b\u7684Bash shell\u547d\u4ee4\u5c06\u4f7f\u5f53\u524d\u7528\u6237\u542f\u7528\u5b88\u62a4\u8fdb\u7a0b\uff1a touch ~/.gradle/gradle.properties && echo \"org.gradle.daemon=true\" >> ~/.gradle/gradle.properties \u4e00\u65e6\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5728\u6784\u5efa\u73af\u5883\u4e2d\u542f\u7528\u4e86\u5b88\u62a4\u8fdb\u7a0b,\u6240\u6709\u7684\u6784\u5efa\u5c06\u9690\u542b\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b.","title":"\u5982\u4f55\u542f\u52a8Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/#gradle_4","text":"\u4e00\u822cGradle\u5b88\u62a4\u8fdb\u7a0b\u9ed8\u8ba4\u4e0d\u542f\u7528.\u7136\u800c,\u4e00\u65e6\u5b83\u88ab\u542f\u7528,\u6709\u4e8b\u5e0c\u671b\u5bf9\u67d0\u4e9b\u9879\u76ee\u6216\u67d0\u4e9b\u6784\u5efa\u7981\u7528\u5b88\u62a4\u8fdb\u7a0b. --no-daemon\u547d\u4ee4\u884c\u9009\u9879\u53ef\u7528\u4e8e\u5f3a\u5236\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u80fd\u7528\u4e8e\u8be5\u6784\u5efa.\u8fd9\u5f88\u5c11\u4f7f\u7528,\u4f46\u662f\u5728\u8c03\u8bd5\u5177\u6709\u4e00\u5b9a\u7684\u6784\u5efa\u6216Gradle\u63d2\u4ef6\u95ee\u9898\u65f6,\u6709\u65f6\u4f1a\u5f88\u6709\u7528.\u5728\u6784\u5efa\u73af\u5883\u4e2d,\u6b64\u547d\u4ee4\u884c\u9009\u9879\u5177\u6709\u6700\u9ad8\u4f18\u5148\u7ea7.","title":"\u5982\u4f55\u7981\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/#please-consider-using-the-gradle-daemon","text":"Gradle\u53ef\u80fd\u4f1a\u5728\u6784\u5efa\u7ed3\u675f\u65f6\u53d1\u51fa\u5efa\u8bae\u60a8\u4f7f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b\u7684\u672b\u5c3e\u8b66\u544a.\u4e3a\u4e86\u907f\u514d\u8fd9\u4e2a\u8b66\u544a,\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u7684\u8fd9\u4e9b\u65b9\u6cd5\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u6216\u8005\u660e\u786e\u7981\u7528\u5b88\u62a4\u8fdb\u7a0b.\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u7684--no daemon\u7684\u547d\u4ee4\u884c\u9009\u9879\u660e\u786e\u7981\u7528\u5b88\u62a4\u8fdb\u7a0b,\u6216\u4f7f\u7528\u4e0a\u8ff0\u7684org.gradle.deamon\u7684\u503c\u8bbe\u7f6e\u4e3afalse\u4ee3\u66fftrie. \u56e0\u4e3a\u4e0d\u5efa\u8bae\u5728\u6301\u7eed\u96c6\u6210\u6784\u5efa\u4e2d\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u5982\u679cCI\u73af\u5883\u53d8\u91cf\u5df2\u5b58\u5728,Gradle\u4e0d\u4f1a\u53d1\u51fa\u6b64\u6d88\u606f.","title":"\u600e\u6837\u6291\u5236\u201cplease consider using the Gradle Daemon\u201d\u6d88\u606f"},{"location":"gradle/#_2","text":"\u6709\u51e0\u4e2a\u539f\u56e0Gradle\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b88\u62a4\u8fdb\u7a0b\u4ee3\u66ff\u4f7f\u7528\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u5b88\u62a4\u8fdb\u7a0b.\u5982\u679c\u5b88\u62a4\u8fdb\u7a0b\u6ca1\u6709\u95f2\u7f6e,\u517c\u5bb9,\u5219\u4f1a\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u5b88\u62a4\u8fdb\u7a0b. \u7a7a\u95f2\u7684\u5b88\u62a4\u8fdb\u7a0b\u662f\u5f53\u524d\u672a\u6267\u884c\u6784\u5efa\u6216\u505a\u5176\u4ed6\u6709\u7528\u7684\u5de5\u4f5c. \u517c\u5bb9\u7684\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u4e2a\u53ef\u4ee5\uff08\u6216\u8005\u53ef\u4ee5\u8fbe\u5230\uff09\u6ee1\u8db3\u8981\u6c42\u7684\u7f16\u8bd1\u73af\u5883\u7684\u8981\u6c42\u3002Java\u5b89\u88c5\u7a0b\u5e8f\u8fd0\u884c\u7684\u6784\u5efa\u662f\u6784\u5efa\u73af\u5883\u65b9\u9762\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002\u6784\u5efa\u8fd0\u884c\u65f6\u6240\u9700\u7684JVM\u7cfb\u7edf\u5c5e\u6027\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 \u4e00\u4e2a\u5df2\u7ecf\u8fd0\u884c\u7684Java\u8fdb\u7a0b\u53ef\u80fd\u4e0d\u80fd\u6ee1\u8db3\u6240\u9700\u7684\u6784\u5efa\u73af\u5883\u7684\u67d0\u4e9b\u65b9\u9762\u3002\u5982\u679c\u5b88\u62a4\u8fdb\u7a0b\u7531Java7\u542f\u52a8\uff0c\u4f46\u8981\u6c42\u7684\u73af\u5883\u8981\u6c42\u4e3aJava8,\u5219\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e0d\u517c\u5bb9\u7684\uff0c\u5fc5\u987b\u53e6\u5916\u542f\u52a8\u3002\u518d\u8005\uff0c\u5728\u8fd0\u884c\u7684JVM\u4e0d\u80fd\u6539\u53d8\u4e00\u4e2a\u8fd0\u884c\u65f6\u7684\u67d0\u4e9b\u6027\u80fd\u3002\u5982\u5185\u5b58\u5206\u914d\uff08\u5982-Xmx1024m\uff09\uff0c\u9ed8\u8ba4\u6587\u672c\u7f16\u7801\u8fd0\u884c\u7684JVM\u4e2d\uff0c\u9ed8\u8ba4\u7684\u8bed\u8a00\u73af\u5883\uff0c\u7b49\u7b49\u4e00\u4e2aJVM\u4e0d\u80fd\u6539\u53d8\u7684\u8fd0\u884c\u73af\u5883\u3002 \"Required build environment\"\u901a\u5e38\u5728\u6784\u5efa\u5ba2\u6237\u7aef(\u5982Gradle\u547d\u4ee4\u884c,IDE\u7b49)\u65b9\u9762\u9690\u542b\u6784\u5efa\u73af\u5883,\u5e76\u660e\u786e\u901a\u8fc7\u547d\u4ee4\u884c\u9009\u9879\u8bbe\u7f6e.\u53c2\u89c1Chapter 20,The Build Environment\u6709\u5173\u5982\u4f55\u6307\u5b9a\u548c\u63a7\u5236\u6784\u5efa\u73af\u5883\u7684\u8be6\u7ec6\u4fe1\u606f. \u4e00\u4e0bJVM\u7cfb\u7edf\u5c5e\u6027\u662f\u6709\u6548\u4e0d\u53d8\u7684.\u5982\u679c\u9700\u6c42\u7f16\u8bd1\u73af\u5883\u9700\u8981\u8fd9\u4e9b\u5c5e\u6027,\u4e0d\u540c\u7684\u5b88\u62a4\u8fdb\u7a0bJVM\u5728\u4e0b\u5217\u5c5e\u6027\u4e2d\u6709\u4e0d\u540c\u7684\u503c\u65f6,\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u517c\u5bb9. file.encoding user.language user.country user.variant com.sun.management.jmxremote \u4e0b\u5217JVM\u5c5e\u6027,\u901a\u8fc7\u542f\u52a8\u53c2\u6570\u63a7\u5236,\u4e5f\u662f\u6709\u6548\u4e0d\u53d8\u7684.\u5728\u9700\u6c42\u6784\u5efa\u73af\u5883\u548c\u5b88\u62a4\u8fdb\u7a0b\u73af\u5883\u7684\u5bf9\u5e94\u5c5e\u6027\u5fc5\u987b\u6309\u987a\u5e8f\u5b8c\u5168\u5339\u914d,\u624d\u53ef\u517c\u5bb9. \u6700\u5927\u5806\u5927\u5c0f(\u5373 -Xmx JVM\u53c2\u6570) \u6700\u5c0f\u5806\u5927\u5c0f(\u5373 -Xms JVM\u53c2\u6570) \u5f15\u5bfc\u7c7b\u8def\u5f84(\u5373 -Xbootclasspath JVM\u53c2\u6570) \"assertion\"\u72b6\u6001(\u5373 -ea \u53c2\u6570) \u6240\u9700\u7684Gradle\u7248\u672c\u662f\u9700\u6c42\u6784\u5efa\u73af\u5883\u7684\u53e6\u4e00\u4e2a\u65b9\u9762.\u5b88\u62a4\u8fdb\u7a0b\u88ab\u8026\u5408\u5230\u7279\u5b9aGradle\u8fd0\u884c\u65f6,\u591a\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5b88\u62a4\u8fdb\u7a0b\u4ea7\u751f\u7684\u539f\u56e0\u662f\u4f7f\u7528\u4f7f\u7528\u4e0d\u540c\u7248\u672c\u7684Gradle\u4f1a\u5728\u4f1a\u8bdd\u8fc7\u7a0b\u4e2d\u5904\u7406\u591a\u4e2a\u9879\u76ee.","title":"\u4e3a\u4ec0\u4e48\u4f1a\u5728\u673a\u5668\u4e0a\u51fa\u73b0\u4e0d\u53ea\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/#_3","text":"\u5982\u679c\u9700\u6c42\u6784\u5efa\u73af\u5883\u6ca1\u6709\u6307\u5b9a\u6700\u5927\u5806\u5185\u5b58,\u5b88\u62a4\u8fdb\u7a0b\u4f1a\u4f7f\u7528\u591a\u8fbe1G\u7684\u5806\u5185\u5b58.\u5b83\u5c06\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684JVM\u7684\u6700\u5c0f\u5806\u5185\u5b58.1G\u5185\u5b58\u8db3\u591f\u5e94\u4ed8\u5927\u591a\u6570\u6784\u5efa.\u6709\u6570\u767e\u4e2a\u5b50\u9879\u7684\u6784\u5efa,\u5927\u91cf\u914d\u7f6e\u6216\u8005\u6e90\u7801\u9700\u6c42,\u6216\u8005\u8981\u6c42\u6709\u66f4\u597d\u7684\u8868\u73b0,\u5219\u9700\u8981\u66f4\u591a\u5730\u5185\u5b58","title":"\u5b88\u62a4\u8fdb\u7a0b\u5360\u7528\u591a\u5927\u5185\u5b58\u5e76\u4e14\u80fd\u4e0d\u80fd\u7ed9\u5b83\u66f4\u5927\u7684\u5185\u5b58?"},{"location":"gradle/#_4","text":"\u5b88\u62a4\u8fdb\u7a0b\u4f1a\u5728\u95f2\u7f6e3\u5c0f\u65f6\u540e\u81ea\u52a8\u7ec8\u6b62.\u5982\u679c\u60f3\u5728\u8fd9\u4e4b\u524d\u505c\u6b62\u5b88\u62a4\u8fdb\u7a0b,\u4e5f\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u8fd0\u884c gradle --stop \u547d\u4ee4\u7ec8\u6b62\u540e\u53f0\u8fdb\u7a0b.","title":"\u5982\u4f55\u505c\u6b62\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/#_5","text":"\u8bb8\u591a\u5de5\u7a0b\u8bbe\u8ba1\u5df2\u7ecf\u52a0\u5165\u5b88\u62a4\u8fdb\u7a0b\u4f7f\u5f97\u5b88\u62a4\u8fdb\u7a0b\u5728\u65e5\u5e38\u7684\u5f00\u53d1\u4e2d\u53d8\u5f97\u66f4\u52a0\u5065\u58ee,\u900f\u660e\u548c\u4e0d\u8d77\u773c.\u65e0\u8bba\u5982\u4f55,\u5b88\u62a4\u8fdb\u7a0b\u5076\u5c14\u4e5f\u4f1a\u635f\u574f\u6216\u8005\u67af\u7aed.\u4e00\u4e2aGradle\u6784\u5efa\u6267\u884c\u6e90\u81ea\u591a\u4e2a\u6765\u6e90\u7684\u4efb\u610f\u4ee3\u7801.\u5373\u4f7fGradle\u672c\u8eab\u4e0e\u5b88\u62a4\u8fdb\u7a0b\u7684\u8bbe\u8ba1\u662f\u7ecf\u8fc7\u4e25\u683c\u7684\u6d4b\u8bd5\u7684,\u4f46\u662f\u7528\u6237\u7684\u6784\u5efa\u811a\u672c,\u6216\u7b2c\u4e09\u65b9\u63d2\u4ef6\u53ef\u4ee5\u901a\u8fc7\u8bf8\u5982\u5185\u5b58\u6cc4\u9732,\u6216\u8150\u5316\u5168\u5c40\u58f0\u660e\u7b49\u7f3a\u9677\u6765\u52a8\u6447\u5b88\u62a4\u8fdb\u7a0b. \u53e6\u5916,\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6784\u5efa\u65f6\u8fdb\u884c\u4e0d\u6b63\u786e\u7684\u8d44\u6e90\u91ca\u653e,\u4e5f\u53ef\u80fd\u4f1a\u52a8\u6447\u5b88\u62a4\u8fdb\u7a0b(\u6784\u5efa\u73af\u5883\u6b63\u5e38).\u5728\u5728Microsoft Windows\u4e0b\u662f\u4e00\u4e2a\u7279\u522b\u5c16\u9510\u7684\u95ee\u9898,\u5728\u7a0b\u5e8f\u8bfb\u5199\u6587\u4ef6\u540e\u5173\u95ed\u5931\u8d25\u7684\u5904\u7406\u662f\u975e\u5e38\u968f\u610f\u7684. \u5982\u679c\u51fa\u73b0\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u7a33\u5b9a\u60c5\u51b5,\u53ef\u4ee5\u7b80\u5355\u7684\u7ec8\u6b62.\u56de\u987e\u4e00\u4e0b--no-daemon\u7684\u9009\u9879\u53ef\u4ee5\u7528\u4e8e\u6784\u5efa\u963b\u6b62\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b,\u8fd9\u5bf9\u4e8e\u68c0\u9a8c\u4e00\u4e2a\u95ee\u9898\u7684\u7f6a\u9b41\u7978\u9996\u662f\u4e0d\u662f\u5b88\u62a4\u8fdb\u7a0b\u5f88\u6709\u5e2e\u52a9.","title":"\u5b88\u62a4\u8fdb\u7a0b\u4f55\u65f6\u4f1a\u51fa\u9519"},{"location":"gradle/#gradle_5","text":"\u5efa\u8bae\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u4f7f\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b,\u4e0d\u5efa\u8bae\u5728\u6301\u7eed\u96c6\u6210\u73af\u5883\u548c\u6784\u5efa\u670d\u52a1\u5668\u73af\u5883\u4e2d\u4f7f\u7528\u5b88\u62a4\u8fdb\u7a0b. \u5b88\u62a4\u8fdb\u7a0b\u53ef\u4ee5\u66f4\u5feb\u7684\u6784\u5efa,\u8fd9\u5bf9\u4e8e\u4e00\u4e2a\u6b63\u5750\u5728\u6905\u5b50\u524d\u6784\u5efa\u9879\u76ee\u7684\u4eba\u6765\u8bf4\u975e\u5e38\u91cd\u8981.\u5bf9\u4e8eCI\u6784\u5efa\u6765\u8bf4,\u7a33\u5b9a\u6027\u548c\u53ef\u9884\u89c1\u6027\u662f\u6700\u91cd\u8981\u7684.\u4e3a\u6bcf\u4e2a\u6784\u5efa\u8fd0\u884c\u65f6\u7528\u4e00\u4e2a\u65b0\u7684,\u5b8c\u5168\u5b64\u7acb\u4e8e\u4ee5\u524d\u7684\u7248\u672c\u7684\u7a0b\u5e8f,\u66f4\u52a0\u53ef\u9760\u3002","title":"\u4ec0\u4e48\u65f6\u5019\u4e0d\u4f7f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/#-","text":"","title":"-    \u8bed\u6cd5"},{"location":"gradle/#-_1","text":"","title":"-    \u8bed\u6cd5"},{"location":"gradle/#_6","text":"","title":"\u8bed\u6cd5"},{"location":"gradle/#_7","text":"","title":"\u8bed\u6cd5"},{"location":"gradle/1-java-app/","text":"\u6784\u5efaJava \u5e94\u7528\u7a0b\u5e8f Gradle \u6982\u5ff5 Projects \u548c tasks Gradle \u91cc\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u662f\u57fa\u4e8e\u8fd9\u4e24\u4e2a\u57fa\u7840\u6982\u5ff5: projects ( \u9879\u76ee ) tasks ( \u4efb\u52a1 ) \u6bcf\u4e00\u4e2a\u6784\u5efa\u90fd\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a projects \u6784\u6210\u7684. \u4e00\u4e2a project \u5230\u5e95\u4ee3\u8868\u4ec0\u4e48\u53d6\u51b3\u4e8e\u4f60\u60f3\u7528 Gradle \u505a\u4ec0\u4e48. \u4e3e\u4e2a\u4f8b\u5b50, \u4e00\u4e2a project \u53ef\u4ee5\u4ee3\u8868\u4e00\u4e2a JAR \u6216\u8005\u4e00\u4e2a\u7f51\u9875\u5e94\u7528. \u5b83\u4e5f\u53ef\u80fd\u4ee3\u8868\u4e00\u4e2a\u53d1\u5e03\u7684 ZIP \u538b\u7f29\u5305, \u8fd9\u4e2a ZIP \u53ef\u80fd\u662f\u7531\u8bb8\u591a\u5176\u4ed6\u9879\u76ee\u7684 JARs \u6784\u6210\u7684. \u4f46\u662f\u4e00\u4e2a project \u4e0d\u4e00\u5b9a\u975e\u8981\u4ee3\u8868\u88ab\u6784\u5efa\u7684\u67d0\u4e2a\u4e1c\u897f. \u5b83\u53ef\u4ee5\u4ee3\u8868\u4e00\u4ef6**\u8981\u505a\u7684\u4e8b, \u6bd4\u5982\u90e8\u7f72\u4f60\u7684\u5e94\u7528. \u4e0d\u8981\u62c5\u5fc3\u73b0\u5728\u770b\u4e0d\u61c2\u8fd9\u4e9b\u8bf4\u660e. Gradle \u7684\u5408\u7ea6\u6784\u5efa\u53ef\u4ee5\u8ba9\u4f60\u6765\u5177\u4f53\u5b9a\u4e49\u4e00\u4e2a project \u5230\u5e95\u8be5\u505a\u4ec0\u4e48. \u6bcf\u4e00\u4e2a project \u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a tasks \u6784\u6210\u7684. \u4e00\u4e2a task \u4ee3\u8868\u4e00\u4e9b\u66f4\u52a0\u7ec6\u5316\u7684\u6784\u5efa. \u53ef\u80fd\u662f\u7f16\u8bd1\u4e00\u4e9b classes, \u521b\u5efa\u4e00\u4e2a JAR, \u751f\u6210 javadoc, \u6216\u8005\u751f\u6210\u67d0\u4e2a\u76ee\u5f55\u7684\u538b\u7f29\u6587\u4ef6. \u76ee\u524d, \u6211\u4eec\u5148\u6765\u770b\u770b\u5b9a\u4e49\u6784\u5efa\u91cc\u7684\u4e00\u4e9b\u7b80\u5355\u7684 task. \u4ee5\u540e\u7684\u7ae0\u8282\u4f1a\u8bb2\u89e3\u591a\u9879\u76ee\u6784\u5efa\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 projects \u548c tasks \u5de5\u4f5c. Gradle \u7684\u5b88\u62a4\u8fdb\u7a0b Gradle \u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u4e2a\u540e\u53f0\u8fdb\u7a0b, \u5b83\u8fd0\u884c\u7740\u7e41\u91cd\u7684\u6784\u5efa, \u7136\u540e\u5728\u6784\u5efa\u7b49\u5f85\u4e0b\u4e00\u6b21\u6784\u5efa\u7684\u4e4b\u95f4\u4fdd\u6301\u81ea\u8eab\u5b58\u5728. \u8fd9\u4f7f\u5f97\u6570\u636e\u548c\u4ee3\u7801\u5728\u4e0b\u4e00\u6b21\u6784\u5efa\u524d\u5df2\u7ecf\u51c6\u5907\u597d,\u5e76\u5b58\u5165\u5185\u5b58\u4e2d. \u8fd9\u663e\u8457\u7684\u63d0\u9ad8\u4e86\u540e\u7eed\u6784\u5efa\u7684\u6027\u80fd. \u542f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u8282\u7ea6\u6784\u5efa\u65f6\u95f4\u7684\u5ec9\u4ef7\u65b9\u5f0f. \u5f3a\u70c8\u5efa\u8bae\u5728\u6240\u6709\u5f00\u53d1\u673a\u5668\u4e0a\u542f\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b.\u4f46\u662f\u4e0d\u63a8\u8350\u5728\u6301\u7eed\u96c6\u6210\u548c\u6784\u5efa\u670d\u52a1\u5668\u73af\u5883\u4e0b\u542f\u7528\u5b88\u62a4\u8fdb\u7a0b","title":"\u6784\u5efaJava \u5e94\u7528\u7a0b\u5e8f"},{"location":"gradle/1-java-app/#java","text":"","title":"\u6784\u5efaJava \u5e94\u7528\u7a0b\u5e8f"},{"location":"gradle/1-java-app/#gradle","text":"","title":"Gradle \u6982\u5ff5"},{"location":"gradle/1-java-app/#projects-tasks","text":"Gradle \u91cc\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u662f\u57fa\u4e8e\u8fd9\u4e24\u4e2a\u57fa\u7840\u6982\u5ff5: projects ( \u9879\u76ee ) tasks ( \u4efb\u52a1 ) \u6bcf\u4e00\u4e2a\u6784\u5efa\u90fd\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a projects \u6784\u6210\u7684. \u4e00\u4e2a project \u5230\u5e95\u4ee3\u8868\u4ec0\u4e48\u53d6\u51b3\u4e8e\u4f60\u60f3\u7528 Gradle \u505a\u4ec0\u4e48. \u4e3e\u4e2a\u4f8b\u5b50, \u4e00\u4e2a project \u53ef\u4ee5\u4ee3\u8868\u4e00\u4e2a JAR \u6216\u8005\u4e00\u4e2a\u7f51\u9875\u5e94\u7528. \u5b83\u4e5f\u53ef\u80fd\u4ee3\u8868\u4e00\u4e2a\u53d1\u5e03\u7684 ZIP \u538b\u7f29\u5305, \u8fd9\u4e2a ZIP \u53ef\u80fd\u662f\u7531\u8bb8\u591a\u5176\u4ed6\u9879\u76ee\u7684 JARs \u6784\u6210\u7684. \u4f46\u662f\u4e00\u4e2a project \u4e0d\u4e00\u5b9a\u975e\u8981\u4ee3\u8868\u88ab\u6784\u5efa\u7684\u67d0\u4e2a\u4e1c\u897f. \u5b83\u53ef\u4ee5\u4ee3\u8868\u4e00\u4ef6**\u8981\u505a\u7684\u4e8b, \u6bd4\u5982\u90e8\u7f72\u4f60\u7684\u5e94\u7528. \u4e0d\u8981\u62c5\u5fc3\u73b0\u5728\u770b\u4e0d\u61c2\u8fd9\u4e9b\u8bf4\u660e. Gradle \u7684\u5408\u7ea6\u6784\u5efa\u53ef\u4ee5\u8ba9\u4f60\u6765\u5177\u4f53\u5b9a\u4e49\u4e00\u4e2a project \u5230\u5e95\u8be5\u505a\u4ec0\u4e48. \u6bcf\u4e00\u4e2a project \u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a tasks \u6784\u6210\u7684. \u4e00\u4e2a task \u4ee3\u8868\u4e00\u4e9b\u66f4\u52a0\u7ec6\u5316\u7684\u6784\u5efa. \u53ef\u80fd\u662f\u7f16\u8bd1\u4e00\u4e9b classes, \u521b\u5efa\u4e00\u4e2a JAR, \u751f\u6210 javadoc, \u6216\u8005\u751f\u6210\u67d0\u4e2a\u76ee\u5f55\u7684\u538b\u7f29\u6587\u4ef6. \u76ee\u524d, \u6211\u4eec\u5148\u6765\u770b\u770b\u5b9a\u4e49\u6784\u5efa\u91cc\u7684\u4e00\u4e9b\u7b80\u5355\u7684 task. \u4ee5\u540e\u7684\u7ae0\u8282\u4f1a\u8bb2\u89e3\u591a\u9879\u76ee\u6784\u5efa\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 projects \u548c tasks \u5de5\u4f5c.","title":"Projects \u548c tasks"},{"location":"gradle/1-java-app/#gradle_1","text":"Gradle \u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u4e2a\u540e\u53f0\u8fdb\u7a0b, \u5b83\u8fd0\u884c\u7740\u7e41\u91cd\u7684\u6784\u5efa, \u7136\u540e\u5728\u6784\u5efa\u7b49\u5f85\u4e0b\u4e00\u6b21\u6784\u5efa\u7684\u4e4b\u95f4\u4fdd\u6301\u81ea\u8eab\u5b58\u5728. \u8fd9\u4f7f\u5f97\u6570\u636e\u548c\u4ee3\u7801\u5728\u4e0b\u4e00\u6b21\u6784\u5efa\u524d\u5df2\u7ecf\u51c6\u5907\u597d,\u5e76\u5b58\u5165\u5185\u5b58\u4e2d. \u8fd9\u663e\u8457\u7684\u63d0\u9ad8\u4e86\u540e\u7eed\u6784\u5efa\u7684\u6027\u80fd. \u542f\u7528Gradle\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u8282\u7ea6\u6784\u5efa\u65f6\u95f4\u7684\u5ec9\u4ef7\u65b9\u5f0f. \u5f3a\u70c8\u5efa\u8bae\u5728\u6240\u6709\u5f00\u53d1\u673a\u5668\u4e0a\u542f\u7528Gradle\u7684\u5b88\u62a4\u8fdb\u7a0b.\u4f46\u662f\u4e0d\u63a8\u8350\u5728\u6301\u7eed\u96c6\u6210\u548c\u6784\u5efa\u670d\u52a1\u5668\u73af\u5883\u4e0b\u542f\u7528\u5b88\u62a4\u8fdb\u7a0b","title":"Gradle \u7684\u5b88\u62a4\u8fdb\u7a0b"},{"location":"gradle/2-java-web/","text":"\u6784\u5efaJava Web\u5e94\u7528\u7a0b\u5e8f \u642d\u5efaWeb\u5e94\u7528\u7a0b\u5e8f\u7684\u76ee\u5f55\u7ed3\u6784 Gradle\u5305\u542b\u4e00\u4e2awar\u63d2\u4ef6\uff0c\u5728\u7528\u6237\u624b\u518c\u7684WAR\u63d2\u4ef6\u4e00\u7ae0\u4e2d\u8fdb\u884c\u4e86\u4ecb\u7ecd\u3002 war\u63d2\u4ef6\u6269\u5c55\u4e86Java\u63d2\u4ef6\uff0c\u4ee5\u6dfb\u52a0\u5bf9Web\u5e94\u7528\u7a0b\u5e8f\u7684\u652f\u6301\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4f7f\u7528\u4e00\u4e2a\u540d\u4e3asrc/main/webapp\u7684\u6587\u4ef6\u5939\u6765\u83b7\u53d6\u4e0eWeb\u76f8\u5173\u7684\u8d44\u6e90\u3002 \u56e0\u6b64\uff0c\u4e3a\u540d\u4e3awebdemo\u7684\u9879\u76ee\u521b\u5efa\u4ee5\u4e0b\u6587\u4ef6\u7ed3\u6784\uff1a webdemo/ src/ main/ java/ webapp/ test java/ \u4efb\u4f55servlet\u6216\u5176\u4ed6Java\u7c7b\u90fd\u5c06\u653e\u5728src/main/java\u4e2d\uff0c\u6d4b\u8bd5\u5c06\u8fdb\u5165src/test/java\uff0c\u5176\u4ed6Web\u5de5\u4ef6\u5c06\u8fdb\u5165src/main/webapp\u3002 Add a Gradle build file \u5c06\u540d\u4e3abuild.gradle\uff08\u5982\u679c\u4f7f\u7528Groovy DSL\uff09\u6216build.gradle.kts\uff08\u5982\u679c\u4f7f\u7528Kotlin DSL\uff09\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a plugins { id 'war' // Using the war plugin } repositories { jcenter() } dependencies { providedCompile 'javax.servlet:javax.servlet-api:3.1.0' // Current release version of the servlet API testCompile 'junit:junit:4.12' } war\u63d2\u4ef6\u6dfb\u52a0\u4e86\u7c7b\u4f3c\u4e8e\u5e38\u89c4Java\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684compile\u548cruntime\u7684\u914d\u7f6eproviderCompile\u548cproviderRuntime\uff0c\u4ee5\u8868\u793a\u672c\u5730\u6240\u9700\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f46\u4e0d\u5e94\u5c06\u5176\u6dfb\u52a0\u5230\u751f\u6210\u7684webdemo.war\u6587\u4ef6\u4e2d\u3002 \u63d2\u4ef6\u8bed\u6cd5\u7528\u4e8e\u5e94\u7528java\u548cwar\u63d2\u4ef6\u3002 \u4e24\u8005\u90fd\u4e0d\u9700\u8981\u7248\u672c\uff0c\u56e0\u4e3a\u5b83\u4eec\u5305\u542b\u5728Gradle\u53d1\u884c\u7248\u4e2d\u3002 \u901a\u8fc7\u6267\u884c\u5305\u88c5\u5668\u4efb\u52a1\u4e3a\u9879\u76ee\u751f\u6210Gradle\u5305\u88c5\u5668\u662f\u4e00\u4e2a\u597d\u4e60\u60ef\uff1a $ gradle wrapper --gradle-version=4.10.3 :wrapper \u5982\u7528\u6237\u624b\u518c\u7684\u5305\u88c5\u90e8\u5206\u6240\u8ff0\uff0c\u8fd9\u5c06\u751f\u6210gradlew\u548cgradlew.bat\u811a\u672c\u4ee5\u53ca\u5185\u90e8\u88c5\u6709\u5305\u88c5\u7f50\u7684gradle\u6587\u4ef6\u5939\u3002 \u5411\u9879\u76ee\u6dfb\u52a0Servlet\u548c\u5143\u6570\u636e \u5b9a\u4e49Web\u5e94\u7528\u7a0b\u5e8f\u5143\u6570\u636e\u6709\u4e24\u4e2a\u9009\u9879\u3002 \u5728Servlet\u89c4\u8303\u76843.0\u7248\u4e4b\u524d\uff0c\u5143\u6570\u636e\u9a7b\u7559\u5728\u9879\u76ee\u7684WEB-INF\u6587\u4ef6\u5939\u4e2d\u7684\u90e8\u7f72\u63cf\u8ff0\u7b26\u4e2d\uff0c\u79f0\u4e3aweb.xml\u3002 \u4ece3.0\u5f00\u59cb\uff0c\u53ef\u4ee5\u4f7f\u7528\u6ce8\u91ca\u5b9a\u4e49\u5143\u6570\u636e\u3002 \u5728src / main / java\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a\u8f6f\u4ef6\u5305\u6587\u4ef6\u5939org / gradle / demo\u3002 \u6dfb\u52a0\u4e00\u4e2a\u5177\u6709\u4ee5\u4e0b\u5185\u5bb9\u7684servlet\u6587\u4ef6HelloServlet.java\uff1a package org.gradle.demo; import java.io.IOException; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; @WebServlet(name = \"HelloServlet\", urlPatterns = {\"hello\"}, loadOnStartup = 1) // Annotation-based servlet public class HelloServlet extends HttpServlet { protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { response.getWriter().print(\"Hello, World!\"); //GET request returns a simple string } protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String name = request.getParameter(\"name\"); if (name == null) name = \"World\"; request.setAttribute(\"user\", name); request.getRequestDispatcher(\"response.jsp\").forward(request, response); //POST request forwards to a JSP page } } Servlet\u4f7f\u7528@WebServlet\u6279\u6ce8\u8fdb\u884c\u914d\u7f6e\u3002 doGet\u65b9\u6cd5\u901a\u8fc7\u7f16\u5199\u201c Hello\uff0cWorld\uff01\u201d\u6765\u54cd\u5e94HTTP GET\u8bf7\u6c42\u3002 \u5b57\u7b26\u4e32\u8f93\u51fa\u8f93\u51fa\u3002 \u5b83\u901a\u8fc7\u67e5\u627e\u540d\u4e3aname\u7684\u8bf7\u6c42\u53c2\u6570\u5e76\u5c06\u5176\u4f5c\u4e3a\u540d\u4e3auser\u7684\u5c5e\u6027\u6dfb\u52a0\u5230\u8bf7\u6c42\u4e2d\uff0c\u7136\u540e\u8f6c\u53d1\u5230response.jsp\u9875\u9762\u6765\u5bf9HTTP POST\u8bf7\u6c42\u505a\u51fa\u53cd\u5e94\u3002 \u73b0\u5728\uff0c\u60a8\u6709\u4e86\u4e00\u4e2a\u7b80\u5355\u7684servlet\uff0c\u5b83\u53ef\u4ee5\u54cd\u5e94HTTP GET\u548cPOST\u8bf7\u6c42\u3002 \u5c06JSP\u9875\u9762\u6dfb\u52a0\u5230\u6f14\u793a\u5e94\u7528\u7a0b\u5e8f \u901a\u8fc7\u5728src / main / webapp\u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u6587\u4ef6index.html\uff0c\u5c06\u7d22\u5f15\u9875\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u76ee\u5f55\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a <html> <head> <title>Web Demo</title> </head> <body> <p>Say <a href=\"hello\">Hello</a></p> <!-- Link submits GET request --> <form method=\"post\" action=\"hello\"> <!-- Form uses POST request --> <h2>Name:</h2> <input type=\"text\" id=\"say-hello-text-input\" name=\"name\" /> <input type=\"submit\" id=\"say-hello-button\" value=\"Say Hello\" /> </form> </body> </html> index.html\u9875\u9762\u4f7f\u7528\u4e00\u4e2a\u94fe\u63a5\u5411Servlet\u63d0\u4ea4HTTP GET\u8bf7\u6c42\uff0c\u5e76\u4f7f\u7528\u4e00\u4e2a\u8868\u5355\u63d0\u4ea4HTTP POST\u8bf7\u6c42\u3002 \u8be5\u8868\u5355\u5305\u542b\u4e00\u4e2a\u540d\u4e3aname\u7684\u6587\u672c\u5b57\u6bb5\uff0c\u8be5servlet\u53ef\u4ee5\u901a\u8fc7\u5176doPost\u65b9\u6cd5\u8bbf\u95ee\u8be5\u6587\u672c\u5b57\u6bb5\u3002 servlet\u5728\u5176doPost\u65b9\u6cd5\u4e2d\u5c06\u63a7\u5236\u6743\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2aJSP\u9875\u9762\uff0c\u8be5\u9875\u9762\u79f0\u4e3aresponse.jsp\u3002 \u56e0\u6b64\uff0c\u8bf7\u5728src / main / webapp\u4e2d\u5b9a\u4e49\u5177\u6709\u4ee5\u4e0b\u540d\u79f0\u7684\u6587\u4ef6\uff1a <%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %> <html> <head> <title>Hello Page</title> </head> <body> <h2>Hello, ${user}!</h2> </body> </html> \u54cd\u5e94\u9875\u9762\u4ece\u8bf7\u6c42\u4e2d\u8bbf\u95ee\u7528\u6237\u53d8\u91cf\uff0c\u5e76\u5c06\u5176\u5448\u73b0\u5728h2\u6807\u7b7e\u5185\u3002 \u6dfb\u52a0gretty\u63d2\u4ef6\u5e76\u8fd0\u884c\u5e94\u7528 gretty\u63d2\u4ef6\u662f\u793e\u533a\u652f\u6301\u7684\u6770\u51fa\u63d2\u4ef6\uff0c\u53ef\u4ee5\u5728Gradle\u63d2\u4ef6\u5b58\u50a8\u5e93\u4e2d\u627e\u5230\uff0c\u7f51\u5740\u4e3ahttps://plugins.gradle.org/plugin/org.akhikhl.gretty\u3002 \u8be5\u63d2\u4ef6\u4f7f\u5728Jetty\u6216Tomcat\u4e0a\u8fd0\u884c\u6216\u6d4b\u8bd5Web\u5e94\u7528\u7a0b\u5e8f\u53d8\u5f97\u5bb9\u6613\u3002 \u901a\u8fc7\u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u6784\u5efa\u811a\u672c\u5185\u7684plugins\u5757\u4e2d\uff0c\u5c06\u5176\u6dfb\u52a0\u5230\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u3002 plugins { id 'war' id 'org.gretty' version '2.2.0' // Adding the gretty plugin } gretty\u63d2\u4ef6\u5411\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u4e86\u5927\u91cf\u4efb\u52a1\uff0c\u5bf9\u4e8e\u5728Jetty\u6216Tomcat\u73af\u5883\u4e2d\u8fd0\u884c\u6216\u6d4b\u8bd5\u5f88\u6709\u7528\u3002 \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528appRun\u4efb\u52a1\u5c06\u5e94\u7528\u6784\u5efa\u5e76\u90e8\u7f72\u5230\u9ed8\u8ba4\uff08Jetty\uff09\u5bb9\u5668\u3002 \u6267\u884cappRun\u4efb\u52a1 $ ./gradlew appRun :prepareInplaceWebAppFolder :createInplaceWebAppFolder UP-TO-DATE :compileJava :processResources UP-TO-DATE :classes :prepareInplaceWebAppClasses :prepareInplaceWebApp :appRun 12:25:13 INFO Jetty 9.2.15.v20160210 started and listening on port 8080 12:25:13 INFO webdemo runs at: 12:25:13 INFO http://localhost:8080/webdemo Press any key to stop the server. > Building 87% > :appRun BUILD SUCCESSFUL \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u5728http\uff1a// localhost\uff1a8080 / webdemo\u4e0a\u8bbf\u95ee\u8be5Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u5355\u51fb\u94fe\u63a5\u4ee5\u6267\u884cGET\u8bf7\u6c42\u6216\u63d0\u4ea4\u8868\u5355\u4ee5\u6267\u884cPOST\u8bf7\u6c42\u3002 \u5c3d\u7ba1\u8f93\u51fa\u663e\u793a\u6309\u4efb\u610f\u952e\u505c\u6b62\u670d\u52a1\u5668\uff0c\u4f46Gradle\u4e0d\u4f1a\u62e6\u622a\u6807\u51c6\u8f93\u5165\u3002 \u8981\u505c\u6b62\u8be5\u8fc7\u7a0b\uff0c\u8bf7\u6309ctrl-C\u3002 \u4f7f\u7528Mockito\u5bf9Servlet\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5 \u5f00\u6e90Mockito\u6846\u67b6\u4f7f\u5bf9Java\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u53d8\u5f97\u5bb9\u6613\u3002 \u5c06Mockito\u4f9d\u8d56\u9879\u6dfb\u52a0\u5230testCompile\u914d\u7f6e\u4e0b\u7684\u6784\u5efa\u811a\u672c\u3002 dependencies { providedCompile 'javax.servlet:javax.servlet-api:3.1.0' testCompile 'junit:junit:4.12' testCompile 'org.mockito:mockito-core:2.7.19' // Adding Mockito } \u8981\u5bf9Servlet\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8bf7\u5728src / test / java\u4e0b\u521b\u5efa\u4e00\u4e2a\u8f6f\u4ef6\u5305\u6587\u4ef6\u5939org.gradle.demo\u3002 \u6dfb\u52a0\u5177\u6709\u4ee5\u4e0b\u5185\u5bb9\u7684\u6d4b\u8bd5\u7c7b\u6587\u4ef6HelloServletTest.java\uff1a package org.gradle.demo; import org.junit.Before; import org.junit.Test; import org.mockito.Mock; import org.mockito.MockitoAnnotations; import javax.servlet.RequestDispatcher; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.PrintWriter; import java.io.StringWriter; import static org.junit.Assert.assertEquals; import static org.mockito.Mockito.*; public class HelloServletTest { @Mock private HttpServletRequest request; @Mock private HttpServletResponse response; @Mock private RequestDispatcher requestDispatcher; @Before public void setUp() throws Exception { MockitoAnnotations.initMocks(this); } @Test public void doGet() throws Exception { StringWriter stringWriter = new StringWriter(); PrintWriter printWriter = new PrintWriter(stringWriter); when(response.getWriter()).thenReturn(printWriter); new HelloServlet().doGet(request, response); assertEquals(\"Hello, World!\", stringWriter.toString()); } @Test public void doPostWithoutName() throws Exception { when(request.getRequestDispatcher(\"response.jsp\")) .thenReturn(requestDispatcher); new HelloServlet().doPost(request, response); verify(request).setAttribute(\"user\", \"World\"); verify(requestDispatcher).forward(request,response); } @Test public void doPostWithName() throws Exception { when(request.getParameter(\"name\")).thenReturn(\"Dolly\"); when(request.getRequestDispatcher(\"response.jsp\")) .thenReturn(requestDispatcher); new HelloServlet().doPost(request, response); verify(request).setAttribute(\"user\", \"Dolly\"); verify(requestDispatcher).forward(request,response); } } \u8be5\u6d4b\u8bd5\u5c06\u4e3aHttpServletRequest\uff0cHttpServletResponse\u548cRequestDispatcher\u7c7b\u521b\u5efa\u6a21\u62df\u5bf9\u8c61\u3002 \u5bf9\u4e8edoGet\u6d4b\u8bd5\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u4f7f\u7528StringWriter\u7684PrintWriter\uff0c\u5e76\u4e14\u5c06\u6a21\u62df\u8bf7\u6c42\u5bf9\u8c61\u914d\u7f6e\u4e3a\u5728\u8c03\u7528getWriter\u65b9\u6cd5\u65f6\u5c06\u5176\u8fd4\u56de\u3002 \u8c03\u7528doGet\u65b9\u6cd5\u540e\uff0c\u6d4b\u8bd5\u5c06\u68c0\u67e5\u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u662f\u5426\u6b63\u786e\u3002 \u5bf9\u4e8e\u53d1\u5e03\u8bf7\u6c42\uff0c\u6a21\u62df\u8bf7\u6c42\u88ab\u914d\u7f6e\u4e3a\u8fd4\u56de\u7ed9\u5b9a\u540d\u79f0\uff08\u5982\u679c\u5b58\u5728\uff09\u6216\u8fd4\u56denull\uff0c\u5e76\u4e14getRequestDispatcher\u65b9\u6cd5\u8fd4\u56de\u5173\u8054\u7684\u6a21\u62df\u5bf9\u8c61\u3002 \u8c03\u7528doPost\u65b9\u6cd5\u5c06\u6267\u884c\u8bf7\u6c42\u3002 \u7136\u540eMockito\u9a8c\u8bc1\u662f\u5426\u4f7f\u7528\u9002\u5f53\u7684\u53c2\u6570\u5728\u6a21\u62df\u54cd\u5e94\u4e0a\u8c03\u7528\u4e86setAttribute\u65b9\u6cd5\uff0c\u5e76\u9a8c\u8bc1\u4e86\u5728\u8bf7\u6c42\u5206\u6d3e\u5668\u4e0a\u8c03\u7528\u4e86forward\u65b9\u6cd5\u3002 \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u5c06Gradle\u4e0e\u6d4b\u8bd5\u4efb\u52a1\uff08\u6216\u4f9d\u8d56\u4e8e\u5b83\u7684\u4efb\u4f55\u4efb\u52a1\uff0c\u4f8b\u5982build\uff09\u4e00\u8d77\u4f7f\u7528Gradle\u8fdb\u884c\u6d4b\u8bd5\u3002 $ ./gradlew build :compileJava UP-TO-DATE :processResources UP-TO-DATE :classes UP-TO-DATE :war :assemble :compileTestJava :processTestResources UP-TO-DATE :testClasses :test :check :build BUILD SUCCESSFUL \u53ef\u4ee5\u6309\u5e38\u89c4\u65b9\u5f0f\u4ecebuild / reports / tests / test / index.html\u8bbf\u95ee\u6d4b\u8bd5\u8f93\u51fa\u3002 \u60a8\u5e94\u8be5\u5f97\u5230\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u7ed3\u679c\uff1a \u6dfb\u52a0\u529f\u80fd\u6d4b\u8bd5 gretty\u63d2\u4ef6\u4e0eGradle\u7ed3\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u5411Web\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u529f\u80fd\u6d4b\u8bd5\u3002 \u8fd9\u6837\u505a\uff0c\u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u60a8\u7684\u751f\u6210\u811a\u672c\uff1a gretty { integrationTestTask = 'test' //Tell gretty to start and stop the server on test } // ... rest from before ... dependencies { providedCompile 'javax.servlet:javax.servlet-api:3.1.0' testCompile 'junit:junit:4.12' testCompile 'org.mockito:mockito-core:2.7.19' testCompile 'io.github.bonigarcia:webdrivermanager:1.6.1' //Automatically installs browser drivers testCompile 'org.seleniumhq.selenium:selenium-java:3.3.1' //Uses Selenium for functional tests } gretty\u63d2\u4ef6\u9700\u8981\u77e5\u9053\u54ea\u4e2a\u4efb\u52a1\u9700\u8981\u542f\u52a8\u548c\u505c\u6b62\u670d\u52a1\u5668\u3002 \u901a\u5e38\uff0c\u8fd9\u662f\u5206\u914d\u7ed9\u60a8\u81ea\u5df1\u7684\u4efb\u52a1\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u4f7f\u4e8b\u60c5\u7b80\u5355\uff0c\u53ea\u9700\u4f7f\u7528\u73b0\u6709\u7684\u6d4b\u8bd5\u4efb\u52a1\u5373\u53ef\u3002 Selenium\u662f\u7528\u4e8e\u7f16\u5199\u529f\u80fd\u6d4b\u8bd5\u7684\u6d41\u884c\u5f00\u6e90API\u3002 2.0\u7248\u57fa\u4e8eWebDriver API\u3002 \u6700\u65b0\u7248\u672c\u8981\u6c42\u6d4b\u8bd5\u4eba\u5458\u4e3a\u4ed6\u4eec\u7684\u6d4f\u89c8\u5668\u4e0b\u8f7d\u5e76\u5b89\u88c5WebDriver\u7248\u672c\uff0c\u8fd9\u5f88\u7e41\u7410\u4e14\u96be\u4ee5\u81ea\u52a8\u5316\u3002 WebDriverManager\u9879\u76ee\u4f7fGradle\u53ef\u4ee5\u8f7b\u677e\u5730\u4e3a\u60a8\u5904\u7406\u8be5\u8fc7\u7a0b\u3002 \u5728src / test / java\u76ee\u5f55\u4e2d\uff0c\u5c06\u4ee5\u4e0b\u529f\u80fd\u6d4b\u8bd5\u6dfb\u52a0\u5230\u60a8\u7684\u9879\u76ee\u4e2d\uff1a package org.gradle.demo; import io.github.bonigarcia.wdm.ChromeDriverManager; import org.junit.After; import org.junit.Before; import org.junit.BeforeClass; import org.junit.Test; import org.openqa.selenium.By; import org.openqa.selenium.WebDriver; import org.openqa.selenium.chrome.ChromeDriver; import static org.junit.Assert.assertEquals; public class HelloServletFunctionalTest { private WebDriver driver; @BeforeClass public static void setupClass() { ChromeDriverManager.getInstance().setup(); //Downloads and installs browser driver, if necessary } @Before public void setUp() { driver = new ChromeDriver(); //Start the browser automation } @After public void tearDown() { if (driver != null) driver.quit(); //Shut down the browser when done } @Test public void sayHello() throws Exception { //Run the functional test using the Selenium API driver.get(\"http://localhost:8080/webdemo\"); driver.findElement(By.id(\"say-hello-text-input\")).sendKeys(\"Dolly\"); driver.findElement(By.id(\"say-hello-button\")).click(); assertEquals(\"Hello Page\", driver.getTitle()); assertEquals(\"Hello, Dolly!\", driver.findElement(By.tagName(\"h2\")).getText()); } } \u6b64\u6d4b\u8bd5\u7684WebDriverManager\u90e8\u5206\u68c0\u67e5\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u6700\u65b0\u7248\u672c\uff0c\u5e76\u5728\u4e0d\u5b58\u5728\u8be5\u4e8c\u8fdb\u5236\u6587\u4ef6\u65f6\u4e0b\u8f7d\u5e76\u5b89\u88c5\u5b83\u3002 \u7136\u540e\uff0csayHello\u6d4b\u8bd5\u65b9\u6cd5\u5c06Chrome\u6d4f\u89c8\u5668\u9a71\u52a8\u5230\u6211\u4eec\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u76ee\u5f55\uff0c\u586b\u5199\u8f93\u5165\u6587\u672c\u5b57\u6bb5\uff0c\u5355\u51fb\u6309\u94ae\uff0c\u5e76\u9a8c\u8bc1\u76ee\u6807\u9875\u9762\u7684\u6807\u9898\uff0c\u5e76\u4e14h2\u6807\u7b7e\u5305\u542b\u9884\u671f\u7684\u5b57\u7b26\u4e32\u3002 WebDriverManager\u7cfb\u7edf\u652f\u6301Chrome\uff0cOpera\uff0cInternet Explorer\uff0cMicrosoft Edge\uff0cPhantomJS\u548cFirefox\u3002 \u67e5\u770b\u9879\u76ee\u6587\u6863\u4ee5\u83b7\u53d6\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002 \u8fd0\u884c\u529f\u80fd\u6d4b\u8bd5 \u4f7f\u7528\u6d4b\u8bd5\u4efb\u52a1\u8fd0\u884c\u6d4b\u8bd5\uff1a $ ./gradlew test :prepareInplaceWebAppFolder UP-TO-DATE :createInplaceWebAppFolder UP-TO-DATE :compileJava UP-TO-DATE :processResources UP-TO-DATE :classes UP-TO-DATE :prepareInplaceWebAppClasses UP-TO-DATE :prepareInplaceWebApp UP-TO-DATE :compileTestJava UP-TO-DATE :processTestResources UP-TO-DATE :testClasses UP-TO-DATE :appBeforeIntegrationTest 12:57:56 INFO Jetty 9.2.15.v20160210 started and listening on port 8080 12:57:56 INFO webdemo runs at: 12:57:56 INFO http://localhost:8080/webdemo :test :appAfterIntegrationTest Server stopped. BUILD SUCCESSFUL gretty\u63d2\u4ef6\u5728\u9ed8\u8ba4\u7aef\u53e3\u4e0a\u542f\u52a8Jetty 9\u7684\u5d4c\u5165\u5f0f\u7248\u672c\uff0c\u6267\u884c\u6d4b\u8bd5\uff0c\u7136\u540e\u5173\u95ed\u670d\u52a1\u5668\u3002 \u89c2\u770b\u65f6\uff0c\u60a8\u4f1a\u770b\u5230Selenium\u7cfb\u7edf\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\uff0c\u8bbf\u95ee\u8be5\u7f51\u7ad9\uff0c\u586b\u5199\u8868\u683c\uff0c\u5355\u51fb\u6309\u94ae\uff0c\u68c0\u67e5\u65b0\u9875\u9762\uff0c\u6700\u540e\u5173\u95ed\u6d4f\u89c8\u5668\u3002 \u96c6\u6210\u6d4b\u8bd5\u901a\u5e38\u901a\u8fc7\u521b\u5efa\u5355\u72ec\u7684\u6e90\u96c6\u548c\u4e13\u7528\u4efb\u52a1\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u8fd9\u8d85\u51fa\u4e86\u672c\u6307\u5357\u7684\u8303\u56f4\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1Gretty\u6587\u6863\u3002 \u6253\u5305\u53d1\u5e03 \u603b\u7ed3 \u5728\u672c\u6307\u5357\u4e2d\uff0c\u60a8\u5b66\u4e60\u4e86\u5982\u4f55\uff1a \u5728Gradle\u6784\u5efa\u4e2d\u4f7f\u7528war\u63d2\u4ef6\u6765\u5b9a\u4e49Web\u5e94\u7528\u7a0b\u5e8f \u5c06Servlet\u548cJSP\u9875\u9762\u6dfb\u52a0\u5230Web\u5e94\u7528\u7a0b\u5e8f \u4f7f\u7528gretty\u63d2\u4ef6\u6765\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f \u4f7f\u7528Mockito\u6846\u67b6\u5bf9Servlet\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5 \u4f7f\u7528gretty\u548cSelenium\u5bf9Web\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u529f\u80fd\u6d4b\u8bd5","title":"\u6784\u5efaJava Web\u5e94\u7528\u7a0b\u5e8f"},{"location":"gradle/2-java-web/#java-web","text":"","title":"\u6784\u5efaJava Web\u5e94\u7528\u7a0b\u5e8f"},{"location":"gradle/2-java-web/#web","text":"Gradle\u5305\u542b\u4e00\u4e2awar\u63d2\u4ef6\uff0c\u5728\u7528\u6237\u624b\u518c\u7684WAR\u63d2\u4ef6\u4e00\u7ae0\u4e2d\u8fdb\u884c\u4e86\u4ecb\u7ecd\u3002 war\u63d2\u4ef6\u6269\u5c55\u4e86Java\u63d2\u4ef6\uff0c\u4ee5\u6dfb\u52a0\u5bf9Web\u5e94\u7528\u7a0b\u5e8f\u7684\u652f\u6301\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4f7f\u7528\u4e00\u4e2a\u540d\u4e3asrc/main/webapp\u7684\u6587\u4ef6\u5939\u6765\u83b7\u53d6\u4e0eWeb\u76f8\u5173\u7684\u8d44\u6e90\u3002 \u56e0\u6b64\uff0c\u4e3a\u540d\u4e3awebdemo\u7684\u9879\u76ee\u521b\u5efa\u4ee5\u4e0b\u6587\u4ef6\u7ed3\u6784\uff1a webdemo/ src/ main/ java/ webapp/ test java/ \u4efb\u4f55servlet\u6216\u5176\u4ed6Java\u7c7b\u90fd\u5c06\u653e\u5728src/main/java\u4e2d\uff0c\u6d4b\u8bd5\u5c06\u8fdb\u5165src/test/java\uff0c\u5176\u4ed6Web\u5de5\u4ef6\u5c06\u8fdb\u5165src/main/webapp\u3002","title":"\u642d\u5efaWeb\u5e94\u7528\u7a0b\u5e8f\u7684\u76ee\u5f55\u7ed3\u6784"},{"location":"gradle/2-java-web/#add-a-gradle-build-file","text":"\u5c06\u540d\u4e3abuild.gradle\uff08\u5982\u679c\u4f7f\u7528Groovy DSL\uff09\u6216build.gradle.kts\uff08\u5982\u679c\u4f7f\u7528Kotlin DSL\uff09\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a plugins { id 'war' // Using the war plugin } repositories { jcenter() } dependencies { providedCompile 'javax.servlet:javax.servlet-api:3.1.0' // Current release version of the servlet API testCompile 'junit:junit:4.12' } war\u63d2\u4ef6\u6dfb\u52a0\u4e86\u7c7b\u4f3c\u4e8e\u5e38\u89c4Java\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684compile\u548cruntime\u7684\u914d\u7f6eproviderCompile\u548cproviderRuntime\uff0c\u4ee5\u8868\u793a\u672c\u5730\u6240\u9700\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f46\u4e0d\u5e94\u5c06\u5176\u6dfb\u52a0\u5230\u751f\u6210\u7684webdemo.war\u6587\u4ef6\u4e2d\u3002 \u63d2\u4ef6\u8bed\u6cd5\u7528\u4e8e\u5e94\u7528java\u548cwar\u63d2\u4ef6\u3002 \u4e24\u8005\u90fd\u4e0d\u9700\u8981\u7248\u672c\uff0c\u56e0\u4e3a\u5b83\u4eec\u5305\u542b\u5728Gradle\u53d1\u884c\u7248\u4e2d\u3002 \u901a\u8fc7\u6267\u884c\u5305\u88c5\u5668\u4efb\u52a1\u4e3a\u9879\u76ee\u751f\u6210Gradle\u5305\u88c5\u5668\u662f\u4e00\u4e2a\u597d\u4e60\u60ef\uff1a $ gradle wrapper --gradle-version=4.10.3 :wrapper \u5982\u7528\u6237\u624b\u518c\u7684\u5305\u88c5\u90e8\u5206\u6240\u8ff0\uff0c\u8fd9\u5c06\u751f\u6210gradlew\u548cgradlew.bat\u811a\u672c\u4ee5\u53ca\u5185\u90e8\u88c5\u6709\u5305\u88c5\u7f50\u7684gradle\u6587\u4ef6\u5939\u3002","title":"Add a Gradle build file"},{"location":"gradle/2-java-web/#servlet","text":"\u5b9a\u4e49Web\u5e94\u7528\u7a0b\u5e8f\u5143\u6570\u636e\u6709\u4e24\u4e2a\u9009\u9879\u3002 \u5728Servlet\u89c4\u8303\u76843.0\u7248\u4e4b\u524d\uff0c\u5143\u6570\u636e\u9a7b\u7559\u5728\u9879\u76ee\u7684WEB-INF\u6587\u4ef6\u5939\u4e2d\u7684\u90e8\u7f72\u63cf\u8ff0\u7b26\u4e2d\uff0c\u79f0\u4e3aweb.xml\u3002 \u4ece3.0\u5f00\u59cb\uff0c\u53ef\u4ee5\u4f7f\u7528\u6ce8\u91ca\u5b9a\u4e49\u5143\u6570\u636e\u3002 \u5728src / main / java\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a\u8f6f\u4ef6\u5305\u6587\u4ef6\u5939org / gradle / demo\u3002 \u6dfb\u52a0\u4e00\u4e2a\u5177\u6709\u4ee5\u4e0b\u5185\u5bb9\u7684servlet\u6587\u4ef6HelloServlet.java\uff1a package org.gradle.demo; import java.io.IOException; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; @WebServlet(name = \"HelloServlet\", urlPatterns = {\"hello\"}, loadOnStartup = 1) // Annotation-based servlet public class HelloServlet extends HttpServlet { protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { response.getWriter().print(\"Hello, World!\"); //GET request returns a simple string } protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String name = request.getParameter(\"name\"); if (name == null) name = \"World\"; request.setAttribute(\"user\", name); request.getRequestDispatcher(\"response.jsp\").forward(request, response); //POST request forwards to a JSP page } } Servlet\u4f7f\u7528@WebServlet\u6279\u6ce8\u8fdb\u884c\u914d\u7f6e\u3002 doGet\u65b9\u6cd5\u901a\u8fc7\u7f16\u5199\u201c Hello\uff0cWorld\uff01\u201d\u6765\u54cd\u5e94HTTP GET\u8bf7\u6c42\u3002 \u5b57\u7b26\u4e32\u8f93\u51fa\u8f93\u51fa\u3002 \u5b83\u901a\u8fc7\u67e5\u627e\u540d\u4e3aname\u7684\u8bf7\u6c42\u53c2\u6570\u5e76\u5c06\u5176\u4f5c\u4e3a\u540d\u4e3auser\u7684\u5c5e\u6027\u6dfb\u52a0\u5230\u8bf7\u6c42\u4e2d\uff0c\u7136\u540e\u8f6c\u53d1\u5230response.jsp\u9875\u9762\u6765\u5bf9HTTP POST\u8bf7\u6c42\u505a\u51fa\u53cd\u5e94\u3002 \u73b0\u5728\uff0c\u60a8\u6709\u4e86\u4e00\u4e2a\u7b80\u5355\u7684servlet\uff0c\u5b83\u53ef\u4ee5\u54cd\u5e94HTTP GET\u548cPOST\u8bf7\u6c42\u3002","title":"\u5411\u9879\u76ee\u6dfb\u52a0Servlet\u548c\u5143\u6570\u636e"},{"location":"gradle/2-java-web/#jsp","text":"\u901a\u8fc7\u5728src / main / webapp\u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u6587\u4ef6index.html\uff0c\u5c06\u7d22\u5f15\u9875\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u76ee\u5f55\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a <html> <head> <title>Web Demo</title> </head> <body> <p>Say <a href=\"hello\">Hello</a></p> <!-- Link submits GET request --> <form method=\"post\" action=\"hello\"> <!-- Form uses POST request --> <h2>Name:</h2> <input type=\"text\" id=\"say-hello-text-input\" name=\"name\" /> <input type=\"submit\" id=\"say-hello-button\" value=\"Say Hello\" /> </form> </body> </html> index.html\u9875\u9762\u4f7f\u7528\u4e00\u4e2a\u94fe\u63a5\u5411Servlet\u63d0\u4ea4HTTP GET\u8bf7\u6c42\uff0c\u5e76\u4f7f\u7528\u4e00\u4e2a\u8868\u5355\u63d0\u4ea4HTTP POST\u8bf7\u6c42\u3002 \u8be5\u8868\u5355\u5305\u542b\u4e00\u4e2a\u540d\u4e3aname\u7684\u6587\u672c\u5b57\u6bb5\uff0c\u8be5servlet\u53ef\u4ee5\u901a\u8fc7\u5176doPost\u65b9\u6cd5\u8bbf\u95ee\u8be5\u6587\u672c\u5b57\u6bb5\u3002 servlet\u5728\u5176doPost\u65b9\u6cd5\u4e2d\u5c06\u63a7\u5236\u6743\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2aJSP\u9875\u9762\uff0c\u8be5\u9875\u9762\u79f0\u4e3aresponse.jsp\u3002 \u56e0\u6b64\uff0c\u8bf7\u5728src / main / webapp\u4e2d\u5b9a\u4e49\u5177\u6709\u4ee5\u4e0b\u540d\u79f0\u7684\u6587\u4ef6\uff1a <%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %> <html> <head> <title>Hello Page</title> </head> <body> <h2>Hello, ${user}!</h2> </body> </html> \u54cd\u5e94\u9875\u9762\u4ece\u8bf7\u6c42\u4e2d\u8bbf\u95ee\u7528\u6237\u53d8\u91cf\uff0c\u5e76\u5c06\u5176\u5448\u73b0\u5728h2\u6807\u7b7e\u5185\u3002","title":"\u5c06JSP\u9875\u9762\u6dfb\u52a0\u5230\u6f14\u793a\u5e94\u7528\u7a0b\u5e8f"},{"location":"gradle/2-java-web/#gretty","text":"gretty\u63d2\u4ef6\u662f\u793e\u533a\u652f\u6301\u7684\u6770\u51fa\u63d2\u4ef6\uff0c\u53ef\u4ee5\u5728Gradle\u63d2\u4ef6\u5b58\u50a8\u5e93\u4e2d\u627e\u5230\uff0c\u7f51\u5740\u4e3ahttps://plugins.gradle.org/plugin/org.akhikhl.gretty\u3002 \u8be5\u63d2\u4ef6\u4f7f\u5728Jetty\u6216Tomcat\u4e0a\u8fd0\u884c\u6216\u6d4b\u8bd5Web\u5e94\u7528\u7a0b\u5e8f\u53d8\u5f97\u5bb9\u6613\u3002 \u901a\u8fc7\u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u6784\u5efa\u811a\u672c\u5185\u7684plugins\u5757\u4e2d\uff0c\u5c06\u5176\u6dfb\u52a0\u5230\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u3002 plugins { id 'war' id 'org.gretty' version '2.2.0' // Adding the gretty plugin } gretty\u63d2\u4ef6\u5411\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u4e86\u5927\u91cf\u4efb\u52a1\uff0c\u5bf9\u4e8e\u5728Jetty\u6216Tomcat\u73af\u5883\u4e2d\u8fd0\u884c\u6216\u6d4b\u8bd5\u5f88\u6709\u7528\u3002 \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528appRun\u4efb\u52a1\u5c06\u5e94\u7528\u6784\u5efa\u5e76\u90e8\u7f72\u5230\u9ed8\u8ba4\uff08Jetty\uff09\u5bb9\u5668\u3002","title":"\u6dfb\u52a0gretty\u63d2\u4ef6\u5e76\u8fd0\u884c\u5e94\u7528"},{"location":"gradle/2-java-web/#apprun","text":"$ ./gradlew appRun :prepareInplaceWebAppFolder :createInplaceWebAppFolder UP-TO-DATE :compileJava :processResources UP-TO-DATE :classes :prepareInplaceWebAppClasses :prepareInplaceWebApp :appRun 12:25:13 INFO Jetty 9.2.15.v20160210 started and listening on port 8080 12:25:13 INFO webdemo runs at: 12:25:13 INFO http://localhost:8080/webdemo Press any key to stop the server. > Building 87% > :appRun BUILD SUCCESSFUL \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u5728http\uff1a// localhost\uff1a8080 / webdemo\u4e0a\u8bbf\u95ee\u8be5Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u5355\u51fb\u94fe\u63a5\u4ee5\u6267\u884cGET\u8bf7\u6c42\u6216\u63d0\u4ea4\u8868\u5355\u4ee5\u6267\u884cPOST\u8bf7\u6c42\u3002 \u5c3d\u7ba1\u8f93\u51fa\u663e\u793a\u6309\u4efb\u610f\u952e\u505c\u6b62\u670d\u52a1\u5668\uff0c\u4f46Gradle\u4e0d\u4f1a\u62e6\u622a\u6807\u51c6\u8f93\u5165\u3002 \u8981\u505c\u6b62\u8be5\u8fc7\u7a0b\uff0c\u8bf7\u6309ctrl-C\u3002","title":"\u6267\u884cappRun\u4efb\u52a1"},{"location":"gradle/2-java-web/#mockitoservlet","text":"\u5f00\u6e90Mockito\u6846\u67b6\u4f7f\u5bf9Java\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u53d8\u5f97\u5bb9\u6613\u3002 \u5c06Mockito\u4f9d\u8d56\u9879\u6dfb\u52a0\u5230testCompile\u914d\u7f6e\u4e0b\u7684\u6784\u5efa\u811a\u672c\u3002 dependencies { providedCompile 'javax.servlet:javax.servlet-api:3.1.0' testCompile 'junit:junit:4.12' testCompile 'org.mockito:mockito-core:2.7.19' // Adding Mockito } \u8981\u5bf9Servlet\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8bf7\u5728src / test / java\u4e0b\u521b\u5efa\u4e00\u4e2a\u8f6f\u4ef6\u5305\u6587\u4ef6\u5939org.gradle.demo\u3002 \u6dfb\u52a0\u5177\u6709\u4ee5\u4e0b\u5185\u5bb9\u7684\u6d4b\u8bd5\u7c7b\u6587\u4ef6HelloServletTest.java\uff1a package org.gradle.demo; import org.junit.Before; import org.junit.Test; import org.mockito.Mock; import org.mockito.MockitoAnnotations; import javax.servlet.RequestDispatcher; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.PrintWriter; import java.io.StringWriter; import static org.junit.Assert.assertEquals; import static org.mockito.Mockito.*; public class HelloServletTest { @Mock private HttpServletRequest request; @Mock private HttpServletResponse response; @Mock private RequestDispatcher requestDispatcher; @Before public void setUp() throws Exception { MockitoAnnotations.initMocks(this); } @Test public void doGet() throws Exception { StringWriter stringWriter = new StringWriter(); PrintWriter printWriter = new PrintWriter(stringWriter); when(response.getWriter()).thenReturn(printWriter); new HelloServlet().doGet(request, response); assertEquals(\"Hello, World!\", stringWriter.toString()); } @Test public void doPostWithoutName() throws Exception { when(request.getRequestDispatcher(\"response.jsp\")) .thenReturn(requestDispatcher); new HelloServlet().doPost(request, response); verify(request).setAttribute(\"user\", \"World\"); verify(requestDispatcher).forward(request,response); } @Test public void doPostWithName() throws Exception { when(request.getParameter(\"name\")).thenReturn(\"Dolly\"); when(request.getRequestDispatcher(\"response.jsp\")) .thenReturn(requestDispatcher); new HelloServlet().doPost(request, response); verify(request).setAttribute(\"user\", \"Dolly\"); verify(requestDispatcher).forward(request,response); } } \u8be5\u6d4b\u8bd5\u5c06\u4e3aHttpServletRequest\uff0cHttpServletResponse\u548cRequestDispatcher\u7c7b\u521b\u5efa\u6a21\u62df\u5bf9\u8c61\u3002 \u5bf9\u4e8edoGet\u6d4b\u8bd5\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u4f7f\u7528StringWriter\u7684PrintWriter\uff0c\u5e76\u4e14\u5c06\u6a21\u62df\u8bf7\u6c42\u5bf9\u8c61\u914d\u7f6e\u4e3a\u5728\u8c03\u7528getWriter\u65b9\u6cd5\u65f6\u5c06\u5176\u8fd4\u56de\u3002 \u8c03\u7528doGet\u65b9\u6cd5\u540e\uff0c\u6d4b\u8bd5\u5c06\u68c0\u67e5\u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u662f\u5426\u6b63\u786e\u3002 \u5bf9\u4e8e\u53d1\u5e03\u8bf7\u6c42\uff0c\u6a21\u62df\u8bf7\u6c42\u88ab\u914d\u7f6e\u4e3a\u8fd4\u56de\u7ed9\u5b9a\u540d\u79f0\uff08\u5982\u679c\u5b58\u5728\uff09\u6216\u8fd4\u56denull\uff0c\u5e76\u4e14getRequestDispatcher\u65b9\u6cd5\u8fd4\u56de\u5173\u8054\u7684\u6a21\u62df\u5bf9\u8c61\u3002 \u8c03\u7528doPost\u65b9\u6cd5\u5c06\u6267\u884c\u8bf7\u6c42\u3002 \u7136\u540eMockito\u9a8c\u8bc1\u662f\u5426\u4f7f\u7528\u9002\u5f53\u7684\u53c2\u6570\u5728\u6a21\u62df\u54cd\u5e94\u4e0a\u8c03\u7528\u4e86setAttribute\u65b9\u6cd5\uff0c\u5e76\u9a8c\u8bc1\u4e86\u5728\u8bf7\u6c42\u5206\u6d3e\u5668\u4e0a\u8c03\u7528\u4e86forward\u65b9\u6cd5\u3002 \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u5c06Gradle\u4e0e\u6d4b\u8bd5\u4efb\u52a1\uff08\u6216\u4f9d\u8d56\u4e8e\u5b83\u7684\u4efb\u4f55\u4efb\u52a1\uff0c\u4f8b\u5982build\uff09\u4e00\u8d77\u4f7f\u7528Gradle\u8fdb\u884c\u6d4b\u8bd5\u3002 $ ./gradlew build :compileJava UP-TO-DATE :processResources UP-TO-DATE :classes UP-TO-DATE :war :assemble :compileTestJava :processTestResources UP-TO-DATE :testClasses :test :check :build BUILD SUCCESSFUL \u53ef\u4ee5\u6309\u5e38\u89c4\u65b9\u5f0f\u4ecebuild / reports / tests / test / index.html\u8bbf\u95ee\u6d4b\u8bd5\u8f93\u51fa\u3002 \u60a8\u5e94\u8be5\u5f97\u5230\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u7ed3\u679c\uff1a","title":"\u4f7f\u7528Mockito\u5bf9Servlet\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5"},{"location":"gradle/2-java-web/#_1","text":"gretty\u63d2\u4ef6\u4e0eGradle\u7ed3\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u5411Web\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u529f\u80fd\u6d4b\u8bd5\u3002 \u8fd9\u6837\u505a\uff0c\u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u60a8\u7684\u751f\u6210\u811a\u672c\uff1a gretty { integrationTestTask = 'test' //Tell gretty to start and stop the server on test } // ... rest from before ... dependencies { providedCompile 'javax.servlet:javax.servlet-api:3.1.0' testCompile 'junit:junit:4.12' testCompile 'org.mockito:mockito-core:2.7.19' testCompile 'io.github.bonigarcia:webdrivermanager:1.6.1' //Automatically installs browser drivers testCompile 'org.seleniumhq.selenium:selenium-java:3.3.1' //Uses Selenium for functional tests } gretty\u63d2\u4ef6\u9700\u8981\u77e5\u9053\u54ea\u4e2a\u4efb\u52a1\u9700\u8981\u542f\u52a8\u548c\u505c\u6b62\u670d\u52a1\u5668\u3002 \u901a\u5e38\uff0c\u8fd9\u662f\u5206\u914d\u7ed9\u60a8\u81ea\u5df1\u7684\u4efb\u52a1\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u4f7f\u4e8b\u60c5\u7b80\u5355\uff0c\u53ea\u9700\u4f7f\u7528\u73b0\u6709\u7684\u6d4b\u8bd5\u4efb\u52a1\u5373\u53ef\u3002 Selenium\u662f\u7528\u4e8e\u7f16\u5199\u529f\u80fd\u6d4b\u8bd5\u7684\u6d41\u884c\u5f00\u6e90API\u3002 2.0\u7248\u57fa\u4e8eWebDriver API\u3002 \u6700\u65b0\u7248\u672c\u8981\u6c42\u6d4b\u8bd5\u4eba\u5458\u4e3a\u4ed6\u4eec\u7684\u6d4f\u89c8\u5668\u4e0b\u8f7d\u5e76\u5b89\u88c5WebDriver\u7248\u672c\uff0c\u8fd9\u5f88\u7e41\u7410\u4e14\u96be\u4ee5\u81ea\u52a8\u5316\u3002 WebDriverManager\u9879\u76ee\u4f7fGradle\u53ef\u4ee5\u8f7b\u677e\u5730\u4e3a\u60a8\u5904\u7406\u8be5\u8fc7\u7a0b\u3002 \u5728src / test / java\u76ee\u5f55\u4e2d\uff0c\u5c06\u4ee5\u4e0b\u529f\u80fd\u6d4b\u8bd5\u6dfb\u52a0\u5230\u60a8\u7684\u9879\u76ee\u4e2d\uff1a package org.gradle.demo; import io.github.bonigarcia.wdm.ChromeDriverManager; import org.junit.After; import org.junit.Before; import org.junit.BeforeClass; import org.junit.Test; import org.openqa.selenium.By; import org.openqa.selenium.WebDriver; import org.openqa.selenium.chrome.ChromeDriver; import static org.junit.Assert.assertEquals; public class HelloServletFunctionalTest { private WebDriver driver; @BeforeClass public static void setupClass() { ChromeDriverManager.getInstance().setup(); //Downloads and installs browser driver, if necessary } @Before public void setUp() { driver = new ChromeDriver(); //Start the browser automation } @After public void tearDown() { if (driver != null) driver.quit(); //Shut down the browser when done } @Test public void sayHello() throws Exception { //Run the functional test using the Selenium API driver.get(\"http://localhost:8080/webdemo\"); driver.findElement(By.id(\"say-hello-text-input\")).sendKeys(\"Dolly\"); driver.findElement(By.id(\"say-hello-button\")).click(); assertEquals(\"Hello Page\", driver.getTitle()); assertEquals(\"Hello, Dolly!\", driver.findElement(By.tagName(\"h2\")).getText()); } } \u6b64\u6d4b\u8bd5\u7684WebDriverManager\u90e8\u5206\u68c0\u67e5\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u6700\u65b0\u7248\u672c\uff0c\u5e76\u5728\u4e0d\u5b58\u5728\u8be5\u4e8c\u8fdb\u5236\u6587\u4ef6\u65f6\u4e0b\u8f7d\u5e76\u5b89\u88c5\u5b83\u3002 \u7136\u540e\uff0csayHello\u6d4b\u8bd5\u65b9\u6cd5\u5c06Chrome\u6d4f\u89c8\u5668\u9a71\u52a8\u5230\u6211\u4eec\u5e94\u7528\u7a0b\u5e8f\u7684\u6839\u76ee\u5f55\uff0c\u586b\u5199\u8f93\u5165\u6587\u672c\u5b57\u6bb5\uff0c\u5355\u51fb\u6309\u94ae\uff0c\u5e76\u9a8c\u8bc1\u76ee\u6807\u9875\u9762\u7684\u6807\u9898\uff0c\u5e76\u4e14h2\u6807\u7b7e\u5305\u542b\u9884\u671f\u7684\u5b57\u7b26\u4e32\u3002 WebDriverManager\u7cfb\u7edf\u652f\u6301Chrome\uff0cOpera\uff0cInternet Explorer\uff0cMicrosoft Edge\uff0cPhantomJS\u548cFirefox\u3002 \u67e5\u770b\u9879\u76ee\u6587\u6863\u4ee5\u83b7\u53d6\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002","title":"\u6dfb\u52a0\u529f\u80fd\u6d4b\u8bd5"},{"location":"gradle/2-java-web/#_2","text":"\u4f7f\u7528\u6d4b\u8bd5\u4efb\u52a1\u8fd0\u884c\u6d4b\u8bd5\uff1a $ ./gradlew test :prepareInplaceWebAppFolder UP-TO-DATE :createInplaceWebAppFolder UP-TO-DATE :compileJava UP-TO-DATE :processResources UP-TO-DATE :classes UP-TO-DATE :prepareInplaceWebAppClasses UP-TO-DATE :prepareInplaceWebApp UP-TO-DATE :compileTestJava UP-TO-DATE :processTestResources UP-TO-DATE :testClasses UP-TO-DATE :appBeforeIntegrationTest 12:57:56 INFO Jetty 9.2.15.v20160210 started and listening on port 8080 12:57:56 INFO webdemo runs at: 12:57:56 INFO http://localhost:8080/webdemo :test :appAfterIntegrationTest Server stopped. BUILD SUCCESSFUL gretty\u63d2\u4ef6\u5728\u9ed8\u8ba4\u7aef\u53e3\u4e0a\u542f\u52a8Jetty 9\u7684\u5d4c\u5165\u5f0f\u7248\u672c\uff0c\u6267\u884c\u6d4b\u8bd5\uff0c\u7136\u540e\u5173\u95ed\u670d\u52a1\u5668\u3002 \u89c2\u770b\u65f6\uff0c\u60a8\u4f1a\u770b\u5230Selenium\u7cfb\u7edf\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\uff0c\u8bbf\u95ee\u8be5\u7f51\u7ad9\uff0c\u586b\u5199\u8868\u683c\uff0c\u5355\u51fb\u6309\u94ae\uff0c\u68c0\u67e5\u65b0\u9875\u9762\uff0c\u6700\u540e\u5173\u95ed\u6d4f\u89c8\u5668\u3002 \u96c6\u6210\u6d4b\u8bd5\u901a\u5e38\u901a\u8fc7\u521b\u5efa\u5355\u72ec\u7684\u6e90\u96c6\u548c\u4e13\u7528\u4efb\u52a1\u8fdb\u884c\u5904\u7406\uff0c\u4f46\u8fd9\u8d85\u51fa\u4e86\u672c\u6307\u5357\u7684\u8303\u56f4\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1Gretty\u6587\u6863\u3002","title":"\u8fd0\u884c\u529f\u80fd\u6d4b\u8bd5"},{"location":"gradle/2-java-web/#_3","text":"","title":"\u6253\u5305\u53d1\u5e03"},{"location":"gradle/2-java-web/#_4","text":"\u5728\u672c\u6307\u5357\u4e2d\uff0c\u60a8\u5b66\u4e60\u4e86\u5982\u4f55\uff1a \u5728Gradle\u6784\u5efa\u4e2d\u4f7f\u7528war\u63d2\u4ef6\u6765\u5b9a\u4e49Web\u5e94\u7528\u7a0b\u5e8f \u5c06Servlet\u548cJSP\u9875\u9762\u6dfb\u52a0\u5230Web\u5e94\u7528\u7a0b\u5e8f \u4f7f\u7528gretty\u63d2\u4ef6\u6765\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f \u4f7f\u7528Mockito\u6846\u67b6\u5bf9Servlet\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5 \u4f7f\u7528gretty\u548cSelenium\u5bf9Web\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u529f\u80fd\u6d4b\u8bd5","title":"\u603b\u7ed3"},{"location":"gradle/3-java-ear/","text":"\u6784\u5efaJ2EE\u5e94\u7528\u7a0b\u5e8f","title":"\u6784\u5efaJ2EE\u5e94\u7528\u7a0b\u5e8f"},{"location":"gradle/3-java-ear/#j2ee","text":"","title":"\u6784\u5efaJ2EE\u5e94\u7528\u7a0b\u5e8f"}]}